!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}:t(e)}("undefined"!=typeof window?window:this,function(w,L){function O(e,t){return t.toUpperCase()}var u=[],f=w.document,c=u.slice,M=u.concat,z=u.push,H=u.indexOf,q={},K=q.toString,g=q.hasOwnProperty,m={},e="1.12.4",C=function(e,t){return new C.fn.init(e,t)},F=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Q=/^-ms-/,B=/-([\da-z])/gi;function G(e){var t=!!e&&"length"in e&&e.length,i=C.type(e);return"function"!==i&&!C.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)}C.fn=C.prototype={jquery:e,constructor:C,selector:"",length:0,toArray:function(){return c.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:c.call(this)},pushStack:function(e){e=C.merge(this.constructor(),e);return e.prevObject=this,e.context=this.context,e},each:function(e){return C.each(this,e)},map:function(i){return this.pushStack(C.map(this,function(e,t){return i.call(e,t,e)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:z,sort:u.sort,splice:u.splice},C.extend=C.fn.extend=function(){var e,t,i,n,o,a=arguments[0]||{},r=1,s=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[r]||{},r++),"object"==typeof a||C.isFunction(a)||(a={}),r===s&&(a=this,r--);r<s;r++)if(null!=(n=arguments[r]))for(i in n)o=a[i],a!==(t=n[i])&&(l&&t&&(C.isPlainObject(t)||(e=C.isArray(t)))?(o=e?(e=!1,o&&C.isArray(o)?o:[]):o&&C.isPlainObject(o)?o:{},a[i]=C.extend(l,o,t)):void 0!==t&&(a[i]=t));return a},C.extend({expando:"jQuery"+(e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===C.type(e)},isArray:Array.isArray||function(e){return"array"===C.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!C.isArray(e)&&0<=t-parseFloat(t)+1},isEmptyObject:function(e){for(var t in e)return!1;return!0},isPlainObject:function(e){if(!e||"object"!==C.type(e)||e.nodeType||C.isWindow(e))return!1;try{if(e.constructor&&!g.call(e,"constructor")&&!g.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!m.ownFirst)for(var t in e)return g.call(e,t);for(t in e);return void 0===t||g.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?q[K.call(e)]||"object":typeof e},globalEval:function(e){e&&C.trim(e)&&(w.execScript||function(e){w.eval.call(w,e)})(e)},camelCase:function(e){return e.replace(Q,"ms-").replace(B,O)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,n=0;if(G(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(F,"")},makeArray:function(e,t){t=t||[];return null!=e&&(G(Object(e))?C.merge(t,"string"==typeof e?[e]:e):z.call(t,e)),t},inArray:function(e,t,i){var n;if(t){if(H)return H.call(t,e,i);for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;n<i;)e[o++]=t[n++];if(i!=i)for(;void 0!==t[n];)e[o++]=t[n++];return e.length=o,e},grep:function(e,t,i){for(var n=[],o=0,a=e.length,r=!i;o<a;o++)!t(e[o],o)!=r&&n.push(e[o]);return n},map:function(e,t,i){var n,o,a=0,r=[];if(G(e))for(n=e.length;a<n;a++)null!=(o=t(e[a],a,i))&&r.push(o);else for(a in e)null!=(o=t(e[a],a,i))&&r.push(o);return M.apply([],r)},guid:1,proxy:function(e,t){var i,n;if("string"==typeof t&&(n=e[t],t=e,e=n),C.isFunction(e))return i=c.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(c.call(arguments)))}).guid=e.guid=e.guid||C.guid++,n},now:function(){return+new Date},support:m}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=u[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){q["[object "+t+"]"]=t.toLowerCase()});function n(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&C(e).is(i))break;n.push(e)}return n}function W(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}var e=function(L){function u(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320)}function O(){C()}var e,f,b,a,M,g,z,H,w,l,d,C,_,t,k,m,n,o,v,I="sizzle"+ +new Date,x=L.document,T=0,q=0,K=de(),F=de(),y=de(),Q=function(e,t){return e===t&&(d=!0),0},B={}.hasOwnProperty,i=[],G=i.pop,W=i.push,N=i.push,V=i.slice,E=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},U="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",r="[\\x20\\t\\r\\n\\f]",s="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Y="\\["+r+"*("+s+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+s+"))|)"+r+"*\\]",X=":("+s+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Y+")*)|.*)\\)|)",J=new RegExp(r+"+","g"),S=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),Z=new RegExp("^"+r+"*,"+r+"*"),ee=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),te=new RegExp("="+r+"*([^\\]'\"]*?)"+r+"*\\]","g"),ie=new RegExp(X),ne=new RegExp("^"+s+"$"),h={ID:new RegExp("^#("+s+")"),CLASS:new RegExp("^\\.("+s+")"),TAG:new RegExp("^("+s+"|[*])"),ATTR:new RegExp("^"+Y),PSEUDO:new RegExp("^"+X),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:"+U+")$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},oe=/^(?:input|select|textarea|button)$/i,ae=/^h\d$/i,c=/^[^{]+\{\s*\[native \w/,re=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,se=/[+~]/,le=/'|\\/g,p=new RegExp("\\\\([\\da-f]{1,6}"+r+"?|("+r+")|.)","ig");try{N.apply(i=V.call(x.childNodes),x.childNodes),i[x.childNodes.length].nodeType}catch(e){N={apply:i.length?function(e,t){W.apply(e,V.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function $(e,t,i,n){var o,a,r,s,l,d,c,u,h=t&&t.ownerDocument,p=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return i;if(!n&&((t?t.ownerDocument||t:x)!==_&&C(t),t=t||_,k)){if(11!==p&&(d=re.exec(e)))if(o=d[1]){if(9===p){if(!(r=t.getElementById(o)))return i;if(r.id===o)return i.push(r),i}else if(h&&(r=h.getElementById(o))&&v(t,r)&&r.id===o)return i.push(r),i}else{if(d[2])return N.apply(i,t.getElementsByTagName(e)),i;if((o=d[3])&&f.getElementsByClassName&&t.getElementsByClassName)return N.apply(i,t.getElementsByClassName(o)),i}if(f.qsa&&!y[e+" "]&&(!m||!m.test(e))){if(1!==p)h=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(le,"\\$&"):t.setAttribute("id",s=I),a=(c=g(e)).length,l=ne.test(s)?"#"+s:"[id='"+s+"']";a--;)c[a]=l+" "+j(c[a]);u=c.join(","),h=se.test(e)&&he(t.parentNode)||t}if(u)try{return N.apply(i,h.querySelectorAll(u)),i}catch(e){}finally{s===I&&t.removeAttribute("id")}}}return H(e.replace(S,"$1"),t,i,n)}function de(){var i=[];function n(e,t){return i.push(e+" ")>b.cacheLength&&delete n[i.shift()],n[e+" "]=t}return n}function D(e){return e[I]=!0,e}function P(e){var t=_.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function ce(e,t){for(var i=e.split("|"),n=i.length;n--;)b.attrHandle[i[n]]=t}function ue(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function R(r){return D(function(a){return a=+a,D(function(e,t){for(var i,n=r([],e.length,a),o=n.length;o--;)e[i=n[o]]&&(e[i]=!(t[i]=e[i]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=$.support={},M=$.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},C=$.setDocument=function(e){var e=e?e.ownerDocument||e:x;return e!==_&&9===e.nodeType&&e.documentElement&&(t=(_=e).documentElement,k=!M(_),(e=_.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",O,!1):e.attachEvent&&e.attachEvent("onunload",O)),f.attributes=P(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=P(function(e){return e.appendChild(_.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=c.test(_.getElementsByClassName),f.getById=P(function(e){return t.appendChild(e).id=I,!_.getElementsByName||!_.getElementsByName(I).length}),f.getById?(b.find.ID=function(e,t){if(void 0!==t.getElementById&&k)return(t=t.getElementById(e))?[t]:[]},b.filter.ID=function(e){var t=e.replace(p,u);return function(e){return e.getAttribute("id")===t}}):(delete b.find.ID,b.filter.ID=function(e){var t=e.replace(p,u);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}}),b.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],o=0,a=t.getElementsByTagName(e);if("*"!==e)return a;for(;i=a[o++];)1===i.nodeType&&n.push(i);return n},b.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&k)return t.getElementsByClassName(e)},n=[],m=[],(f.qsa=c.test(_.querySelectorAll))&&(P(function(e){t.appendChild(e).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+r+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+r+"*(?:value|"+U+")"),e.querySelectorAll("[id~="+I+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+I+"+*").length||m.push(".#.+[+~]")}),P(function(e){var t=_.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+r+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(f.matchesSelector=c.test(o=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.msMatchesSelector))&&P(function(e){f.disconnectedMatch=o.call(e,"div"),o.call(e,"[s!='']:x"),n.push("!=",X)}),m=m.length&&new RegExp(m.join("|")),n=n.length&&new RegExp(n.join("|")),e=c.test(t.compareDocumentPosition),v=e||c.test(t.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(i.contains?i.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Q=e?function(e,t){var i;return e===t?(d=!0,0):(i=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===i?e===_||e.ownerDocument===x&&v(x,e)?-1:t===_||t.ownerDocument===x&&v(x,t)?1:l?E(l,e)-E(l,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var i,n=0,o=e.parentNode,a=t.parentNode,r=[e],s=[t];if(!o||!a)return e===_?-1:t===_?1:o?-1:a?1:l?E(l,e)-E(l,t):0;if(o===a)return ue(e,t);for(i=e;i=i.parentNode;)r.unshift(i);for(i=t;i=i.parentNode;)s.unshift(i);for(;r[n]===s[n];)n++;return n?ue(r[n],s[n]):r[n]===x?-1:s[n]===x?1:0}),_},$.matches=function(e,t){return $(e,null,null,t)},$.matchesSelector=function(e,t){if((e.ownerDocument||e)!==_&&C(e),t=t.replace(te,"='$1']"),f.matchesSelector&&k&&!y[t+" "]&&(!n||!n.test(t))&&(!m||!m.test(t)))try{var i=o.call(e,t);if(i||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return 0<$(t,_,null,[e]).length},$.contains=function(e,t){return(e.ownerDocument||e)!==_&&C(e),v(e,t)},$.attr=function(e,t){(e.ownerDocument||e)!==_&&C(e);var i=b.attrHandle[t.toLowerCase()],i=i&&B.call(b.attrHandle,t.toLowerCase())?i(e,t,!k):void 0;return void 0!==i?i:f.attributes||!k?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},$.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},$.uniqueSort=function(e){var t,i=[],n=0,o=0;if(d=!f.detectDuplicates,l=!f.sortStable&&e.slice(0),e.sort(Q),d){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return l=null,e},a=$.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=a(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=a(t);return i},(b=$.selectors={cacheLength:50,createPseudo:D,match:h,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(p,u),e[3]=(e[3]||e[4]||e[5]||"").replace(p,u),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||$.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&$.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return h.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ie.test(i)&&(t=(t=g(i,!0))&&i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(p,u).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=K[e+" "];return t||(t=new RegExp("(^|"+r+")"+e+"("+r+"|$)"))&&K(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(e){e=$.attr(e,t);return null==e?"!="===i:!i||(e+="","="===i?e===n:"!="===i?e!==n:"^="===i?n&&0===e.indexOf(n):"*="===i?n&&-1<e.indexOf(n):"$="===i?n&&e.slice(-n.length)===n:"~="===i?-1<(" "+e.replace(J," ")+" ").indexOf(n):"|="===i&&(e===n||e.slice(0,n.length+1)===n+"-"))}},CHILD:function(f,e,t,g,m){var v="nth"!==f.slice(0,3),x="last"!==f.slice(-4),y="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,i){var n,o,a,r,s,l,d=v!=x?"nextSibling":"previousSibling",c=e.parentNode,u=y&&e.nodeName.toLowerCase(),h=!i&&!y,p=!1;if(c){if(v){for(;d;){for(r=e;r=r[d];)if(y?r.nodeName.toLowerCase()===u:1===r.nodeType)return!1;l=d="only"===f&&!l&&"nextSibling"}return!0}if(l=[x?c.firstChild:c.lastChild],x&&h){for(p=(s=(n=(o=(a=(r=c)[I]||(r[I]={}))[r.uniqueID]||(a[r.uniqueID]={}))[f]||[])[0]===T&&n[1])&&n[2],r=s&&c.childNodes[s];r=++s&&r&&r[d]||(p=s=0,l.pop());)if(1===r.nodeType&&++p&&r===e){o[f]=[T,s,p];break}}else if(!1===(p=h?s=(n=(o=(a=(r=e)[I]||(r[I]={}))[r.uniqueID]||(a[r.uniqueID]={}))[f]||[])[0]===T&&n[1]:p))for(;(r=++s&&r&&r[d]||(p=s=0,l.pop()))&&((y?r.nodeName.toLowerCase()!==u:1!==r.nodeType)||!++p||(h&&((o=(a=r[I]||(r[I]={}))[r.uniqueID]||(a[r.uniqueID]={}))[f]=[T,p]),r!==e)););return(p-=m)===g||p%g==0&&0<=p/g}}},PSEUDO:function(e,a){var t,r=b.pseudos[e]||b.setFilters[e.toLowerCase()]||$.error("unsupported pseudo: "+e);return r[I]?r(a):1<r.length?(t=[e,e,"",a],b.setFilters.hasOwnProperty(e.toLowerCase())?D(function(e,t){for(var i,n=r(e,a),o=n.length;o--;)e[i=E(e,n[o])]=!(t[i]=n[o])}):function(e){return r(e,0,t)}):r}},pseudos:{not:D(function(e){var n=[],o=[],s=z(e.replace(S,"$1"));return s[I]?D(function(e,t,i,n){for(var o,a=s(e,null,n,[]),r=e.length;r--;)(o=a[r])&&(e[r]=!(t[r]=o))}):function(e,t,i){return n[0]=e,s(n,null,i,o),n[0]=null,!o.pop()}}),has:D(function(t){return function(e){return 0<$(t,e).length}}),contains:D(function(t){return t=t.replace(p,u),function(e){return-1<(e.textContent||e.innerText||a(e)).indexOf(t)}}),lang:D(function(i){return ne.test(i||"")||$.error("unsupported lang: "+i),i=i.replace(p,u).toLowerCase(),function(e){var t;do{if(t=k?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=L.location&&L.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===t},focus:function(e){return e===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return ae.test(e.nodeName)},input:function(e){return oe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:R(function(){return[0]}),last:R(function(e,t){return[t-1]}),eq:R(function(e,t,i){return[i<0?i+t:i]}),even:R(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:R(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:R(function(e,t,i){for(var n=i<0?i+t:i;0<=--n;)e.push(n);return e}),gt:R(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=function(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}(e);function pe(){}function j(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function fe(r,e,t){var s=e.dir,l=t&&"parentNode"===s,d=q++;return e.first?function(e,t,i){for(;e=e[s];)if(1===e.nodeType||l)return r(e,t,i)}:function(e,t,i){var n,o,a=[T,d];if(i){for(;e=e[s];)if((1===e.nodeType||l)&&r(e,t,i))return!0}else for(;e=e[s];)if(1===e.nodeType||l){if((n=(o=(o=e[I]||(e[I]={}))[e.uniqueID]||(o[e.uniqueID]={}))[s])&&n[0]===T&&n[1]===d)return a[2]=n[2];if((o[s]=a)[2]=r(e,t,i))return!0}}}function ge(o){return 1<o.length?function(e,t,i){for(var n=o.length;n--;)if(!o[n](e,t,i))return!1;return!0}:o[0]}function A(e,t,i,n,o){for(var a,r=[],s=0,l=e.length,d=null!=t;s<l;s++)!(a=e[s])||i&&!i(a,n,o)||(r.push(a),d&&t.push(s));return r}function me(p,f,g,m,v,e){return m&&!m[I]&&(m=me(m)),v&&!v[I]&&(v=me(v,e)),D(function(e,t,i,n){var o,a,r,s=[],l=[],d=t.length,c=e||function(e,t,i){for(var n=0,o=t.length;n<o;n++)$(e,t[n],i);return i}(f||"*",i.nodeType?[i]:i,[]),u=!p||!e&&f?c:A(c,s,p,i,n),h=g?v||(e?p:d||m)?[]:t:u;if(g&&g(u,h,i,n),m)for(o=A(h,l),m(o,[],i,n),a=o.length;a--;)(r=o[a])&&(h[l[a]]=!(u[l[a]]=r));if(e){if(v||p){if(v){for(o=[],a=h.length;a--;)(r=h[a])&&o.push(u[a]=r);v(null,h=[],o,n)}for(a=h.length;a--;)(r=h[a])&&-1<(o=v?E(e,r):s[a])&&(e[o]=!(t[o]=r))}}else h=A(h===t?h.splice(d,h.length):h),v?v(null,t,h,n):N.apply(t,h)})}function ve(m,v){function e(e,t,i,n,o){var a,r,s,l=0,d="0",c=e&&[],u=[],h=w,p=e||y&&b.find.TAG("*",o),f=T+=null==h?1:Math.random()||.1,g=p.length;for(o&&(w=t===_||t||o);d!==g&&null!=(a=p[d]);d++){if(y&&a){for(r=0,t||a.ownerDocument===_||(C(a),i=!k);s=m[r++];)if(s(a,t||_,i)){n.push(a);break}o&&(T=f)}x&&((a=!s&&a)&&l--,e)&&c.push(a)}if(l+=d,x&&d!==l){for(r=0;s=v[r++];)s(c,u,t,i);if(e){if(0<l)for(;d--;)c[d]||u[d]||(u[d]=G.call(n));u=A(u)}N.apply(n,u),o&&!e&&0<u.length&&1<l+v.length&&$.uniqueSort(n)}return o&&(T=f,w=h),c}var x=0<v.length,y=0<m.length;return x?D(e):e}return pe.prototype=b.filters=b.pseudos,b.setFilters=new pe,g=$.tokenize=function(e,t){var i,n,o,a,r,s,l,d=F[e+" "];if(d)return t?0:d.slice(0);for(r=e,s=[],l=b.preFilter;r;){for(a in i&&!(n=Z.exec(r))||(n&&(r=r.slice(n[0].length)||r),s.push(o=[])),i=!1,(n=ee.exec(r))&&(i=n.shift(),o.push({value:i,type:n[0].replace(S," ")}),r=r.slice(i.length)),b.filter)!(n=h[a].exec(r))||l[a]&&!(n=l[a](n))||(i=n.shift(),o.push({value:i,type:a,matches:n}),r=r.slice(i.length));if(!i)break}return t?r.length:r?$.error(e):F(e,s).slice(0)},z=$.compile=function(e,t){var i,n=[],o=[],a=y[e+" "];if(!a){for(i=(t=t||g(e)).length;i--;)((a=function e(t){for(var n,i,o,a=t.length,r=b.relative[t[0].type],s=r||b.relative[" "],l=r?1:0,d=fe(function(e){return e===n},s,!0),c=fe(function(e){return-1<E(n,e)},s,!0),u=[function(e,t,i){return e=!r&&(i||t!==w)||((n=t).nodeType?d:c)(e,t,i),n=null,e}];l<a;l++)if(i=b.relative[t[l].type])u=[fe(ge(u),i)];else{if((i=b.filter[t[l].type].apply(null,t[l].matches))[I]){for(o=++l;o<a&&!b.relative[t[o].type];o++);return me(1<l&&ge(u),1<l&&j(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(S,"$1"),i,l<o&&e(t.slice(l,o)),o<a&&e(t=t.slice(o)),o<a&&j(t))}u.push(i)}return ge(u)}(t[i]))[I]?n:o).push(a);(a=y(e,ve(o,n))).selector=e}return a},H=$.select=function(e,t,i,n){var o,a,r,s,l,d="function"==typeof e&&e,c=!n&&g(e=d.selector||e);if(i=i||[],1===c.length){if(2<(a=c[0]=c[0].slice(0)).length&&"ID"===(r=a[0]).type&&f.getById&&9===t.nodeType&&k&&b.relative[a[1].type]){if(!(t=(b.find.ID(r.matches[0].replace(p,u),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(o=h.needsContext.test(e)?0:a.length;o--&&(r=a[o],!b.relative[s=r.type]);)if((l=b.find[s])&&(n=l(r.matches[0].replace(p,u),se.test(a[0].type)&&he(t.parentNode)||t))){if(a.splice(o,1),e=n.length&&j(a))break;return N.apply(i,n),i}}return(d||z(e,c))(n,t,!k,i,!t||se.test(e)&&he(t.parentNode)||t),i},f.sortStable=I.split("").sort(Q).join("")===I,f.detectDuplicates=!!d,C(),f.sortDetached=P(function(e){return 1&e.compareDocumentPosition(_.createElement("div"))}),P(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&P(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),P(function(e){return null==e.getAttribute("disabled")})||ce(U,function(e,t,i){if(!i)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),$}(w),V=(C.find=e,C.expr=e.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=e.uniqueSort,C.text=e.getText,C.isXMLDoc=e.isXML,C.contains=e.contains,C.expr.match.needsContext),U=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Y=/^.[^:#\[\.,]*$/;function X(e,i,n){if(C.isFunction(i))return C.grep(e,function(e,t){return!!i.call(e,t,e)!==n});if(i.nodeType)return C.grep(e,function(e){return e===i!==n});if("string"==typeof i){if(Y.test(i))return C.filter(i,e,n);i=C.filter(i,e)}return C.grep(e,function(e){return-1<C.inArray(e,i)!==n})}C.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?C.find.matchesSelector(n,e)?[n]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,i=[],n=this,o=n.length;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<o;t++)if(C.contains(n[t],this))return!0}));for(t=0;t<o;t++)C.find(e,n[t],i);return(i=this.pushStack(1<o?C.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(X(this,e||[],!1))},not:function(e){return this.pushStack(X(this,e||[],!0))},is:function(e){return!!X(this,"string"==typeof e&&V.test(e)?C(e):e||[],!1).length}});var J,Z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ee=((C.fn.init=function(e,t,i){if(e){if(i=i||J,"string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):C.isFunction(e)?void 0!==i.ready?i.ready(e):e(C):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),C.makeArray(e,this));if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Z.exec(e))||!n[1]&&t)return(!t||t.jquery?t||i:this.constructor(t)).find(e);if(n[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),U.test(n[1])&&C.isPlainObject(t))for(var n in t)C.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n])}else{if((i=f.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return J.find(e);this.length=1,this[0]=i}this.context=f,this.selector=e}}return this}).prototype=C.fn,J=C(f),/^(?:parents|prev(?:Until|All))/),te={children:!0,contents:!0,next:!0,prev:!0};function ie(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t,i=C(e,this),n=i.length;return this.filter(function(){for(t=0;t<n;t++)if(C.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,o=this.length,a=[],r=V.test(e)||"string"!=typeof e?C(e,t||this.context):0;n<o;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(r?-1<r.index(i):1===i.nodeType&&C.find.matchesSelector(i,e))){a.push(i);break}return this.pushStack(1<a.length?C.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?C.inArray(this[0],C(e)):C.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return n(e,"parentNode")},parentsUntil:function(e,t,i){return n(e,"parentNode",i)},next:function(e){return ie(e,"nextSibling")},prev:function(e){return ie(e,"previousSibling")},nextAll:function(e){return n(e,"nextSibling")},prevAll:function(e){return n(e,"previousSibling")},nextUntil:function(e,t,i){return n(e,"nextSibling",i)},prevUntil:function(e,t,i){return n(e,"previousSibling",i)},siblings:function(e){return W((e.parentNode||{}).firstChild,e)},children:function(e){return W(e.firstChild)},contents:function(e){return C.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:C.merge([],e.childNodes)}},function(n,o){C.fn[n]=function(e,t){var i=C.map(this,o,e);return(t="Until"!==n.slice(-5)?e:t)&&"string"==typeof t&&(i=C.filter(t,i)),1<this.length&&(te[n]||(i=C.uniqueSort(i)),ee.test(n))&&(i=i.reverse()),this.pushStack(i)}});var ne,oe,_=/\S+/g;function ae(){f.addEventListener?(f.removeEventListener("DOMContentLoaded",t),w.removeEventListener("load",t)):(f.detachEvent("onreadystatechange",t),w.detachEvent("onload",t))}function t(){!f.addEventListener&&"load"!==w.event.type&&"complete"!==f.readyState||(ae(),C.ready())}for(oe in C.Callbacks=function(n){var e,i;n="string"==typeof n?(e=n,i={},C.each(e.match(_)||[],function(e,t){i[t]=!0}),i):C.extend({},n);function o(){for(s=n.once,r=a=!0;d.length;c=-1)for(t=d.shift();++c<l.length;)!1===l[c].apply(t[0],t[1])&&n.stopOnFalse&&(c=l.length,t=!1);n.memory||(t=!1),a=!1,s&&(l=t?[]:"")}var a,t,r,s,l=[],d=[],c=-1,u={add:function(){return l&&(t&&!a&&(c=l.length-1,d.push(t)),function i(e){C.each(e,function(e,t){C.isFunction(t)?n.unique&&u.has(t)||l.push(t):t&&t.length&&"string"!==C.type(t)&&i(t)})}(arguments),t)&&!a&&o(),this},remove:function(){return C.each(arguments,function(e,t){for(var i;-1<(i=C.inArray(t,l,i));)l.splice(i,1),i<=c&&c--}),this},has:function(e){return e?-1<C.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=d=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=!0,t||u.disable(),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],d.push(t),a)||o(),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},C.extend({Deferred:function(e){var a=[["resolve","done",C.Callbacks("once memory"),"resolved"],["reject","fail",C.Callbacks("once memory"),"rejected"],["notify","progress",C.Callbacks("memory")]],o="pending",r={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return C.Deferred(function(n){C.each(a,function(e,t){var i=C.isFunction(o[e])&&o[e];s[t[1]](function(){var e=i&&i.apply(this,arguments);e&&C.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this===r?n.promise():this,i?[e]:arguments)})}),o=null}).promise()},promise:function(e){return null!=e?C.extend(e,r):r}},s={};return r.pipe=r.then,C.each(a,function(e,t){var i=t[2],n=t[3];r[t[1]]=i.add,n&&i.add(function(){o=n},a[1^e][2].disable,a[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?r:this,arguments),this},s[t[0]+"With"]=i.fireWith}),r.promise(s),e&&e.call(s,s),s},when:function(e){function t(t,i,n){return function(e){i[t]=this,n[t]=1<arguments.length?c.call(arguments):e,n===o?d.notifyWith(i,n):--l||d.resolveWith(i,n)}}var o,i,n,a=0,r=c.call(arguments),s=r.length,l=1!==s||e&&C.isFunction(e.promise)?s:0,d=1===l?e:C.Deferred();if(1<s)for(o=new Array(s),i=new Array(s),n=new Array(s);a<s;a++)r[a]&&C.isFunction(r[a].promise)?r[a].promise().progress(t(a,i,o)).done(t(a,n,r)).fail(d.reject):--l;return l||d.resolveWith(n,r),d.promise()}}),C.fn.ready=function(e){return C.ready.promise().done(e),this},C.extend({isReady:!1,readyWait:1,holdReady:function(e){e?C.readyWait++:C.ready(!0)},ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||(ne.resolveWith(f,[C]),C.fn.triggerHandler&&(C(f).triggerHandler("ready"),C(f).off("ready")))}}),C.ready.promise=function(e){if(!ne)if(ne=C.Deferred(),"complete"===f.readyState||"loading"!==f.readyState&&!f.documentElement.doScroll)w.setTimeout(C.ready);else if(f.addEventListener)f.addEventListener("DOMContentLoaded",t),w.addEventListener("load",t);else{f.attachEvent("onreadystatechange",t),w.attachEvent("onload",t);var i=!1;try{i=null==w.frameElement&&f.documentElement}catch(e){}i&&i.doScroll&&!function t(){if(!C.isReady){try{i.doScroll("left")}catch(e){return w.setTimeout(t,50)}ae(),C.ready()}}()}return ne.promise(e)},C.ready.promise(),C(m))break;m.ownFirst="0"===oe,m.inlineBlockNeedsLayout=!1,C(function(){var e,t,i=f.getElementsByTagName("body")[0];i&&i.style&&(e=f.createElement("div"),(t=f.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(t).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",m.inlineBlockNeedsLayout=e=3===e.offsetWidth,e)&&(i.style.zoom=1),i.removeChild(t))});e=f.createElement("div");m.deleteExpando=!0;try{delete e.test}catch(e){m.deleteExpando=!1}function v(e){var t=C.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)}var o,re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,se=/([A-Z])/g;function le(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(se,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:re.test(i)?C.parseJSON(i):i)}catch(e){}C.data(e,t,i)}else i=void 0}return i}function de(e){for(var t in e)if(("data"!==t||!C.isEmptyObject(e[t]))&&"toJSON"!==t)return;return 1}function ce(e,t,i,n){if(v(e)){var o,a=C.expando,r=e.nodeType,s=r?C.cache:e,l=r?e[a]:e[a]&&a;if(l&&s[l]&&(n||s[l].data)||void 0!==i||"string"!=typeof t)return s[l=l||(r?e[a]=u.pop()||C.guid++:a)]||(s[l]=r?{}:{toJSON:C.noop}),"object"!=typeof t&&"function"!=typeof t||(n?s[l]=C.extend(s[l],t):s[l].data=C.extend(s[l].data,t)),e=s[l],n||(e.data||(e.data={}),e=e.data),void 0!==i&&(e[C.camelCase(t)]=i),"string"==typeof t?null==(o=e[t])&&(o=e[C.camelCase(t)]):o=e,o}}function ue(e,t,i){if(v(e)){var n,o,a=e.nodeType,r=a?C.cache:e,s=a?e[C.expando]:C.expando;if(r[s]){if(t&&(n=i?r[s]:r[s].data)){o=(t=C.isArray(t)?t.concat(C.map(t,C.camelCase)):t in n||(t=C.camelCase(t))in n?[t]:t.split(" ")).length;for(;o--;)delete n[t[o]];if(i?!de(n):!C.isEmptyObject(n))return}(i||(delete r[s].data,de(r[s])))&&(a?C.cleanData([e],!0):m.deleteExpando||r!=r.window?delete r[s]:r[s]=void 0)}}}C.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?C.cache[e[C.expando]]:e[C.expando])&&!de(e)},data:function(e,t,i){return ce(e,t,i)},removeData:function(e,t){return ue(e,t)},_data:function(e,t,i){return ce(e,t,i,!0)},_removeData:function(e,t){return ue(e,t,!0)}}),C.fn.extend({data:function(e,t){var i,n,o,a=this[0],r=a&&a.attributes;if(void 0!==e)return"object"==typeof e?this.each(function(){C.data(this,e)}):1<arguments.length?this.each(function(){C.data(this,e,t)}):a?le(a,e,C.data(a,e)):void 0;if(this.length&&(o=C.data(a),1===a.nodeType)&&!C._data(a,"parsedAttrs")){for(i=r.length;i--;)r[i]&&0===(n=r[i].name).indexOf("data-")&&le(a,n=C.camelCase(n.slice(5)),o[n]);C._data(a,"parsedAttrs",!0)}return o},removeData:function(e){return this.each(function(){C.removeData(this,e)})}}),C.extend({queue:function(e,t,i){var n;if(e)return n=C._data(e,t=(t||"fx")+"queue"),i&&(!n||C.isArray(i)?n=C._data(e,t,C.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=C.queue(e,t),n=i.length,o=i.shift(),a=C._queueHooks(e,t);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete a.stop,o.call(e,function(){C.dequeue(e,t)},a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return C._data(e,i)||C._data(e,i,{empty:C.Callbacks("once memory").add(function(){C._removeData(e,t+"queue"),C._removeData(e,i)})})}}),C.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===i?this:this.each(function(){var e=C.queue(this,t,i);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function i(){--o||a.resolveWith(r,[r])}var n,o=1,a=C.Deferred(),r=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=C._data(r[s],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(i));return i(),a.promise(t)}}),m.shrinkWrapBlocks=function(){var e,t,i;return null!=o?o:(o=!1,(t=f.getElementsByTagName("body")[0])&&t.style?(e=f.createElement("div"),(i=f.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(i).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(f.createElement("div")).style.width="5px",o=3!==e.offsetWidth),t.removeChild(i),o):void 0)};function he(e,t){return"none"===C.css(e=t||e,"display")||!C.contains(e.ownerDocument,e)}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pe=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),s=["Top","Right","Bottom","Left"];function fe(e,t,i,n){var o,a=1,r=20,s=n?function(){return n.cur()}:function(){return C.css(e,t,"")},l=s(),d=i&&i[3]||(C.cssNumber[t]?"":"px"),c=(C.cssNumber[t]||"px"!==d&&+l)&&pe.exec(C.css(e,t));if(c&&c[3]!==d)for(d=d||c[3],i=i||[],c=+l||1;c/=a=a||".5",C.style(e,t,c+d),a!==(a=s()/l)&&1!==a&&--r;);return i&&(c=+c||+l||0,o=i[1]?c+(i[1]+1)*i[2]:+i[2],n)&&(n.unit=d,n.start=c,n.end=o),o}function h(e,t,i,n,o,a,r){var s=0,l=e.length,d=null==i;if("object"===C.type(i))for(s in o=!0,i)h(e,t,s,i[s],!0,a,r);else if(void 0!==n&&(o=!0,C.isFunction(n)||(r=!0),t=d?r?(t.call(e,n),null):(d=t,function(e,t,i){return d.call(C(e),i)}):t))for(;s<l;s++)t(e[s],i,r?n:n.call(e[s],s,t(e[s],i)));return o?e:d?t.call(e):l?t(e[0],i):a}var ge=/^(?:checkbox|radio)$/i,me=/<([\w:-]+)/,ve=/^$|\/(?:java|ecma)script/i,xe=/^\s+/,ye="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function be(e){var t=ye.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}N=f.createElement("div"),T=f.createDocumentFragment(),R=f.createElement("input"),N.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",m.leadingWhitespace=3===N.firstChild.nodeType,m.tbody=!N.getElementsByTagName("tbody").length,m.htmlSerialize=!!N.getElementsByTagName("link").length,m.html5Clone="<:nav></:nav>"!==f.createElement("nav").cloneNode(!0).outerHTML,R.type="checkbox",R.checked=!0,T.appendChild(R),m.appendChecked=R.checked,N.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!N.cloneNode(!0).lastChild.defaultValue,T.appendChild(N),(R=f.createElement("input")).setAttribute("type","radio"),R.setAttribute("checked","checked"),R.setAttribute("name","t"),N.appendChild(R),m.checkClone=N.cloneNode(!0).cloneNode(!0).lastChild.checked,m.noCloneEvent=!!N.addEventListener,N[C.expando]=1,m.attributes=!N.getAttribute(C.expando);var x={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:m.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};function y(e,t){var i,n,o=0,a=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!a)for(a=[],i=e.childNodes||e;null!=(n=i[o]);o++)!t||C.nodeName(n,t)?a.push(n):C.merge(a,y(n,t));return void 0===t||t&&C.nodeName(e,t)?C.merge([e],a):a}function we(e,t){for(var i,n=0;null!=(i=e[n]);n++)C._data(i,"globalEval",!t||C._data(t[n],"globalEval"))}x.optgroup=x.option,x.tbody=x.tfoot=x.colgroup=x.caption=x.thead,x.th=x.td;var Ce=/<|&#?\w+;/,_e=/<tbody/i;function ke(e){ge.test(e.type)&&(e.defaultChecked=e.checked)}function Ie(e,t,i,n,o){for(var a,r,s,l,d,c,u,h=e.length,p=be(t),f=[],g=0;g<h;g++)if((r=e[g])||0===r)if("object"===C.type(r))C.merge(f,r.nodeType?[r]:r);else if(Ce.test(r)){for(l=l||p.appendChild(t.createElement("div")),d=(me.exec(r)||["",""])[1].toLowerCase(),u=x[d]||x._default,l.innerHTML=u[1]+C.htmlPrefilter(r)+u[2],a=u[0];a--;)l=l.lastChild;if(!m.leadingWhitespace&&xe.test(r)&&f.push(t.createTextNode(xe.exec(r)[0])),!m.tbody)for(a=(r="table"!==d||_e.test(r)?"<table>"!==u[1]||_e.test(r)?0:l:l.firstChild)&&r.childNodes.length;a--;)C.nodeName(c=r.childNodes[a],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(C.merge(f,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=p.lastChild}else f.push(t.createTextNode(r));for(l&&p.removeChild(l),m.appendChecked||C.grep(y(f,"input"),ke),g=0;r=f[g++];)if(n&&-1<C.inArray(r,n))o&&o.push(r);else if(s=C.contains(r.ownerDocument,r),l=y(p.appendChild(r),"script"),s&&we(l),i)for(a=0;r=l[a++];)ve.test(r.type||"")&&i.push(r);return l=null,p}var Te,Ne,Ee=f.createElement("div");for(Te in{submit:!0,change:!0,focusin:!0})(m[Te]=(Ne="on"+Te)in w)||(Ee.setAttribute(Ne,"t"),m[Te]=!1===Ee.attributes[Ne].expando);var Se=/^(?:input|select|textarea)$/i,$e=/^key/,De=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Pe=/^(?:focusinfocus|focusoutblur)$/,Re=/^([^.]*)(?:\.(.+)|)/;function je(){return!0}function l(){return!1}function Ae(){try{return f.activeElement}catch(e){}}function Le(e,t,i,n,o,a){var r,s;if("object"==typeof t){for(s in"string"!=typeof i&&(n=n||i,i=void 0),t)Le(e,s,i,n,t[s],a);return e}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=l;else if(!o)return e;return 1===a&&(r=o,(o=function(e){return C().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=C.guid++)),e.each(function(){C.event.add(this,t,o,n,i)})}C.event={global:{},add:function(e,t,i,n,o){var a,r,s,l,d,c,u,h,p,f=C._data(e);if(f)for(i.handler&&(i=(s=i).handler,o=s.selector),i.guid||(i.guid=C.guid++),a=(a=f.events)||(f.events={}),(d=f.handle)||((d=f.handle=function(e){return void 0===C||e&&C.event.triggered===e.type?void 0:C.event.dispatch.apply(d.elem,arguments)}).elem=e),r=(t=(t||"").match(_)||[""]).length;r--;)u=p=(h=Re.exec(t[r])||[])[1],h=(h[2]||"").split(".").sort(),u&&(l=C.event.special[u]||{},u=(o?l.delegateType:l.bindType)||u,l=C.event.special[u]||{},p=C.extend({type:u,origType:p,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:h.join(".")},s),(c=a[u])||((c=a[u]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,n,h,d))||(e.addEventListener?e.addEventListener(u,d,!1):e.attachEvent&&e.attachEvent("on"+u,d)),l.add&&(l.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),o?c.splice(c.delegateCount++,0,p):c.push(p),C.event.global[u]=!0)},remove:function(e,t,i,n,o){var a,r,s,l,d,c,u,h,p,f,g,m=C.hasData(e)&&C._data(e);if(m&&(c=m.events)){for(d=(t=(t||"").match(_)||[""]).length;d--;)if(p=g=(s=Re.exec(t[d])||[])[1],f=(s[2]||"").split(".").sort(),p){for(u=C.event.special[p]||{},h=c[p=(n?u.delegateType:u.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=h.length;a--;)r=h[a],!o&&g!==r.origType||i&&i.guid!==r.guid||s&&!s.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(h.splice(a,1),r.selector&&h.delegateCount--,u.remove&&u.remove.call(e,r));l&&!h.length&&(u.teardown&&!1!==u.teardown.call(e,f,m.handle)||C.removeEvent(e,p,m.handle),delete c[p])}else for(p in c)C.event.remove(e,p+t[d],i,n,!0);C.isEmptyObject(c)&&(delete m.handle,C._removeData(e,"events"))}},trigger:function(e,t,i,n){var o,a,r,s,l,d,c=[i||f],u=g.call(e,"type")?e.type:e,h=g.call(e,"namespace")?e.namespace.split("."):[],p=l=i=i||f;if(3!==i.nodeType&&8!==i.nodeType&&!Pe.test(u+C.event.triggered)&&(-1<u.indexOf(".")&&(u=(h=u.split(".")).shift(),h.sort()),a=u.indexOf(":")<0&&"on"+u,(e=e[C.expando]?e:new C.Event(u,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:C.makeArray(t,[e]),s=C.event.special[u]||{},n||!s.trigger||!1!==s.trigger.apply(i,t))){if(!n&&!s.noBubble&&!C.isWindow(i)){for(r=s.delegateType||u,Pe.test(r+u)||(p=p.parentNode);p;p=p.parentNode)c.push(p),l=p;l===(i.ownerDocument||f)&&c.push(l.defaultView||l.parentWindow||w)}for(d=0;(p=c[d++])&&!e.isPropagationStopped();)e.type=1<d?r:s.bindType||u,(o=(C._data(p,"events")||{})[e.type]&&C._data(p,"handle"))&&o.apply(p,t),(o=a&&p[a])&&o.apply&&v(p)&&(e.result=o.apply(p,t),!1===e.result)&&e.preventDefault();if(e.type=u,!n&&!e.isDefaultPrevented()&&(!s._default||!1===s._default.apply(c.pop(),t))&&v(i)&&a&&i[u]&&!C.isWindow(i)){(l=i[a])&&(i[a]=null),C.event.triggered=u;try{i[u]()}catch(e){}C.event.triggered=void 0,l&&(i[a]=l)}return e.result}},dispatch:function(e){e=C.event.fix(e);var t,i,n,o,a,r=c.call(arguments),s=(C._data(this,"events")||{})[e.type]||[],l=C.event.special[e.type]||{};if((r[0]=e).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(a=C.event.handlers.call(this,e,s),t=0;(n=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=n.elem,i=0;(o=n.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(o=((C.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,r))&&!1===(e.result=o)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,o,a,r=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(n=[],i=0;i<s;i++)void 0===n[o=(a=t[i]).selector+" "]&&(n[o]=a.needsContext?-1<C(o,this).index(l):C.find(o,this,null,[l]).length),n[o]&&n.push(a);n.length&&r.push({elem:l,handlers:n})}return s<t.length&&r.push({elem:this,handlers:t.slice(s)}),r},fix:function(e){if(e[C.expando])return e;var t,i,n,o=e.type,a=e,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=De.test(o)?this.mouseHooks:$e.test(o)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,e=new C.Event(a),t=n.length;t--;)e[i=n[t]]=a[i];return e.target||(e.target=a.srcElement||f),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=(i=e.target.ownerDocument||f).documentElement,i=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ae()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===Ae()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(C.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return C.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i){e=C.extend(new C.Event,i,{type:e,isSimulated:!0});C.event.trigger(e,null,t),e.isDefaultPrevented()&&i.preventDefault()}},C.removeEvent=f.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)}:function(e,t,i){t="on"+t;e.detachEvent&&(void 0===e[t]&&(e[t]=null),e.detachEvent(t,i))},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?je:l):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||C.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=je,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=je,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=je,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){C.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||C.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=o),t}}}),m.submit||(C.event.special.submit={setup:function(){if(C.nodeName(this,"form"))return!1;C.event.add(this,"click._submit keypress._submit",function(e){e=e.target,e=C.nodeName(e,"input")||C.nodeName(e,"button")?C.prop(e,"form"):void 0;e&&!C._data(e,"submit")&&(C.event.add(e,"submit._submit",function(e){e._submitBubble=!0}),C._data(e,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode)&&!e.isTrigger&&C.event.simulate("submit",this.parentNode,e)},teardown:function(){if(C.nodeName(this,"form"))return!1;C.event.remove(this,"._submit")}}),m.change||(C.event.special.change={setup:function(){if(Se.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(C.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),C.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),C.event.simulate("change",this,e)})),!1;C.event.add(this,"beforeactivate._change",function(e){e=e.target;Se.test(e.nodeName)&&!C._data(e,"change")&&(C.event.add(e,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||C.event.simulate("change",this.parentNode,e)}),C._data(e,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return C.event.remove(this,"._change"),!Se.test(this.nodeName)}}),m.focusin||C.each({focus:"focusin",blur:"focusout"},function(i,n){function o(e){C.event.simulate(n,e.target,C.event.fix(e))}C.event.special[n]={setup:function(){var e=this.ownerDocument||this,t=C._data(e,n);t||e.addEventListener(i,o,!0),C._data(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=C._data(e,n)-1;t?C._data(e,n,t):(e.removeEventListener(i,o,!0),C._removeData(e,n))}}}),C.fn.extend({on:function(e,t,i,n){return Le(this,e,t,i,n)},one:function(e,t,i,n){return Le(this,e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)n=e.handleObj,C(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler);else{if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=l),this.each(function(){C.event.remove(this,e,i,t)});for(o in e)this.off(o,t,e[o])}return this},trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return C.event.trigger(e,t,i,!0)}});var Oe=/ jQuery\d+="(?:null|\d+)"/g,Me=new RegExp("<(?:"+ye+")[\\s/>]","i"),ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,He=/<script|<style|<link/i,qe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ke=/^true\/(.*)/,Fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Qe=be(f).appendChild(f.createElement("div"));function Be(e,t){return C.nodeName(e,"table")&&C.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Ge(e){return e.type=(null!==C.find.attr(e,"type"))+"/"+e.type,e}function We(e){var t=Ke.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Ve(e,t){if(1===t.nodeType&&C.hasData(e)){var i,n,o,e=C._data(e),a=C._data(t,e),r=e.events;if(r)for(i in delete a.handle,a.events={},r)for(n=0,o=r[i].length;n<o;n++)C.event.add(t,i,r[i][n]);a.data&&(a.data=C.extend({},a.data))}}function b(i,n,o,a){n=M.apply([],n);var e,t,r,s,l,d,c=0,u=i.length,h=u-1,p=n[0],f=C.isFunction(p);if(f||1<u&&"string"==typeof p&&!m.checkClone&&qe.test(p))return i.each(function(e){var t=i.eq(e);f&&(n[0]=p.call(this,e,t.html())),b(t,n,o,a)});if(u&&(e=(d=Ie(n,i[0].ownerDocument,!1,i,a)).firstChild,1===d.childNodes.length&&(d=e),e||a)){for(r=(s=C.map(y(d,"script"),Ge)).length;c<u;c++)t=d,c!==h&&(t=C.clone(t,!0,!0),r)&&C.merge(s,y(t,"script")),o.call(i[c],t,c);if(r)for(l=s[s.length-1].ownerDocument,C.map(s,We),c=0;c<r;c++)t=s[c],ve.test(t.type||"")&&!C._data(t,"globalEval")&&C.contains(l,t)&&(t.src?C._evalUrl&&C._evalUrl(t.src):C.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Fe,"")));d=null}return i}function Ue(e,t,i){for(var n,o=t?C.filter(t,e):e,a=0;null!=(n=o[a]);a++)i||1!==n.nodeType||C.cleanData(y(n)),n.parentNode&&(i&&C.contains(n.ownerDocument,n)&&we(y(n,"script")),n.parentNode.removeChild(n));return e}C.extend({htmlPrefilter:function(e){return e.replace(ze,"<$1></$2>")},clone:function(e,t,i){var n,o,a,r,s,l=C.contains(e.ownerDocument,e);if(m.html5Clone||C.isXMLDoc(e)||!Me.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Qe.innerHTML=e.outerHTML,Qe.removeChild(a=Qe.firstChild)),!(m.noCloneEvent&&m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(n=y(a),s=y(e),r=0;null!=(o=s[r]);++r)if(n[r]){u=c=d=p=h=void 0;var d,c,u,h=o,p=n[r];if(1===p.nodeType){if(d=p.nodeName.toLowerCase(),!m.noCloneEvent&&p[C.expando]){for(c in(u=C._data(p)).events)C.removeEvent(p,c,u.handle);p.removeAttribute(C.expando)}"script"===d&&p.text!==h.text?(Ge(p).text=h.text,We(p)):"object"===d?(p.parentNode&&(p.outerHTML=h.outerHTML),m.html5Clone&&h.innerHTML&&!C.trim(p.innerHTML)&&(p.innerHTML=h.innerHTML)):"input"===d&&ge.test(h.type)?(p.defaultChecked=p.checked=h.checked,p.value!==h.value&&(p.value=h.value)):"option"===d?p.defaultSelected=p.selected=h.defaultSelected:"input"!==d&&"textarea"!==d||(p.defaultValue=h.defaultValue)}}if(t)if(i)for(s=s||y(e),n=n||y(a),r=0;null!=(o=s[r]);r++)Ve(o,n[r]);else Ve(e,a);return 0<(n=y(a,"script")).length&&we(n,!l&&y(e,"script")),n=s=o=null,a},cleanData:function(e,t){for(var i,n,o,a,r=0,s=C.expando,l=C.cache,d=m.attributes,c=C.event.special;null!=(i=e[r]);r++)if((t||v(i))&&(a=(o=i[s])&&l[o])){if(a.events)for(n in a.events)c[n]?C.event.remove(i,n):C.removeEvent(i,n,a.handle);l[o]&&(delete l[o],d||void 0===i.removeAttribute?i[s]=void 0:i.removeAttribute(s),u.push(o))}}}),C.fn.extend({domManip:b,detach:function(e){return Ue(this,e,!0)},remove:function(e){return Ue(this,e)},text:function(e){return h(this,function(e){return void 0===e?C.text(this):this.empty().append((this[0]&&this[0].ownerDocument||f).createTextNode(e))},null,e,arguments.length)},append:function(){return b(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Be(this,e).appendChild(e)})},prepend:function(){return b(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Be(this,e)).insertBefore(e,t.firstChild)})},before:function(){return b(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return b(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&C.cleanData(y(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&C.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return h(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Oe,""):void 0;if("string"==typeof e&&!He.test(e)&&(m.htmlSerialize||!Me.test(e))&&(m.leadingWhitespace||!xe.test(e))&&!x[(me.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(C.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var i=[];return b(this,arguments,function(e){var t=this.parentNode;C.inArray(this,i)<0&&(C.cleanData(y(this)),t)&&t.replaceChild(e,this)},i)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,r){C.fn[e]=function(e){for(var t,i=0,n=[],o=C(e),a=o.length-1;i<=a;i++)t=i===a?this:this.clone(!0),C(o[i])[r](t),z.apply(n,t.get());return this.pushStack(n)}});var Ye,Xe={HTML:"block",BODY:"block"};function Je(e,t){e=C(t.createElement(e)).appendTo(t.body),t=C.css(e[0],"display");return e.detach(),t}function Ze(e){var t=f,i=Xe[e];return i||("none"!==(i=Je(e,t))&&i||((t=((Ye=(Ye||C("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Ye[0].contentDocument).document).write(),t.close(),i=Je(e,t),Ye.detach()),Xe[e]=i),i}function et(e,t,i,n){var o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=i.apply(e,n||[]),t)e.style[o]=a[o];return i}var i,tt,it,nt,ot,at,rt,a,st=/^margin/,lt=new RegExp("^("+e+")(?!px)[a-z%]+$","i"),dt=f.documentElement;function r(){var e,t=f.documentElement;t.appendChild(rt),a.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=it=at=!1,tt=ot=!0,w.getComputedStyle&&(e=w.getComputedStyle(a),i="1%"!==(e||{}).top,at="2px"===(e||{}).marginLeft,it="4px"===(e||{width:"4px"}).width,a.style.marginRight="50%",tt="4px"===(e||{marginRight:"4px"}).marginRight,(e=a.appendChild(f.createElement("div"))).style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",a.style.width="1px",ot=!parseFloat((w.getComputedStyle(e)||{}).marginRight),a.removeChild(e)),a.style.display="none",(nt=0===a.getClientRects().length)&&(a.style.display="",a.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a.childNodes[0].style.borderCollapse="separate",(e=a.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",nt=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",nt=0===e[0].offsetHeight),t.removeChild(rt)}rt=f.createElement("div"),(a=f.createElement("div")).style&&(a.style.cssText="float:left;opacity:.5",m.opacity="0.5"===a.style.opacity,m.cssFloat=!!a.style.cssFloat,a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===a.style.backgroundClip,(rt=f.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.innerHTML="",rt.appendChild(a),m.boxSizing=""===a.style.boxSizing||""===a.style.MozBoxSizing||""===a.style.WebkitBoxSizing,C.extend(m,{reliableHiddenOffsets:function(){return null==i&&r(),nt},boxSizingReliable:function(){return null==i&&r(),it},pixelMarginRight:function(){return null==i&&r(),tt},pixelPosition:function(){return null==i&&r(),i},reliableMarginRight:function(){return null==i&&r(),ot},reliableMarginLeft:function(){return null==i&&r(),at}}));var d,p,ct=/^(top|right|bottom|left)$/;function ut(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}w.getComputedStyle?(d=function(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:w).getComputedStyle(e)},p=function(e,t,i){var n,o,a=e.style;return""!==(o=(i=i||d(e))?i.getPropertyValue(t)||i[t]:void 0)&&void 0!==o||C.contains(e.ownerDocument,e)||(o=C.style(e,t)),i&&!m.pixelMarginRight()&&lt.test(o)&&st.test(t)&&(e=a.width,t=a.minWidth,n=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=e,a.minWidth=t,a.maxWidth=n),void 0===o?o:o+""}):dt.currentStyle&&(d=function(e){return e.currentStyle},p=function(e,t,i){var n,o,a,r=e.style;return null==(i=(i=i||d(e))?i[t]:void 0)&&r&&r[t]&&(i=r[t]),lt.test(i)&&!ct.test(t)&&(n=r.left,(a=(o=e.runtimeStyle)&&o.left)&&(o.left=e.currentStyle.left),r.left="fontSize"===t?"1em":i,i=r.pixelLeft+"px",r.left=n,a)&&(o.left=a),void 0===i?i:i+""||"auto"});var ht=/alpha\([^)]*\)/i,pt=/opacity\s*=\s*([^)]*)/i,ft=/^(none|table(?!-c[ea]).+)/,gt=new RegExp("^("+e+")(.*)$","i"),mt={position:"absolute",visibility:"hidden",display:"block"},vt={letterSpacing:"0",fontWeight:"400"},xt=["Webkit","O","Moz","ms"],yt=f.createElement("div").style;function bt(e){if(e in yt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=xt.length;i--;)if((e=xt[i]+t)in yt)return e}function wt(e,t){for(var i,n,o,a=[],r=0,s=e.length;r<s;r++)(n=e[r]).style&&(a[r]=C._data(n,"olddisplay"),i=n.style.display,t?(a[r]||"none"!==i||(n.style.display=""),""===n.style.display&&he(n)&&(a[r]=C._data(n,"olddisplay",Ze(n.nodeName)))):(o=he(n),(i&&"none"!==i||!o)&&C._data(n,"olddisplay",o?i:C.css(n,"display"))));for(r=0;r<s;r++)!(n=e[r]).style||t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?a[r]||"":"none");return e}function Ct(e,t,i){var n=gt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function _t(e,t,i,n,o){for(var a=i===(n?"border":"content")?4:"width"===t?1:0,r=0;a<4;a+=2)"margin"===i&&(r+=C.css(e,i+s[a],!0,o)),n?("content"===i&&(r-=C.css(e,"padding"+s[a],!0,o)),"margin"!==i&&(r-=C.css(e,"border"+s[a]+"Width",!0,o))):(r+=C.css(e,"padding"+s[a],!0,o),"padding"!==i&&(r+=C.css(e,"border"+s[a]+"Width",!0,o)));return r}function kt(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,a=d(e),r=m.boxSizing&&"border-box"===C.css(e,"boxSizing",!1,a);if(o<=0||null==o){if(((o=p(e,t,a))<0||null==o)&&(o=e.style[t]),lt.test(o))return o;n=r&&(m.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+_t(e,t,i||(r?"border":"content"),n,a)+"px"}function k(e,t,i,n,o){return new k.prototype.init(e,t,i,n,o)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=p(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:m.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,r,s=C.camelCase(t),l=e.style;if(t=C.cssProps[s]||(C.cssProps[s]=bt(s)||s),r=C.cssHooks[t]||C.cssHooks[s],void 0===i)return r&&"get"in r&&void 0!==(o=r.get(e,!1,n))?o:l[t];if("string"===(a=typeof i)&&(o=pe.exec(i))&&o[1]&&(i=fe(e,t,o),a="number"),null!=i&&i==i&&("number"===a&&(i+=o&&o[3]||(C.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(r&&"set"in r&&void 0===(i=r.set(e,i,n)))))try{l[t]=i}catch(e){}}},css:function(e,t,i,n){var o,a=C.camelCase(t);return t=C.cssProps[a]||(C.cssProps[a]=bt(a)||a),"normal"===(o=void 0===(o=(a=C.cssHooks[t]||C.cssHooks[a])&&"get"in a?a.get(e,!0,i):o)?p(e,t,n):o)&&t in vt&&(o=vt[t]),(""===i||i)&&(a=parseFloat(o),!0===i||isFinite(a))?a||0:o}}),C.each(["height","width"],function(e,o){C.cssHooks[o]={get:function(e,t,i){if(t)return ft.test(C.css(e,"display"))&&0===e.offsetWidth?et(e,mt,function(){return kt(e,o,i)}):kt(e,o,i)},set:function(e,t,i){var n=i&&d(e);return Ct(0,t,i?_t(e,o,i,m.boxSizing&&"border-box"===C.css(e,"boxSizing",!1,n),n):0)}}}),m.opacity||(C.cssHooks.opacity={get:function(e,t){return pt.test((t&&e.currentStyle?e.currentStyle:e.style).filter||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,e=e.currentStyle,n=C.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=e&&e.filter||i.filter||"";((i.zoom=1)<=t||""===t)&&""===C.trim(o.replace(ht,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||e&&!e.filter)||(i.filter=ht.test(o)?o.replace(ht,n):o+" "+n)}}),C.cssHooks.marginRight=ut(m.reliableMarginRight,function(e,t){if(t)return et(e,{display:"inline-block"},p,[e,"marginRight"])}),C.cssHooks.marginLeft=ut(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(p(e,"marginLeft"))||(C.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-et(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(o,a){C.cssHooks[o+a]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[o+s[t]+a]=n[t]||n[t-2]||n[0];return i}},st.test(o)||(C.cssHooks[o+a].set=Ct)}),C.fn.extend({css:function(e,t){return h(this,function(e,t,i){var n,o,a={},r=0;if(C.isArray(t)){for(n=d(e),o=t.length;r<o;r++)a[t[r]]=C.css(e,t[r],!1,n);return a}return void 0!==i?C.style(e,t,i):C.css(e,t)},e,t,1<arguments.length)},show:function(){return wt(this,!0)},hide:function(){return wt(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){he(this)?C(this).show():C(this).hide()})}}),((C.Tween=k).prototype={constructor:k,init:function(e,t,i,n,o,a){this.elem=e,this.prop=i,this.easing=o||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(C.cssNumber[i]?"":"px")},cur:function(){var e=k.propHooks[this.prop];return(e&&e.get?e:k.propHooks._default).get(this)},run:function(e){var t,i=k.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(i&&i.set?i:k.propHooks._default).set(this),this}}).init.prototype=k.prototype,(k.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=C.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[C.cssProps[e.prop]]&&!C.cssHooks[e.prop]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=k.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=k.prototype.init,C.fx.step={};var I,It,T,N,Tt=/^(?:toggle|show|hide)$/,Nt=/queueHooks$/;function Et(){return w.setTimeout(function(){I=void 0}),I=C.now()}function St(e,t){var i,n={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)n["margin"+(i=s[o])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function $t(e,t,i){for(var n,o=(E.tweeners[t]||[]).concat(E.tweeners["*"]),a=0,r=o.length;a<r;a++)if(n=o[a].call(i,t,e))return n}function E(o,e,t){var i,a,n,r,s,l,d,c=0,u=E.prefilters.length,h=C.Deferred().always(function(){delete p.elem}),p=function(){if(a)return!1;for(var e=I||Et(),e=Math.max(0,f.startTime+f.duration-e),t=1-(e/f.duration||0),i=0,n=f.tweens.length;i<n;i++)f.tweens[i].run(t);return h.notifyWith(o,[f,t,e]),t<1&&n?e:(h.resolveWith(o,[f]),!1)},f=h.promise({elem:o,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},t),originalProperties:e,originalOptions:t,startTime:I||Et(),duration:t.duration,tweens:[],createTween:function(e,t){t=C.Tween(o,f.opts,e,t,f.opts.specialEasing[e]||f.opts.easing);return f.tweens.push(t),t},stop:function(e){var t=0,i=e?f.tweens.length:0;if(!a){for(a=!0;t<i;t++)f.tweens[t].run(1);e?(h.notifyWith(o,[f,1,0]),h.resolveWith(o,[f,e])):h.rejectWith(o,[f,e])}return this}}),g=f.props,m=g,v=f.opts.specialEasing;for(n in m)if(s=v[r=C.camelCase(n)],l=m[n],C.isArray(l)&&(s=l[1],l=m[n]=l[0]),n!==r&&(m[r]=l,delete m[n]),(d=C.cssHooks[r])&&"expand"in d)for(n in l=d.expand(l),delete m[r],l)n in m||(m[n]=l[n],v[n]=s);else v[r]=s;for(;c<u;c++)if(i=E.prefilters[c].call(f,o,g,f.opts))return C.isFunction(i.stop)&&(C._queueHooks(f.elem,f.opts.queue).stop=C.proxy(i.stop,i)),i;return C.map(g,$t,f),C.isFunction(f.opts.start)&&f.opts.start.call(o,f),C.fx.timer(C.extend(p,{elem:o,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}C.Animation=C.extend(E,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return fe(i.elem,e,pe.exec(t),i),i}]},tweener:function(e,t){for(var i,n=0,o=(e=C.isFunction(e)?(t=e,["*"]):e.match(_)).length;n<o;n++)i=e[n],E.tweeners[i]=E.tweeners[i]||[],E.tweeners[i].unshift(t)},prefilters:[function(t,e,i){var n,o,a,r,s,l,d,c=this,u={},h=t.style,p=t.nodeType&&he(t),f=C._data(t,"fxshow");for(n in i.queue||(null==(s=C._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,C.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(d=C.css(t,"display"))?C._data(t,"olddisplay")||Ze(t.nodeName):d))&&"none"===C.css(t,"float")&&(m.inlineBlockNeedsLayout&&"inline"!==Ze(t.nodeName)?h.zoom=1:h.display="inline-block"),i.overflow&&(h.overflow="hidden",m.shrinkWrapBlocks()||c.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]})),e)if(o=e[n],Tt.exec(o)){if(delete e[n],a=a||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!f||void 0===f[n])continue;p=!0}u[n]=f&&f[n]||C.style(t,n)}else d=void 0;if(C.isEmptyObject(u))"inline"===("none"===d?Ze(t.nodeName):d)&&(h.display=d);else for(n in f?"hidden"in f&&(p=f.hidden):f=C._data(t,"fxshow",{}),a&&(f.hidden=!p),p?C(t).show():c.done(function(){C(t).hide()}),c.done(function(){for(var e in C._removeData(t,"fxshow"),u)C.style(t,e,u[e])}),u)r=$t(p?f[n]:0,n,c),n in f||(f[n]=r.start,p&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}],prefilter:function(e,t){t?E.prefilters.unshift(e):E.prefilters.push(e)}}),C.speed=function(e,t,i){var n=e&&"object"==typeof e?C.extend({},e):{complete:i||!i&&t||C.isFunction(e)&&e,duration:e,easing:i&&t||t&&!C.isFunction(t)&&t};return n.duration=C.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in C.fx.speeds?C.fx.speeds[n.duration]:C.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){C.isFunction(n.old)&&n.old.call(this),n.queue&&C.dequeue(this,n.queue)},n},C.fn.extend({fadeTo:function(e,t,i,n){return this.filter(he).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){function o(){var e=E(this,C.extend({},t),r);(a||C._data(this,"finish"))&&e.stop(!0)}var a=C.isEmptyObject(t),r=C.speed(e,i,n);return o.finish=o,a||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(o,e,a){function r(e){var t=e.stop;delete e.stop,t(a)}return"string"!=typeof o&&(a=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",i=C.timers,n=C._data(this);if(t)n[t]&&n[t].stop&&r(n[t]);else for(t in n)n[t]&&n[t].stop&&Nt.test(t)&&r(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=o&&i[t].queue!==o||(i[t].anim.stop(a),e=!1,i.splice(t,1));!e&&a||C.dequeue(this,o)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var e,t=C._data(this),i=t[r+"queue"],n=t[r+"queueHooks"],o=C.timers,a=i?i.length:0;for(t.finish=!0,C.queue(this,r,[]),n&&n.stop&&n.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===r&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,n){var o=C.fn[n];C.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(St(n,!0),e,t,i)}}),C.each({slideDown:St("show"),slideUp:St("hide"),slideToggle:St("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){C.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),C.timers=[],C.fx.tick=function(){var e,t=C.timers,i=0;for(I=C.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||C.fx.stop(),I=void 0},C.fx.timer=function(e){C.timers.push(e),e()?C.fx.start():C.timers.pop()},C.fx.interval=13,C.fx.start=function(){It=It||w.setInterval(C.fx.tick,C.fx.interval)},C.fx.stop=function(){w.clearInterval(It),It=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(n,e){return n=C.fx&&C.fx.speeds[n]||n,this.queue(e=e||"fx",function(e,t){var i=w.setTimeout(e,n);t.stop=function(){w.clearTimeout(i)}})},T=f.createElement("input"),R=f.createElement("div"),N=f.createElement("select"),e=N.appendChild(f.createElement("option")),(R=f.createElement("div")).setAttribute("className","t"),R.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",A=R.getElementsByTagName("a")[0],T.setAttribute("type","checkbox"),R.appendChild(T),(A=R.getElementsByTagName("a")[0]).style.cssText="top:1px",m.getSetAttribute="t"!==R.className,m.style=/top/.test(A.getAttribute("style")),m.hrefNormalized="/a"===A.getAttribute("href"),m.checkOn=!!T.value,m.optSelected=e.selected,m.enctype=!!f.createElement("form").enctype,N.disabled=!0,m.optDisabled=!e.disabled,(T=f.createElement("input")).setAttribute("value",""),m.input=""===T.getAttribute("value"),T.value="t",T.setAttribute("type","radio"),m.radioValue="t"===T.value;var Dt=/\r/g,Pt=/[\x20\t\r\n\f]+/g;C.fn.extend({val:function(t){var i,e,n,o=this[0];return arguments.length?(n=C.isFunction(t),this.each(function(e){1!==this.nodeType||(null==(e=n?t.call(this,e,C(this).val()):t)?e="":"number"==typeof e?e+="":C.isArray(e)&&(e=C.map(e,function(e){return null==e?"":e+""})),(i=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value"))||(this.value=e)})):o?(i=C.valHooks[o.type]||C.valHooks[o.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(o,"value"))?e:"string"==typeof(e=o.value)?e.replace(Dt,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:C.trim(C.text(e)).replace(Pt," ")}},select:{get:function(e){for(var t,i=e.options,n=e.selectedIndex,o="select-one"===e.type||n<0,a=o?null:[],r=o?n+1:i.length,s=n<0?r:o?n:0;s<r;s++)if(((t=i[s]).selected||s===n)&&(m.optDisabled?!t.disabled:null===t.getAttribute("disabled"))&&(!t.parentNode.disabled||!C.nodeName(t.parentNode,"optgroup"))){if(t=C(t).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var i,n,o=e.options,a=C.makeArray(t),r=o.length;r--;)if(n=o[r],-1<C.inArray(C.valHooks.option.get(n),a))try{n.selected=i=!0}catch(e){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(C.isArray(t))return e.checked=-1<C.inArray(C(e).val(),t)}},m.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var S,Rt,$=C.expr.attrHandle,jt=/^(?:checked|selected)$/i,D=m.getSetAttribute,At=m.input,Lt=(C.fn.extend({attr:function(e,t){return h(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,i){var n,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?C.prop(e,t,i):(1===a&&C.isXMLDoc(e)||(t=t.toLowerCase(),o=C.attrHooks[t]||(C.expr.match.bool.test(t)?Rt:S)),void 0!==i?null===i?void C.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:(e.setAttribute(t,i+""),i):!(o&&"get"in o&&null!==(n=o.get(e,t)))&&null==(n=C.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){var i;if(!m.radioValue&&"radio"===t&&C.nodeName(e,"input"))return i=e.value,e.setAttribute("type",t),i&&(e.value=i),t}}},removeAttr:function(e,t){var i,n,o=0,a=t&&t.match(_);if(a&&1===e.nodeType)for(;i=a[o++];)n=C.propFix[i]||i,C.expr.match.bool.test(i)?At&&D||!jt.test(i)?e[n]=!1:e[C.camelCase("default-"+i)]=e[n]=!1:C.attr(e,i,""),e.removeAttribute(D?i:n)}}),Rt={set:function(e,t,i){return!1===t?C.removeAttr(e,i):At&&D||!jt.test(i)?e.setAttribute(!D&&C.propFix[i]||i,i):e[C.camelCase("default-"+i)]=e[i]=!0,i}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var a=$[t]||C.find.attr;At&&D||!jt.test(t)?$[t]=function(e,t,i){var n,o;return i||(o=$[t],$[t]=n,n=null!=a(e,t,i)?t.toLowerCase():null,$[t]=o),n}:$[t]=function(e,t,i){if(!i)return e[C.camelCase("default-"+t)]?t.toLowerCase():null}}),At&&D||(C.attrHooks.value={set:function(e,t,i){if(!C.nodeName(e,"input"))return S&&S.set(e,t,i);e.defaultValue=t}}),D||(S={set:function(e,t,i){var n=e.getAttributeNode(i);if(n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i))return t}},$.id=$.name=$.coords=function(e,t,i){if(!i)return(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},C.valHooks.button={get:function(e,t){e=e.getAttributeNode(t);if(e&&e.specified)return e.value},set:S.set},C.attrHooks.contenteditable={set:function(e,t,i){S.set(e,""!==t&&t,i)}},C.each(["width","height"],function(e,i){C.attrHooks[i]={set:function(e,t){if(""===t)return e.setAttribute(i,"auto"),t}}})),m.style||(C.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}}),/^(?:input|select|textarea|button|object)$/i),Ot=/^(?:a|area)$/i,Mt=(C.fn.extend({prop:function(e,t){return h(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return e=C.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),C.extend({prop:function(e,t,i){var n,o,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&C.isXMLDoc(e)||(t=C.propFix[t]||t,o=C.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):Lt.test(e.nodeName)||Ot.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.hrefNormalized||C.each(["href","src"],function(e,t){C.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),m.optSelected||(C.propHooks.selected={get:function(e){e=e.parentNode;return e&&(e.selectedIndex,e.parentNode)&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode)&&e.parentNode.selectedIndex}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),m.enctype||(C.propFix.enctype="encoding"),/[\t\r\n\f]/g);function P(e){return C.attr(e,"class")||""}C.fn.extend({addClass:function(t){var e,i,n,o,a,r,s=0;if(C.isFunction(t))return this.each(function(e){C(this).addClass(t.call(this,e,P(this)))});if("string"==typeof t&&t)for(e=t.match(_)||[];i=this[s++];)if(r=P(i),n=1===i.nodeType&&(" "+r+" ").replace(Mt," ")){for(a=0;o=e[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(r=C.trim(n))&&C.attr(i,"class",r)}return this},removeClass:function(t){var e,i,n,o,a,r,s=0;if(C.isFunction(t))return this.each(function(e){C(this).removeClass(t.call(this,e,P(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(_)||[];i=this[s++];)if(r=P(i),n=1===i.nodeType&&(" "+r+" ").replace(Mt," ")){for(a=0;o=e[a++];)for(;-1<n.indexOf(" "+o+" ");)n=n.replace(" "+o+" "," ");r!==(r=C.trim(n))&&C.attr(i,"class",r)}return this},toggleClass:function(o,t){var a=typeof o;return"boolean"==typeof t&&"string"==a?t?this.addClass(o):this.removeClass(o):C.isFunction(o)?this.each(function(e){C(this).toggleClass(o.call(this,e,P(this),t),t)}):this.each(function(){var e,t,i,n;if("string"==a)for(t=0,i=C(this),n=o.match(_)||[];e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==o&&"boolean"!=a||((e=P(this))&&C._data(this,"__className__",e),C.attr(this,"class",!e&&!1!==o&&C._data(this,"__className__")||""))})},hasClass:function(e){for(var t,i=0,n=" "+e+" ";t=this[i++];)if(1===t.nodeType&&-1<(" "+P(t)+" ").replace(Mt," ").indexOf(n))return!0;return!1}}),C.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,i){C.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var R=w.location,zt=C.now(),Ht=/\?/,qt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,Kt=(C.parseJSON=function(e){var o,a,t;return w.JSON&&w.JSON.parse?w.JSON.parse(e+""):(a=null,(t=C.trim(e+""))&&!C.trim(t.replace(qt,function(e,t,i,n){return 0===(a=o&&t?0:a)?e:(o=i||t,a+=!n-!i,"")}))?Function("return "+t)():C.error("Invalid JSON: "+e))},C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{w.DOMParser?t=(new w.DOMParser).parseFromString(e,"text/xml"):((t=new w.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t},/#.*$/),Ft=/([?&])_=[^&]*/,Qt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bt=/^(?:GET|HEAD)$/,Gt=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Vt={},Ut={},Yt="*/".concat("*"),Xt=R.href,j=Wt.exec(Xt.toLowerCase())||[];function Jt(a){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,o=e.toLowerCase().match(_)||[];if(C.isFunction(t))for(;i=o[n++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(a[i]=a[i]||[]).unshift(t)):(a[i]=a[i]||[]).push(t)}}function Zt(t,n,o,a){var r={},s=t===Ut;function l(e){var i;return r[e]=!0,C.each(t[e]||[],function(e,t){t=t(n,o,a);return"string"!=typeof t||s||r[t]?s?!(i=t):void 0:(n.dataTypes.unshift(t),l(t),!1)}),i}return l(n.dataTypes[0])||!r["*"]&&l("*")}function ei(e,t){var i,n,o=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i=i||{})[n]=t[n]);return i&&C.extend(!0,e,i),e}function ti(e){if(!C.contains(e.ownerDocument||f,e))return!0;for(;e&&1===e.nodeType;){if("none"===((t=e).style&&t.style.display||C.css(t,"display"))||"hidden"===e.type)return!0;e=e.parentNode}var t;return!1}C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Xt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(j[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":C.parseJSON,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ei(ei(e,C.ajaxSettings),t):ei(C.ajaxSettings,e)},ajaxPrefilter:Jt(Vt),ajaxTransport:Jt(Ut),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var i,l,d,c,u,h,n,p=C.ajaxSetup({},t=t||{}),f=p.context||p,g=p.context&&(f.nodeType||f.jquery)?C(f):C.event,m=C.Deferred(),v=C.Callbacks("once memory"),x=p.statusCode||{},o={},a={},y=0,r="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!n)for(n={};t=Qt.exec(d);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?d:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=a[i]=a[i]||e,o[e]=t),this},overrideMimeType:function(e){return y||(p.mimeType=e),this},statusCode:function(e){if(e)if(y<2)for(var t in e)x[t]=[x[t],e[t]];else b.always(e[b.status]);return this},abort:function(e){e=e||r;return h&&h.abort(e),s(0,e),this}};if(m.promise(b).complete=v.add,b.success=b.done,b.error=b.fail,p.url=((e||p.url||Xt)+"").replace(Kt,"").replace(Gt,j[1]+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=C.trim(p.dataType||"*").toLowerCase().match(_)||[""],null==p.crossDomain&&(e=Wt.exec(p.url.toLowerCase()),p.crossDomain=!(!e||e[1]===j[1]&&e[2]===j[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(j[3]||("http:"===j[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),Zt(Vt,p,t,b),2!==y){for(i in(u=C.event&&p.global)&&0==C.active++&&C.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Bt.test(p.type),l=p.url,p.hasContent||(p.data&&(l=p.url+=(Ht.test(l)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=Ft.test(l)?l.replace(Ft,"$1_="+zt++):l+(Ht.test(l)?"&":"?")+"_="+zt++)),p.ifModified&&(C.lastModified[l]&&b.setRequestHeader("If-Modified-Since",C.lastModified[l]),C.etag[l])&&b.setRequestHeader("If-None-Match",C.etag[l]),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&b.setRequestHeader("Content-Type",p.contentType),b.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Yt+"; q=0.01":""):p.accepts["*"]),p.headers)b.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(!1===p.beforeSend.call(f,b,p)||2===y))return b.abort();for(i in r="abort",{success:1,error:1,complete:1})b[i](p[i]);if(h=Zt(Ut,p,t,b)){if(b.readyState=1,u&&g.trigger("ajaxSend",[b,p]),2===y)return b;p.async&&0<p.timeout&&(c=w.setTimeout(function(){b.abort("timeout")},p.timeout));try{y=1,h.send(o,s)}catch(e){if(!(y<2))throw e;s(-1,e)}}else s(-1,"No Transport")}return b;function s(e,t,i,n){var o,a,r,s=t;2!==y&&(y=2,c&&w.clearTimeout(c),h=void 0,d=n||"",b.readyState=0<e?4:0,n=200<=e&&e<300||304===e,i&&(r=function(e,t,i){for(var n,o,a,r,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(r in s)if(s[r]&&s[r].test(o)){l.unshift(r);break}if(l[0]in i)a=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}n=n||r}a=a||n}if(a)return a!==l[0]&&l.unshift(a),i[a]}(p,b,i)),r=function(e,t,i,n){var o,a,r,s,l,d={},c=e.dataTypes.slice();if(c[1])for(r in e.converters)d[r.toLowerCase()]=e.converters[r];for(a=c.shift();a;)if(e.responseFields[a]&&(i[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(r=d[l+" "+a]||d["* "+a]))for(o in d)if((s=o.split(" "))[1]===a&&(r=d[l+" "+s[0]]||d["* "+s[0]])){!0===r?r=d[o]:!0!==d[o]&&(a=s[0],c.unshift(s[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(p,r,b,n),n?(p.ifModified&&((i=b.getResponseHeader("Last-Modified"))&&(C.lastModified[l]=i),i=b.getResponseHeader("etag"))&&(C.etag[l]=i),204===e||"HEAD"===p.type?s="nocontent":304===e?s="notmodified":(s=r.state,o=r.data,n=!(a=r.error))):(a=s,!e&&s||(s="error",e<0&&(e=0))),b.status=e,b.statusText=(t||s)+"",n?m.resolveWith(f,[o,s,b]):m.rejectWith(f,[b,s,a]),b.statusCode(x),x=void 0,u&&g.trigger(n?"ajaxSuccess":"ajaxError",[b,p,n?o:a]),v.fireWith(f,[b,s]),u)&&(g.trigger("ajaxComplete",[b,p]),--C.active||C.event.trigger("ajaxStop"))}},getJSON:function(e,t,i){return C.get(e,t,i,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,o){C[o]=function(e,t,i,n){return C.isFunction(t)&&(n=n||i,i=t,t=void 0),C.ajax(C.extend({url:e,type:o,dataType:n,data:t,success:i},C.isPlainObject(e)&&e))}}),C._evalUrl=function(e){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(t){var e;return C.isFunction(t)?this.each(function(e){C(this).wrapAll(t.call(this,e))}):(this[0]&&(e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)),this)},wrapInner:function(i){return C.isFunction(i)?this.each(function(e){C(this).wrapInner(i.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=C.isFunction(t);return this.each(function(e){C(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){C.nodeName(this,"body")||C(this).replaceWith(this.childNodes)}).end()}}),C.expr.filters.hidden=function(e){return m.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:ti(e)},C.expr.filters.visible=function(e){return!C.expr.filters.hidden(e)};var ii=/%20/g,ni=/\[\]$/,oi=/\r?\n/g,ai=/^(?:submit|button|image|reset|file)$/i,ri=/^(?:input|select|textarea|keygen)/i;C.param=function(e,t){function i(e,t){t=C.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var n,o=[];if(void 0===t&&(t=C.ajaxSettings&&C.ajaxSettings.traditional),C.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){i(this.name,this.value)});else for(n in e)!function i(n,e,o,a){if(C.isArray(e))C.each(e,function(e,t){o||ni.test(n)?a(n,t):i(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,o,a)});else if(o||"object"!==C.type(e))a(n,e);else for(var t in e)i(n+"["+t+"]",e[t],o,a)}(n,e[n],t,i);return o.join("&").replace(ii,"+")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&ri.test(this.nodeName)&&!ai.test(e)&&(this.checked||!ge.test(e))}).map(function(e,t){var i=C(this).val();return null==i?null:C.isArray(i)?C.map(i,function(e){return{name:t.name,value:e.replace(oi,"\r\n")}}):{name:t.name,value:i.replace(oi,"\r\n")}}).get()}}),C.ajaxSettings.xhr=void 0!==w.ActiveXObject?function(){return this.isLocal?ci():8<f.documentMode?di():/^(get|post|head|put|delete|options)$/i.test(this.type)&&di()||ci()}:di;var si=0,li={},A=C.ajaxSettings.xhr();function di(){try{return new w.XMLHttpRequest}catch(e){}}function ci(){try{return new w.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}w.attachEvent&&w.attachEvent("onunload",function(){for(var e in li)li[e](void 0,!0)}),m.cors=!!A&&"withCredentials"in A,(m.ajax=!!A)&&C.ajaxTransport(function(l){var d;if(!l.crossDomain||m.cors)return{send:function(e,a){var t,r=l.xhr(),s=++si;if(r.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(t in l.xhrFields)r[t]=l.xhrFields[t];for(t in l.mimeType&&r.overrideMimeType&&r.overrideMimeType(l.mimeType),l.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)void 0!==e[t]&&r.setRequestHeader(t,e[t]+"");r.send(l.hasContent&&l.data||null),d=function(e,t){var i,n,o;if(d&&(t||4===r.readyState))if(delete li[s],d=void 0,r.onreadystatechange=C.noop,t)4!==r.readyState&&r.abort();else{o={},i=r.status,"string"==typeof r.responseText&&(o.text=r.responseText);try{n=r.statusText}catch(e){n=""}i||!l.isLocal||l.crossDomain?1223===i&&(i=204):i=o.text?200:404}o&&a(i,n,o,r.getAllResponseHeaders())},l.async?4===r.readyState?w.setTimeout(d):r.onreadystatechange=li[s]=d:d()},abort:function(){d&&d(void 0,!0)}}}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),C.ajaxTransport("script",function(t){var n,o;if(t.crossDomain)return o=f.head||C("head")[0]||f.documentElement,{send:function(e,i){(n=f.createElement("script")).async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(e,t){!t&&n.readyState&&!/loaded|complete/.test(n.readyState)||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t)||i(200,"success")},o.insertBefore(n,o.firstChild)},abort:function(){n&&n.onload(void 0,!0)}}});var ui=[],hi=/(=)\?(?=&|$)|\?\?/,pi=(C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ui.pop()||C.expando+"_"+zt++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,i){var n,o,a,r=!1!==e.jsonp&&(hi.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&hi.test(e.data)&&"data");if(r||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=C.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r?e[r]=e[r].replace(hi,"$1"+n):!1!==e.jsonp&&(e.url+=(Ht.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return a||C.error(n+" was not called"),a[0]},e.dataTypes[0]="json",o=w[n],w[n]=function(){a=arguments},i.always(function(){void 0===o?C(w).removeProp(n):w[n]=o,e[n]&&(e.jsonpCallback=t.jsonpCallback,ui.push(n)),a&&C.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),C.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||f;var n=U.exec(e),i=!i&&[];return n?[t.createElement(n[1])]:(n=Ie([e],t,i),i&&i.length&&C(i).remove(),C.merge([],n.childNodes))},C.fn.load);function fi(e){return C.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}C.fn.load=function(e,t,i){var n,o,a,r,s;return"string"!=typeof e&&pi?pi.apply(this,arguments):(r=this,-1<(s=e.indexOf(" "))&&(n=C.trim(e.slice(s,e.length)),e=e.slice(0,s)),C.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<r.length&&C.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){a=arguments,r.html(n?C("<div>").append(C.parseHTML(e)).find(n):e)}).always(i&&function(e,t){r.each(function(){i.apply(this,a||[e.responseText,t,e])})}),this)},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.expr.filters.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(e,t,i){var n,o,a,r,s=C.css(e,"position"),l=C(e),d={};"static"===s&&(e.style.position="relative"),a=l.offset(),n=C.css(e,"top"),r=C.css(e,"left"),s=("absolute"===s||"fixed"===s)&&-1<C.inArray("auto",[n,r])?(o=(s=l.position()).top,s.left):(o=parseFloat(n)||0,parseFloat(r)||0),null!=(t=C.isFunction(t)?t.call(e,i,C.extend({},a)):t).top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+s),"using"in t?t.using.call(e,d):l.css(d)}},C.fn.extend({offset:function(t){var e,i,n,o;return arguments.length?void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)}):(i={top:0,left:0},(o=(n=this[0])&&n.ownerDocument)?(e=o.documentElement,C.contains(e,n)?(void 0!==n.getBoundingClientRect&&(i=n.getBoundingClientRect()),n=fi(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0)},position:function(){var e,t,i,n;if(this[0])return i={top:0,left:0},n=this[0],"fixed"===C.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),(i=C.nodeName(e[0],"html")?i:e.offset()).top+=C.css(e[0],"borderTopWidth",!0),i.left+=C.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-C.css(n,"marginTop",!0),left:t.left-i.left-C.css(n,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!C.nodeName(e,"html")&&"static"===C.css(e,"position");)e=e.offsetParent;return e||dt})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var a=/Y/.test(o);C.fn[t]=function(e){return h(this,function(e,t,i){var n=fi(e);if(void 0===i)return n?o in n?n[o]:n.document.documentElement[t]:e[t];n?n.scrollTo(a?C(n).scrollLeft():i,a?i:C(n).scrollTop()):e[t]=i},t,e,arguments.length,null)}}),C.each(["top","left"],function(e,i){C.cssHooks[i]=ut(m.pixelPosition,function(e,t){if(t)return t=p(e,i),lt.test(t)?C(e).position()[i]+"px":t})}),C.each({Height:"height",Width:"width"},function(a,r){C.each({padding:"inner"+a,content:r,"":"outer"+a},function(n,e){C.fn[e]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),o=n||(!0===e||!0===t?"margin":"border");return h(this,function(e,t,i){var n;return C.isWindow(e)?e.document.documentElement["client"+a]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+a],n["scroll"+a],e.body["offset"+a],n["offset"+a],n["client"+a])):void 0===i?C.css(e,t,o):C.style(e,t,i,o)},r,i?e:void 0,i,null)}})}),C.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),C.fn.size=function(){return this.length},C.fn.andSelf=C.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var gi=w.jQuery,mi=w.$;return C.noConflict=function(e){return w.$===C&&(w.$=mi),e&&w.jQuery===C&&(w.jQuery=gi),C},L||(w.jQuery=w.$=C),C}),!function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:"node_name"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(e){var t=data.getRoot(e);t||data.setRoot(e,t={}),t[e.data.key.children]=[],t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()},_initCache=function(e){var t=data.getCache(e);t||data.setCache(e,t={}),t.nodes=[],t.doms=[]},_bindEvent=function(r){var e=r.treeObj,t=consts.event;e.bind(t.NODECREATED,function(e,t,i){tools.apply(r.callback.onNodeCreated,[e,t,i])}),e.bind(t.CLICK,function(e,t,i,n,o){tools.apply(r.callback.onClick,[t,i,n,o])}),e.bind(t.EXPAND,function(e,t,i){tools.apply(r.callback.onExpand,[e,t,i])}),e.bind(t.COLLAPSE,function(e,t,i){tools.apply(r.callback.onCollapse,[e,t,i])}),e.bind(t.ASYNC_SUCCESS,function(e,t,i,n){tools.apply(r.callback.onAsyncSuccess,[e,t,i,n])}),e.bind(t.ASYNC_ERROR,function(e,t,i,n,o,a){tools.apply(r.callback.onAsyncError,[e,t,i,n,o,a])}),e.bind(t.REMOVE,function(e,t,i){tools.apply(r.callback.onRemove,[e,t,i])}),e.bind(t.SELECTED,function(e,t,i){tools.apply(r.callback.onSelected,[t,i])}),e.bind(t.UNSELECTED,function(e,t,i){tools.apply(r.callback.onUnSelected,[t,i])})},_unbindEvent=function(e){var e=e.treeObj,t=consts.event;e.unbind(t.NODECREATED).unbind(t.CLICK).unbind(t.EXPAND).unbind(t.COLLAPSE).unbind(t.ASYNC_SUCCESS).unbind(t.ASYNC_ERROR).unbind(t.REMOVE).unbind(t.SELECTED).unbind(t.UNSELECTED)},_eventProxy=function(e){var t=e.target,i=data.getSetting(e.data.treeId),n="",o=null,a="",r="",s=null,l=null,d=null;if(tools.eqs(e.type,"mousedown")?r="mousedown":tools.eqs(e.type,"mouseup")?r="mouseup":tools.eqs(e.type,"contextmenu")?r="contextmenu":tools.eqs(e.type,"click")?tools.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+consts.id.SWITCH)?(n=tools.getNodeMainDom(t).id,a="switchNode"):(d=tools.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(n=tools.getNodeMainDom(d).id,a="clickNode"):tools.eqs(e.type,"dblclick")&&(r="dblclick",d=tools.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(n=tools.getNodeMainDom(d).id,a="switchNode"),0<(n=0<r.length&&0==n.length&&(d=tools.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))?tools.getNodeMainDom(d).id:n).length)switch(o=data.getNodeCache(i,n),a){case"switchNode":o.isParent&&(tools.eqs(e.type,"click")||tools.eqs(e.type,"dblclick")&&tools.apply(i.view.dblClickExpand,[i.treeId,o],i.view.dblClickExpand))?s=handler.onSwitchNode:a="";break;case"clickNode":s=handler.onClickNode}switch(r){case"mousedown":l=handler.onZTreeMousedown;break;case"mouseup":l=handler.onZTreeMouseup;break;case"dblclick":l=handler.onZTreeDblclick;break;case"contextmenu":l=handler.onZTreeContextmenu}return{stop:!1,node:o,nodeEventType:a,nodeEventCallback:s,treeEventType:r,treeEventCallback:l}},_initNode=function(e,t,i,n,o,a,r){var s,l;i&&(s=data.getRoot(e),l=e.data.key.children,i.level=t,i.tId=e.treeId+"_"+ ++s.zId,i.parentTId=n?n.tId:null,i.open="string"==typeof i.open?tools.eqs(i.open,"true"):!!i.open,i[l]&&0<i[l].length?(i.isParent=!0,i.zAsync=!0):(i.isParent="string"==typeof i.isParent?tools.eqs(i.isParent,"true"):!!i.isParent,i.open=!(!i.isParent||e.async.enable)&&i.open,i.zAsync=!i.isParent),i.isFirstNode=o,i.isLastNode=a,i.getParentNode=function(){return data.getNodeCache(e,i.parentTId)},i.getPreNode=function(){return data.getPreNode(e,i)},i.getNextNode=function(){return data.getNextNode(e,i)},i.getIndex=function(){return data.getNodeIndex(e,i)},i.getPath=function(){return data.getNodePath(e,i)},i.isAjaxing=!1,data.fixPIdKeyValue(e,i))},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(e,t){data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){_init.afterA.push(e)},addBeforeA:function(e){_init.beforeA.push(e)},addInnerAfterA:function(e){_init.innerAfterA.push(e)},addInnerBeforeA:function(e){_init.innerBeforeA.push(e)},addInitBind:function(e){_init.bind.push(e)},addInitUnBind:function(e){_init.unbind.push(e)},addInitCache:function(e){_init.caches.push(e)},addInitNode:function(e){_init.nodes.push(e)},addInitProxy:function(e,t){t?_init.proxys.splice(0,0,e):_init.proxys.push(e)},addInitRoot:function(e){_init.roots.push(e)},addNodesData:function(e,t,i,n){var o=e.data.key.children;t[o]?i>=t[o].length&&(i=-1):(t[o]=[],i=-1),0<t[o].length&&0===i?(t[o][0].isFirstNode=!1,view.setNodeLineIcos(e,t[o][0])):0<t[o].length&&i<0&&(t[o][t[o].length-1].isLastNode=!1,view.setNodeLineIcos(e,t[o][t[o].length-1])),t.isParent=!0,i<0?t[o]=t[o].concat(n):(e=[i,0].concat(n),t[o].splice.apply(t[o],e))},addSelectedNode:function(e,t){var i=data.getRoot(e);data.isSelectedNode(e,t)||i.curSelectedList.push(t)},addCreatedNode:function(e,t){(e.callback.onNodeCreated||e.view.addDiyDom)&&data.getRoot(e).createdNodes.push(t)},addZTreeTools:function(e){_init.zTreeTools.push(e)},exSetting:function(e){$.extend(!0,_setting,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,i){for(var n=0,o=_init.afterA.length;n<o;n++)_init.afterA[n].apply(this,arguments)},getBeforeA:function(e,t,i){for(var n=0,o=_init.beforeA.length;n<o;n++)_init.beforeA[n].apply(this,arguments)},getInnerAfterA:function(e,t,i){for(var n=0,o=_init.innerAfterA.length;n<o;n++)_init.innerAfterA[n].apply(this,arguments)},getInnerBeforeA:function(e,t,i){for(var n=0,o=_init.innerBeforeA.length;n<o;n++)_init.innerBeforeA[n].apply(this,arguments)},getCache:function(e){return caches[e.treeId]},getNodeIndex:function(e,t){if(!t)return null;for(var i=e.data.key.children,n=t.parentTId?t.getParentNode():data.getRoot(e),o=0,a=n[i].length-1;o<=a;o++)if(n[i][o]===t)return o;return-1},getNextNode:function(e,t){if(t)for(var i=e.data.key.children,n=t.parentTId?t.getParentNode():data.getRoot(e),o=0,a=n[i].length-1;o<=a;o++)if(n[i][o]===t)return o==a?null:n[i][o+1];return null},getNodeByParam:function(e,t,i,n){if(t&&i)for(var o=e.data.key.children,a=0,r=t.length;a<r;a++){if(t[a][i]==n)return t[a];var s=data.getNodeByParam(e,t[a][o],i,n);if(s)return s}return null},getNodeCache:function(e,t){return t&&caches[e.treeId].nodes[data.getNodeCacheId(t)]||null},getNodeName:function(e,t){return""+t[e.data.key.name]},getNodePath:function(e,t){var i;return t?((i=t.parentTId?t.getParentNode().getPath():[])&&i.push(t),i):null},getNodeTitle:function(e,t){return""+t[""===e.data.key.title?e.data.key.name:e.data.key.title]},getNodes:function(e){return data.getRoot(e)[e.data.key.children]},getNodesByParam:function(e,t,i,n){if(!t||!i)return[];for(var o=e.data.key.children,a=[],r=0,s=t.length;r<s;r++)t[r][i]==n&&a.push(t[r]),a=a.concat(data.getNodesByParam(e,t[r][o],i,n));return a},getNodesByParamFuzzy:function(e,t,i,n){if(!t||!i)return[];var o=e.data.key.children,a=[];n=n.toLowerCase();for(var r=0,s=t.length;r<s;r++)"string"==typeof t[r][i]&&-1<t[r][i].toLowerCase().indexOf(n)&&a.push(t[r]),a=a.concat(data.getNodesByParamFuzzy(e,t[r][o],i,n));return a},getNodesByFilter:function(e,t,i,n,o){if(!t)return n?null:[];for(var a=e.data.key.children,r=n?null:[],s=0,l=t.length;s<l;s++){if(tools.apply(i,[t[s],o],!1)){if(n)return t[s];r.push(t[s])}var d=data.getNodesByFilter(e,t[s][a],i,n,o);if(n&&d)return d;r=n?d:r.concat(d)}return r},getPreNode:function(e,t){if(t)for(var i=e.data.key.children,n=t.parentTId?t.getParentNode():data.getRoot(e),o=0,a=n[i].length;o<a;o++)if(n[i][o]===t)return 0==o?null:n[i][o-1];return null},getRoot:function(e){return e?roots[e.treeId]:null},getRoots:function(){return roots},getSetting:function(e){return settings[e]},getSettings:function(){return settings},getZTreeTools:function(e){e=this.getRoot(this.getSetting(e));return e?e.treeTools:null},initCache:function(e){for(var t=0,i=_init.caches.length;t<i;t++)_init.caches[t].apply(this,arguments)},initNode:function(e,t,i,n,o,a){for(var r=0,s=_init.nodes.length;r<s;r++)_init.nodes[r].apply(this,arguments)},initRoot:function(e){for(var t=0,i=_init.roots.length;t<i;t++)_init.roots[t].apply(this,arguments)},isSelectedNode:function(e,t){for(var i=data.getRoot(e),n=0,o=i.curSelectedList.length;n<o;n++)if(t===i.curSelectedList[n])return!0;return!1},removeNodeCache:function(e,t){var i=e.data.key.children;if(t[i])for(var n=0,o=t[i].length;n<o;n++)data.removeNodeCache(e,t[i][n]);data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var i=data.getRoot(e),n=0,o=i.curSelectedList.length;n<o;n++)t!==i.curSelectedList[n]&&data.getNodeCache(e,i.curSelectedList[n].tId)||(i.curSelectedList.splice(n,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,t]),n--,o--)},setCache:function(e,t){caches[e.treeId]=t},setRoot:function(e,t){roots[e.treeId]=t},setZTreeTools:function(e,t){for(var i=0,n=_init.zTreeTools.length;i<n;i++)_init.zTreeTools[i].apply(this,arguments)},transformToArrayFormat:function(e,t){if(!t)return[];var i=e.data.key.children,n=[];if(tools.isArray(t))for(var o=0,a=t.length;o<a;o++)n.push(t[o]),t[o][i]&&(n=n.concat(data.transformToArrayFormat(e,t[o][i])));else n.push(t),t[i]&&(n=n.concat(data.transformToArrayFormat(e,t[i])));return n},transformTozTreeFormat:function(e,t){var i=e.data.simpleData.idKey,n=e.data.simpleData.pIdKey,o=e.data.key.children;if(!i||""==i||!t)return[];if(tools.isArray(t)){for(var a=[],r={},s=0,l=t.length;s<l;s++)r[t[s][i]]=t[s];for(s=0,l=t.length;s<l;s++)(r[t[s][n]]&&t[s][i]!=t[s][n]?(r[t[s][n]][o]||(r[t[s][n]][o]=[]),r[t[s][n]][o]):a).push(t[s]);return a}return[t]}},event={bindEvent:function(e){for(var t=0,i=_init.bind.length;t<i;t++)_init.bind[t].apply(this,arguments)},unbindEvent:function(e){for(var t=0,i=_init.unbind.length;t<i;t++)_init.unbind[t].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},i=e.treeObj;e.view.txtSelectedEnable||i.bind("selectstart",handler.onSelectStart).css({"-moz-user-select":"-moz-none"}),i.bind("click",t,event.proxy),i.bind("dblclick",t,event.proxy),i.bind("mouseover",t,event.proxy),i.bind("mouseout",t,event.proxy),i.bind("mousedown",t,event.proxy),i.bind("mouseup",t,event.proxy),i.bind("contextmenu",t,event.proxy)},unbindTree:function(e){e.treeObj.unbind("selectstart",handler.onSelectStart).unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(e){for(var t=[],i=0,n=_init.proxys.length;i<n;i++){var o=_init.proxys[i].apply(this,arguments);if(t.push(o),o.stop)break}return t},proxy:function(e){var t=data.getSetting(e.data.treeId);if(!tools.uCanDo(t,e))return!0;for(var i=event.doProxy(e),n=!0,o=0,a=i.length;o<a;o++){var r=i[o];r.nodeEventCallback&&(n=r.nodeEventCallback.apply(r,[e,r.node])&&n),r.treeEventCallback&&(n=r.treeEventCallback.apply(r,[e,r.node])&&n)}return n}},handler={onSwitchNode:function(e,t){e=data.getSetting(e.data.treeId);if(t.open){if(0==tools.apply(e.callback.beforeCollapse,[e.treeId,t],!0))return!0}else if(0==tools.apply(e.callback.beforeExpand,[e.treeId,t],!0))return!0;return data.getRoot(e).expandTriggerFlag=!0,view.switchNode(e,t),!0},onClickNode:function(e,t){var i=data.getSetting(e.data.treeId),n=i.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&data.isSelectedNode(i,t)?0:i.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&i.view.selectedMulti?2:1;return 0!=tools.apply(i.callback.beforeClick,[i.treeId,t,n],!0)&&(0==n?view.cancelPreSelectedNode(i,t):view.selectNode(i,t,2==n),i.treeObj.trigger(consts.event.CLICK,[e,i.treeId,t,n])),!0},onZTreeMousedown:function(e,t){var i=data.getSetting(e.data.treeId);return tools.apply(i.callback.beforeMouseDown,[i.treeId,t],!0)&&tools.apply(i.callback.onMouseDown,[e,i.treeId,t]),!0},onZTreeMouseup:function(e,t){var i=data.getSetting(e.data.treeId);return tools.apply(i.callback.beforeMouseUp,[i.treeId,t],!0)&&tools.apply(i.callback.onMouseUp,[e,i.treeId,t]),!0},onZTreeDblclick:function(e,t){var i=data.getSetting(e.data.treeId);return tools.apply(i.callback.beforeDblClick,[i.treeId,t],!0)&&tools.apply(i.callback.onDblClick,[e,i.treeId,t]),!0},onZTreeContextmenu:function(e,t){var i=data.getSetting(e.data.treeId);return tools.apply(i.callback.beforeRightClick,[i.treeId,t],!0)&&tools.apply(i.callback.onRightClick,[e,i.treeId,t]),"function"!=typeof i.callback.onRightClick},onSelectStart:function(e){e=e.originalEvent.srcElement.nodeName.toLowerCase();return"input"===e||"textarea"===e}},tools={apply:function(e,t,i){return"function"==typeof e?e.apply(zt,t||[]):i},canAsync:function(e,t){var i=e.data.key.children;return e.async.enable&&t&&t.isParent&&!(t.zAsync||t[i]&&0<t[i].length)},clone:function(e){if(null===e)return null;var t,i=tools.isArray(e)?[]:{};for(t in e)i[t]=e[t]instanceof Date?new Date(e[t].getTime()):"object"==typeof e[t]?tools.clone(e[t]):e[t];return i},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},$:function(e,t,i){return t&&"string"!=typeof t&&(i=t,t=""),"string"==typeof e?$(e,i?i.treeObj.get(0).ownerDocument:null):$("#"+e.tId+t,i?i.treeObj:null)},getMDom:function(e,t,i){if(t)for(;t&&t.id!==e.treeId;){for(var n=0,o=i.length;t.tagName&&n<o;n++)if(tools.eqs(t.tagName,i[n].tagName)&&null!==t.getAttribute(i[n].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return $(e).parent("li").get(0)||$(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return 0<$(e).closest("#"+t).length},uCanDo:function(e,t){return!0}},view={addNodes:function(e,t,i,n,o){var a,r,s;e.data.keep.leaf&&t&&!t.isParent||(tools.isArray(n)||(n=[n]),e.data.simpleData.enable&&(n=data.transformTozTreeFormat(e,n)),t?(a=$$(t,consts.id.SWITCH,e),r=$$(t,consts.id.ICON,e),s=$$(t,consts.id.UL,e),t.open||(view.replaceSwitchClass(t,a,consts.folder.CLOSE),view.replaceIcoClass(t,r,consts.folder.CLOSE),t.open=!1,s.css({display:"none"})),data.addNodesData(e,t,i,n),view.createNodes(e,t.level+1,n,t,i),o||view.expandCollapseParentNode(e,t,!0)):(data.addNodesData(e,data.getRoot(e),i,n),view.createNodes(e,0,n,null,i)))},appendNodes:function(e,t,i,n,o,a,r){if(!i)return[];var s=[],l=e.data.key.children,d=(n||data.getRoot(e))[l];(!d||o>=d.length-i.length)&&(o=-1);for(var c=0,u=i.length;c<u;c++){var h=i[c],p=(a&&(p=(0===o||d.length==i.length)&&0==c,data.initNode(e,t,h,n,p,o<0&&c==i.length-1,r),data.addNodeCache(e,h)),[]);h[l]&&0<h[l].length&&(p=view.appendNodes(e,t+1,h[l],h,-1,a,r&&h.open)),r&&(view.makeDOMNodeMainBefore(s,e,h),view.makeDOMNodeLine(s,e,h),data.getBeforeA(e,h,s),view.makeDOMNodeNameBefore(s,e,h),data.getInnerBeforeA(e,h,s),view.makeDOMNodeIcon(s,e,h),data.getInnerAfterA(e,h,s),view.makeDOMNodeNameAfter(s,e,h),data.getAfterA(e,h,s),h.isParent&&h.open&&view.makeUlHtml(e,h,s,p.join("")),view.makeDOMNodeMainAfter(s,e,h),data.addCreatedNode(e,h))}return s},appendParentULDom:function(e,t){var i=[],n=$$(t,e),o=(!n.get(0)&&t.parentTId&&(view.appendParentULDom(e,t.getParentNode()),n=$$(t,e)),$$(t,consts.id.UL,e)),o=(o.get(0)&&o.remove(),e.data.key.children),o=view.appendNodes(e,t.level+1,t[o],t,-1,!1,!0);view.makeUlHtml(e,t,i,o.join("")),n.append(i.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l,icoObj;if(node&&!node.isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;node&&(node.isAjaxing=!0,icoObj=$$(node,consts.id.ICON,setting),icoObj.attr({style:"",class:consts.className.BUTTON+" "+consts.className.ICO_LOADING}));for(var tmpParam={},i=0,l=setting.async.autoParam.length;node&&i<l;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;1<pKey.length&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}if(tools.isArray(setting.async.otherParam))for(i=0,l=setting.async.otherParam.length;i<l;i+=2)tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1];else for(var p in setting.async.otherParam)tmpParam[p]=setting.async.otherParam[p];var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,cache:!1,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:-1<setting.async.contentType.indexOf("application/json")?JSON.stringify(tmpParam):tmpParam,dataType:setting.async.dataType,success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(err){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,-1,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,-1,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(e,t,i){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,e,t,i]))}}),!0},cancelPreSelectedNode:function(e,t,i){for(var n,o=data.getRoot(e).curSelectedList,a=o.length-1;0<=a;a--)if(t===(n=o[a])||!t&&(!i||i!==n)){if($$(n,consts.id.A,e).removeClass(consts.node.CURSELECTED),t){data.removeSelectedNode(e,t);break}o.splice(a,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,n])}},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=data.getRoot(e);0<t.createdNodes.length;){var i=t.createdNodes.shift();tools.apply(e.view.addDiyDom,[e.treeId,i]),e.callback.onNodeCreated&&e.treeObj.trigger(consts.event.NODECREATED,[e.treeId,i])}},createNodes:function(e,t,i,n,o){var a,r,s,l;i&&0!=i.length&&(r=data.getRoot(e),a=e.data.key.children,a=!n||n.open||!!$$(n[a][0],e).get(0),r.createdNodes=[],r=view.appendNodes(e,t,i,n,o,!0,a),n?(t=$$(n,consts.id.UL,e)).get(0)&&(s=t):s=e.treeObj,s&&(0<=o&&(l=s.children()[o]),0<=o&&l?$(l).before(r.join("")):s.append(r.join(""))),view.createNodeCallback(e))},destroy:function(e){e&&(data.initCache(e),data.initRoot(e),event.unbindTree(e),event.unbindEvent(e),e.treeObj.empty(),delete settings[e.treeId])},expandCollapseNode:function(e,t,i,n,o){var a,r,s=data.getRoot(e),l=e.data.key.children;t&&(s.expandTriggerFlag&&(a=o,o=function(){a&&a(),t.open?e.treeObj.trigger(consts.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(consts.event.COLLAPSE,[e.treeId,t])},s.expandTriggerFlag=!1),!t.open&&t.isParent&&(!$$(t,consts.id.UL,e).get(0)||t[l]&&0<t[l].length&&!$$(t[l][0],e).get(0))&&(view.appendParentULDom(e,t),view.createNodeCallback(e)),t.open!=i)&&(s=$$(t,consts.id.UL,e),i=$$(t,consts.id.SWITCH,e),r=$$(t,consts.id.ICON,e),t.isParent)?(t.open=!t.open,t.iconOpen&&t.iconClose&&r.attr("style",view.makeNodeIcoStyle(e,t)),t.open?(view.replaceSwitchClass(t,i,consts.folder.OPEN),view.replaceIcoClass(t,r,consts.folder.OPEN),0!=n&&""!=e.view.expandSpeed&&t[l]&&0<t[l].length?s.slideDown(e.view.expandSpeed,o):(s.show(),tools.apply(o,[]))):(view.replaceSwitchClass(t,i,consts.folder.CLOSE),view.replaceIcoClass(t,r,consts.folder.CLOSE),0!=n&&""!=e.view.expandSpeed&&t[l]&&0<t[l].length?s.slideUp(e.view.expandSpeed,o):(s.hide(),tools.apply(o,[])))):tools.apply(o,[])},expandCollapseParentNode:function(e,t,i,n,o){t&&(t.parentTId?(view.expandCollapseNode(e,t,i,n),t.parentTId&&view.expandCollapseParentNode(e,t.getParentNode(),i,n,o)):view.expandCollapseNode(e,t,i,n,o))},expandCollapseSonNode:function(e,t,i,n,o){var a=data.getRoot(e),r=e.data.key.children,s=(t||a)[r],l=!t&&n,a=data.getRoot(e).expandTriggerFlag;if(data.getRoot(e).expandTriggerFlag=!1,s)for(var d=0,c=s.length;d<c;d++)s[d]&&view.expandCollapseSonNode(e,s[d],i,l);data.getRoot(e).expandTriggerFlag=a,view.expandCollapseNode(e,t,i,n,o)},isSelectedNode:function(e,t){if(t)for(var i=data.getRoot(e).curSelectedList,n=i.length-1;0<=n;n--)if(t===i[n])return!0;return!1},makeDOMNodeIcon:function(e,t,i){var n=data.getNodeName(t,i),n=t.view.nameIsHTML?n:n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.push("<span id='",i.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(t,i),"' style='",view.makeNodeIcoStyle(t,i),"'></span><span id='",i.tId,consts.id.SPAN,"' class='",consts.className.NAME,"'>",n,"</span>")},makeDOMNodeLine:function(e,t,i){e.push("<span id='",i.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(t,i),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e,t,i){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,i){e.push("<li id='",i.tId,"' class='",consts.className.LEVEL,i.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e,t,i){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,i){var n,o=data.getNodeTitle(t,i),a=view.makeNodeUrl(t,i),r=view.makeNodeFontCss(t,i),s=[];for(n in r)s.push(n,":",r[n],";");e.push("<a id='",i.tId,consts.id.A,"' class='",consts.className.LEVEL,i.level,"' treeNode",consts.id.A,' onclick="',i.click||"",'" ',null!=a&&0<a.length?"href='"+a+"'":""," target='",view.makeNodeTarget(i),"' style='",s.join(""),"'"),tools.apply(t.view.showTitle,[t.treeId,i],t.view.showTitle)&&o&&e.push("title='",o.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){t=tools.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return t&&"function"!=typeof t?t:{}},makeNodeIcoClass:function(e,t){var i=["ico"];return t.isAjaxing||(i[0]=(t.iconSkin?t.iconSkin+"_":"")+i[0],i.push(t.isParent?t.open?consts.folder.OPEN:consts.folder.CLOSE:consts.folder.DOCU)),consts.className.BUTTON+" "+i.join("_")},makeNodeIcoStyle:function(e,t){var i,n=[];return t.isAjaxing||((i=t.isParent&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t[e.data.key.icon])&&n.push("background:url(",i,") 0 0 no-repeat;"),0!=e.view.showIcon&&tools.apply(e.view.showIcon,[e.treeId,t],!0))||n.push("width:0px;height:0px;"),n.join("")},makeNodeLineClass:function(e,t){var i=[];return e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?i.push(consts.line.ROOT):i.push(0==t.level&&t.isFirstNode?consts.line.ROOTS:t.isLastNode?consts.line.BOTTOM:consts.line.CENTER):i.push(consts.line.NOLINE),t.isParent?i.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):i.push(consts.folder.DOCU),view.makeNodeLineClassEx(t)+i.join("_")},makeNodeLineClassEx:function(e){return consts.className.BUTTON+" "+consts.className.LEVEL+e.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){e=e.data.key.url;return t[e]||null},makeUlHtml:function(e,t,i,n){i.push("<ul id='",t.tId,consts.id.UL,"' class='",consts.className.LEVEL,t.level," ",view.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),i.push(n),i.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?consts.line.LINE:""},removeChildNodes:function(e,t){if(t){var i=e.data.key.children,n=t[i];if(n){for(var o,a=0,r=n.length;a<r;a++)data.removeNodeCache(e,n[a]);data.removeSelectedNode(e),delete t[i],e.data.keep.parent?$$(t,consts.id.UL,e).empty():(t.isParent=!1,t.open=!1,i=$$(t,consts.id.SWITCH,e),o=$$(t,consts.id.ICON,e),view.replaceSwitchClass(t,i,consts.folder.DOCU),view.replaceIcoClass(t,o,consts.folder.DOCU),$$(t,consts.id.UL,e).remove())}}},scrollIntoView:function(e){e&&(Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(o){function e(e,t,i,n){return!1===o||i<=e+n&&e<=t+n?Math.min(i,Math.max(t,e)):(t+i)/2}for(var t,i=this,d=function o(a,r,s,l){return{left:a,top:r,width:s,height:l,right:a+s,bottom:r+l,translate:function(e,t){return o(e+a,t+r,s,l)},relativeFromTo:function(e,t){var i=a,n=r;if((e=e.offsetParent)===(t=t.offsetParent))return d;for(;e;e=e.offsetParent)i+=e.offsetLeft+e.clientLeft,n+=e.offsetTop+e.clientTop;for(;t;t=t.offsetParent)i-=t.offsetLeft+t.clientLeft,n-=t.offsetTop+t.clientTop;return o(i,n,s,l)}}}(this.offsetLeft,this.offsetTop,this.offsetWidth,this.offsetHeight);tools.isElement(t=i.parentNode);){var n=t.offsetLeft+t.clientLeft,a=t.offsetTop+t.clientTop,d=d.relativeFromTo(i,t).translate(-n,-a);t.scrollLeft=e(t.scrollLeft,d.right-t.clientWidth,d.left,t.clientWidth),t.scrollTop=e(t.scrollTop,d.bottom-t.clientHeight,d.top,t.clientHeight),d=d.translate(n-t.scrollLeft,a-t.scrollTop),i=t}}),e.scrollIntoViewIfNeeded())},setFirstNode:function(e,t){e=e.data.key.children;0<t[e].length&&(t[e][0].isFirstNode=!0)},setLastNode:function(e,t){var e=e.data.key.children,i=t[e].length;0<i&&(t[e][i-1].isLastNode=!0)},removeNode:function(e,t){var i=data.getRoot(e),n=e.data.key.children,o=t.parentTId?t.getParentNode():i;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},data.getNodeCache(e,t.tId)){$$(t,e).remove(),data.removeNodeCache(e,t),data.removeSelectedNode(e,t);for(var a=0,r=o[n].length;a<r;a++)if(o[n][a].tId==t.tId){o[n].splice(a,1);break}view.setFirstNode(e,o),view.setLastNode(e,o);var s,l,d,c=o[n].length;e.data.keep.parent||0!=c?e.view.showLine&&0<c&&(c=o[n][c-1],s=$$(c,consts.id.UL,e),l=$$(c,consts.id.SWITCH,e),d=$$(c,consts.id.ICON,e),o==i?1==o[n].length?view.replaceSwitchClass(c,l,consts.line.ROOT):(i=$$(o[n][0],consts.id.SWITCH,e),view.replaceSwitchClass(o[n][0],i,consts.line.ROOTS),view.replaceSwitchClass(c,l,consts.line.BOTTOM)):view.replaceSwitchClass(c,l,consts.line.BOTTOM),s.removeClass(consts.line.LINE)):(o.isParent=!1,o.open=!1,s=$$(o,consts.id.UL,e),l=$$(o,consts.id.SWITCH,e),d=$$(o,consts.id.ICON,e),view.replaceSwitchClass(o,l,consts.folder.DOCU),view.replaceIcoClass(o,d,consts.folder.DOCU),s.css("display","none"))}},replaceIcoClass:function(e,t,i){if(t&&!e.isAjaxing){e=t.attr("class");if(null!=e){var n=e.split("_");switch(i){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:n[n.length-1]=i}t.attr("class",n.join("_"))}}},replaceSwitchClass:function(e,t,i){if(t){var n=t.attr("class");if(null!=n){var o=n.split("_");switch(i){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:o[0]=view.makeNodeLineClassEx(e)+i;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:o[1]=i}t.attr("class",o.join("_")),i!==consts.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,i){i||view.cancelPreSelectedNode(e,null,t),$$(t,consts.id.A,e).addClass(consts.node.CURSELECTED),data.addSelectedNode(e,t),e.treeObj.trigger(consts.event.SELECTED,[e.treeId,t])},setNodeFontCss:function(e,t){var i=$$(t,consts.id.A,e),e=view.makeNodeFontCss(e,t);e&&i.css(e)},setNodeLineIcos:function(e,t){var i,n,o,a;t&&(i=$$(t,consts.id.SWITCH,e),n=$$(t,consts.id.UL,e),o=$$(t,consts.id.ICON,e),0==(a=view.makeUlLineClass(e,t)).length?n.removeClass(consts.line.LINE):n.addClass(a),i.attr("class",view.makeNodeLineClass(e,t)),t.isParent?i.removeAttr("disabled"):i.attr("disabled","disabled"),o.removeAttr("style"),o.attr("style",view.makeNodeIcoStyle(e,t)),o.attr("class",view.makeNodeIcoClass(e,t)))},setNodeName:function(e,t){var i=data.getNodeTitle(e,t),n=$$(t,consts.id.SPAN,e);n.empty(),e.view.nameIsHTML?n.html(data.getNodeName(e,t)):n.text(data.getNodeName(e,t)),tools.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)&&$$(t,consts.id.A,e).attr("title",i||"")},setNodeTarget:function(e,t){$$(t,consts.id.A,e).attr("target",view.makeNodeTarget(t))},setNodeUrl:function(e,t){var i=$$(t,consts.id.A,e),e=view.makeNodeUrl(e,t);null==e||0==e.length?i.removeAttr("href"):i.attr("href",e)},switchNode:function(e,t){t.open||!tools.canAsync(e,t)?view.expandCollapseNode(e,t,!t.open):e.async.enable?view.asyncNode(e,t)||view.expandCollapseNode(e,t,!t.open):t&&view.expandCollapseNode(e,t,!t.open)}},zt=($.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(e){e=data.getZTreeTools(e);return e||null},destroy:function(e){if(e&&0<e.length)view.destroy(data.getSetting(e));else for(var t in settings)view.destroy(settings[t])},init:function(e,t,i){var s=tools.clone(_setting),t=($.extend(!0,s,t),s.treeId=e.attr("id"),s.treeObj=e,s.treeObj.empty(),settings[s.treeId]=s,void 0===document.body.style.maxHeight&&(s.view.expandSpeed=""),data.initRoot(s),data.getRoot(s)),e=s.data.key.children,i=(i=i?tools.clone(tools.isArray(i)?i:[i]):[],s.data.simpleData.enable?t[e]=data.transformTozTreeFormat(s,i):t[e]=i,data.initCache(s),event.unbindTree(s),event.bindTree(s),event.unbindEvent(s),event.bindEvent(s),{setting:s,addNodes:function(e,t,i,n){var o,a;return(!(e=e||null)||e.isParent||!s.data.keep.leaf)&&(o=parseInt(t,10),t=isNaN(o)?(n=!!i,i=t,-1):o,i)?(a=tools.clone(tools.isArray(i)?i:[i]),tools.canAsync(s,e)?view.asyncNode(s,e,n,r):r(),a):null;function r(){view.addNodes(s,e,t,a,1==n)}},cancelSelectedNode:function(e){view.cancelPreSelectedNode(s,e)},destroy:function(){view.destroy(s)},expandAll:function(e){return view.expandCollapseSonNode(s,null,e=!!e,!0),e},expandNode:function(t,e,i,n,o){return t&&t.isParent&&(!0!==e&&!1!==e&&(e=!t.open),!(o=!!o)||!e||0!=tools.apply(s.callback.beforeExpand,[s.treeId,t],!0))&&(!o||e||0!=tools.apply(s.callback.beforeCollapse,[s.treeId,t],!0))&&(e&&t.parentTId&&view.expandCollapseParentNode(s,t.getParentNode(),e,!1),e!==t.open||i)?(data.getRoot(s).expandTriggerFlag=o,!tools.canAsync(s,t)&&i?view.expandCollapseSonNode(s,t,e,!0,a):(t.open=!e,view.switchNode(this.setting,t),a()),e):null;function a(){var e=$$(t,s).get(0);e&&!1!==n&&view.scrollIntoView(e)}},getNodes:function(){return data.getNodes(s)},getNodeByParam:function(e,t,i){return e?data.getNodeByParam(s,i?i[s.data.key.children]:data.getNodes(s),e,t):null},getNodeByTId:function(e){return data.getNodeCache(s,e)},getNodesByParam:function(e,t,i){return e?data.getNodesByParam(s,i?i[s.data.key.children]:data.getNodes(s),e,t):null},getNodesByParamFuzzy:function(e,t,i){return e?data.getNodesByParamFuzzy(s,i?i[s.data.key.children]:data.getNodes(s),e,t):null},getNodesByFilter:function(e,t,i,n){return t=!!t,e&&"function"==typeof e?data.getNodesByFilter(s,i?i[s.data.key.children]:data.getNodes(s),e,t,n):t?null:[]},getNodeIndex:function(e){if(!e)return null;for(var t=s.data.key.children,i=e.parentTId?e.getParentNode():data.getRoot(s),n=0,o=i[t].length;n<o;n++)if(i[t][n]==e)return n;return-1},getSelectedNodes:function(){for(var e=[],t=data.getRoot(s).curSelectedList,i=0,n=t.length;i<n;i++)e.push(t[i]);return e},isSelectedNode:function(e){return data.isSelectedNode(s,e)},reAsyncChildNodes:function(e,t,i){if(this.setting.async.enable){var n=!e;if(n&&(e=data.getRoot(s)),"refresh"==t){for(var o=this.setting.data.key.children,a=0,r=e[o]?e[o].length:0;a<r;a++)data.removeNodeCache(s,e[o][a]);data.removeSelectedNode(s),e[o]=[],(n?this.setting.treeObj:$$(e,consts.id.UL,s)).empty()}view.asyncNode(this.setting,n?null:e,!!i)}},refresh:function(){this.setting.treeObj.empty();var e=data.getRoot(s),t=e[s.data.key.children];data.initRoot(s),e[s.data.key.children]=t,data.initCache(s),view.createNodes(s,0,e[s.data.key.children],null,-1)},removeChildNodes:function(e){var t;return e&&(t=e[s.data.key.children],view.removeChildNodes(s,e),t)||null},removeNode:function(e,t){!e||(t=!!t)&&0==tools.apply(s.callback.beforeRemove,[s.treeId,e],!0)||(view.removeNode(s,e),t&&this.setting.treeObj.trigger(consts.event.REMOVE,[s.treeId,e]))},selectNode:function(t,e,i){if(t&&tools.uCanDo(s)){if(e=s.view.selectedMulti&&e,t.parentTId)view.expandCollapseParentNode(s,t.getParentNode(),!0,!1,function(){var e;i||(e=$$(t,s).get(0),view.scrollIntoView(e))});else if(!i)try{$$(t,s).focus().blur()}catch(e){}view.selectNode(s,t,e)}},transformTozTreeNodes:function(e){return data.transformTozTreeFormat(s,e)},transformToArray:function(e){return data.transformToArrayFormat(s,e)},updateNode:function(e,t){e&&$$(e,s).get(0)&&tools.uCanDo(s)&&(view.setNodeName(s,e),view.setNodeTarget(s,e),view.setNodeUrl(s,e),view.setNodeLineIcos(s,e),view.setNodeFontCss(s,e))}});return t.treeTools=i,data.setZTreeTools(s,i),t[e]&&0<t[e].length?view.createNodes(s,0,t[e],null,-1):s.async.enable&&s.async.url&&""!==s.async.url&&view.asyncNode(s),i}},$.fn.zTree),$$=tools.$,consts=zt.consts}(jQuery),!function(e){var t={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},i={check:{enable:!1,autoCheckTrigger:!1,chkStyle:t.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:t.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},s=function(e,t){var i,n;return!0!==t.chkDisabled&&(n=(i=p.getSetting(e.data.treeId)).data.key.checked,0!=c.apply(i.callback.beforeCheck,[i.treeId,t],!0)&&(t[n]=!t[n],h.checkNodeRelation(i,t),n=f(t,u.id.CHECK,i),h.setChkClass(i,n,t),h.repairParentChkClassWithSelf(i,t),i.treeObj.trigger(u.event.CHECK,[e,i.treeId,t])),!0)},l=function(e,t){var i;return!0!==t.chkDisabled&&(e=p.getSetting(e.data.treeId),i=f(t,u.id.CHECK,e),t.check_Focus=!0,h.setChkClass(e,i,t),!0)},d=function(e,t){var i;return!0!==t.chkDisabled&&(e=p.getSetting(e.data.treeId),i=f(t,u.id.CHECK,e),t.check_Focus=!1,h.setChkClass(e,i,t),!0)},n={tools:{},view:{checkNodeRelation:function(e,t){var i,n=e.data.key.children,o=e.data.key.checked,a=u.radio;if(e.check.chkStyle==a.STYLE){var r=p.getRadioCheckedList(e);if(t[o])if(e.check.radioType==a.TYPE_ALL){for(l=r.length-1;0<=l;l--)(i=r[l])[o]&&i!=t&&(i[o]=!1,r.splice(l,1),h.setChkClass(e,f(i,u.id.CHECK,e),i),i.parentTId!=t.parentTId)&&h.repairParentChkClassWithSelf(e,i);r.push(t)}else for(var s=t.parentTId?t.getParentNode():p.getRoot(e),l=0,d=s[n].length;l<d;l++)(i=s[n][l])[o]&&i!=t&&(i[o]=!1,h.setChkClass(e,f(i,u.id.CHECK,e),i));else if(e.check.radioType==a.TYPE_ALL)for(l=0,d=r.length;l<d;l++)if(t==r[l]){r.splice(l,1);break}}else t[o]&&(!t[n]||0==t[n].length||-1<e.check.chkboxType.Y.indexOf("s"))&&h.setSonNodeCheckBox(e,t,!0),t[o]||t[n]&&0!=t[n].length&&!(-1<e.check.chkboxType.N.indexOf("s"))||h.setSonNodeCheckBox(e,t,!1),t[o]&&-1<e.check.chkboxType.Y.indexOf("p")&&h.setParentNodeCheckBox(e,t,!0),!t[o]&&-1<e.check.chkboxType.N.indexOf("p")&&h.setParentNodeCheckBox(e,t,!1)},makeChkClass:function(e,t){var i=e.data.key.checked,n=u.checkbox,o="",o=!0===t.chkDisabled?n.DISABLED:t.halfCheck?n.PART:e.check.chkStyle!=u.radio.STYLE&&t[i]?2===t.check_Child_State||-1===t.check_Child_State?n.FULL:n.PART:t.check_Child_State<1?n.FULL:n.PART,e=e.check.chkStyle+"_"+(t[i]?n.TRUE:n.FALSE)+"_"+o,e=t.check_Focus&&!0!==t.chkDisabled?e+"_"+n.FOCUS:e;return u.className.BUTTON+" "+n.DEFAULT+" "+e},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===u.checkbox.STYLE)for(var i=e.data.key.checked,n=e.data.key.children,o=p.getRoot(e),a=0,r=o[n].length;a<r;a++){var s=o[n][a];!0!==s.nocheck&&!0!==s.chkDisabled&&(s[i]=t),h.setSonNodeCheckBox(e,s,t)}},repairChkClass:function(e,t){var i;t&&(p.makeChkFlag(e,t),!0!==t.nocheck)&&(i=f(t,u.id.CHECK,e),h.setChkClass(e,i,t))},repairParentChkClass:function(e,t){t&&t.parentTId&&(t=t.getParentNode(),h.repairChkClass(e,t),h.repairParentChkClass(e,t))},repairParentChkClassWithSelf:function(e,t){var i;t&&(t[i=e.data.key.children]&&0<t[i].length?h.repairParentChkClass(e,t[i][0]):h.repairParentChkClass(e,t))},repairSonChkDisabled:function(e,t,i,n){if(t){var o=e.data.key.children;if(t.chkDisabled!=i&&(t.chkDisabled=i),h.repairChkClass(e,t),t[o]&&n)for(var a=0,r=t[o].length;a<r;a++){var s=t[o][a];h.repairSonChkDisabled(e,s,i,n)}}},repairParentChkDisabled:function(e,t,i,n){t&&(t.chkDisabled!=i&&n&&(t.chkDisabled=i),h.repairChkClass(e,t),h.repairParentChkDisabled(e,t.getParentNode(),i,n))},setChkClass:function(e,t,i){t&&(!0===i.nocheck?t.hide():t.show(),t.attr("class",h.makeChkClass(e,i)))},setParentNodeCheckBox:function(e,t,i,n){var o=e.data.key.children,a=e.data.key.checked,r=f(t,u.id.CHECK,e);if(n=n||t,p.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled&&(t[a]=i,h.setChkClass(e,r,t),e.check.autoCheckTrigger)&&t!=n&&e.treeObj.trigger(u.event.CHECK,[null,e.treeId,t]),t.parentTId){var s=!0;if(!i)for(var l=t.getParentNode()[o],d=0,c=l.length;d<c;d++)if(!0!==l[d].nocheck&&!0!==l[d].chkDisabled&&l[d][a]||(!0===l[d].nocheck||!0===l[d].chkDisabled)&&0<l[d].check_Child_State){s=!1;break}s&&h.setParentNodeCheckBox(e,t.getParentNode(),i,n)}},setSonNodeCheckBox:function(e,t,i,n){if(t){var o=e.data.key.children,a=e.data.key.checked,r=f(t,u.id.CHECK,e),s=(n=n||t,!1);if(t[o])for(var l=0,d=t[o].length;l<d;l++){var c=t[o][l];h.setSonNodeCheckBox(e,c,i,n),!0===c.chkDisabled&&(s=!0)}t!=p.getRoot(e)&&!0!==t.chkDisabled&&(s&&!0!==t.nocheck&&p.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled?(t[a]=i,s||(t.check_Child_State=t[o]&&0<t[o].length?i?2:0:-1)):t.check_Child_State=-1,h.setChkClass(e,r,t),e.check.autoCheckTrigger)&&t!=n&&!0!==t.nocheck&&!0!==t.chkDisabled&&e.treeObj.trigger(u.event.CHECK,[null,e.treeId,t])}}},event:{},data:{getRadioCheckedList:function(e){for(var t=p.getRoot(e).radioCheckedList,i=0,n=t.length;i<n;i++)p.getNodeCache(e,t[i].tId)||(t.splice(i,1),i--,n--);return t},getCheckStatus:function(e,t){var i;return!e.check.enable||t.nocheck||t.chkDisabled?null:{checked:t[i=e.data.key.checked],half:t.halfCheck||(e.check.chkStyle==u.radio.STYLE?2===t.check_Child_State:t[i]?-1<t.check_Child_State&&t.check_Child_State<2:0<t.check_Child_State)}},getTreeCheckedNodes:function(e,t,i,n){if(!t)return[];var o=e.data.key.children,a=e.data.key.checked,r=i&&e.check.chkStyle==u.radio.STYLE&&e.check.radioType==u.radio.TYPE_ALL;n=n||[];for(var s=0,l=t.length;s<l&&(!0===t[s].nocheck||!0===t[s].chkDisabled||t[s][a]!=i||(n.push(t[s]),!r))&&(p.getTreeCheckedNodes(e,t[s][o],i,n),!(r&&0<n.length));s++);return n},getTreeChangeCheckedNodes:function(e,t,i){if(!t)return[];var n=e.data.key.children,o=e.data.key.checked;i=i||[];for(var a=0,r=t.length;a<r;a++)!0!==t[a].nocheck&&!0!==t[a].chkDisabled&&t[a][o]!=t[a].checkedOld&&i.push(t[a]),p.getTreeChangeCheckedNodes(e,t[a][n],i);return i},makeChkFlag:function(e,t){if(t){var i=e.data.key.children,n=e.data.key.checked,o=-1;if(t[i])for(var a=0,r=t[i].length;a<r;a++){var s=t[i][a],l=-1;if(e.check.chkStyle==u.radio.STYLE){if(2==(l=!0===s.nocheck||!0===s.chkDisabled?s.check_Child_State:!0===s.halfCheck||s[n]||0<s.check_Child_State?2:0)){o=2;break}0==l&&(o=0)}else if(e.check.chkStyle==u.checkbox.STYLE){if(1===(l=!0===s.nocheck||!0===s.chkDisabled?s.check_Child_State:!0===s.halfCheck?1:s[n]?-1===s.check_Child_State||2===s.check_Child_State?2:1:0<s.check_Child_State?1:0)){o=1;break}if(2===l&&-1<o&&0<a&&l!==o){o=1;break}if(2===o&&-1<l&&l<2){o=1;break}-1<l&&(o=l)}}t.check_Child_State=o}}}},t=(e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,n),e.fn.zTree),c=t._z.tools,u=t.consts,h=t._z.view,p=t._z.data,f=(t._z.event,c.$),a=(p.exSetting(i),p.addInitBind(function(o){var e=o.treeObj,t=u.event;e.bind(t.CHECK,function(e,t,i,n){e.srcEvent=t,c.apply(o.callback.onCheck,[e,i,n])})}),p.addInitUnBind(function(e){var e=e.treeObj,t=u.event;e.unbind(t.CHECK)}),p.addInitCache(function(e){}),p.addInitNode(function(e,t,i,n,o,a,r){var s;i&&(s=e.data.key.checked,"string"==typeof i[s]&&(i[s]=c.eqs(i[s],"true")),i[s]=!!i[s],i.checkedOld=i[s],"string"==typeof i.nocheck&&(i.nocheck=c.eqs(i.nocheck,"true")),i.nocheck=!!i.nocheck||e.check.nocheckInherit&&n&&!!n.nocheck,"string"==typeof i.chkDisabled&&(i.chkDisabled=c.eqs(i.chkDisabled,"true")),i.chkDisabled=!!i.chkDisabled||e.check.chkDisabledInherit&&n&&!!n.chkDisabled,"string"==typeof i.halfCheck&&(i.halfCheck=c.eqs(i.halfCheck,"true")),i.halfCheck=!!i.halfCheck,i.check_Child_State=-1,i.check_Focus=!1,i.getCheckStatus=function(){return p.getCheckStatus(e,i)},e.check.chkStyle==u.radio.STYLE)&&e.check.radioType==u.radio.TYPE_ALL&&i[s]&&p.getRoot(e).radioCheckedList.push(i)}),p.addInitProxy(function(e){var t=e.target,i=p.getSetting(e.data.treeId),n="",o=null,a="",r=null;if(c.eqs(e.type,"mouseover")?i.check.enable&&c.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+u.id.CHECK)&&(n=c.getNodeMainDom(t).id,a="mouseoverCheck"):c.eqs(e.type,"mouseout")?i.check.enable&&c.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+u.id.CHECK)&&(n=c.getNodeMainDom(t).id,a="mouseoutCheck"):c.eqs(e.type,"click")&&i.check.enable&&c.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+u.id.CHECK)&&(n=c.getNodeMainDom(t).id,a="checkNode"),0<n.length)switch(o=p.getNodeCache(i,n),a){case"checkNode":r=s;break;case"mouseoverCheck":r=l;break;case"mouseoutCheck":r=d}return{stop:"checkNode"===a,node:o,nodeEventType:a,nodeEventCallback:r,treeEventType:"",treeEventCallback:null}},!0),p.addInitRoot(function(e){p.getRoot(e).radioCheckedList=[]}),p.addBeforeA(function(e,t,i){e.data.key.checked;e.check.enable&&(p.makeChkFlag(e,t),i.push("<span ID='",t.tId,u.id.CHECK,"' class='",h.makeChkClass(e,t),"' treeNode",u.id.CHECK,!0===t.nocheck?" style='display:none;'":"","></span>"))}),p.addZTreeTools(function(e,n){n.checkNode=function(e,t,i,n){var o=this.setting.data.key.checked;!0===e.chkDisabled||(n=!!n,e[o]===(t=!0!==t&&!1!==t?!e[o]:t)&&!i)||n&&0==c.apply(this.setting.callback.beforeCheck,[this.setting.treeId,e],!0)||c.uCanDo(this.setting)&&this.setting.check.enable&&!0!==e.nocheck&&(e[o]=t,o=f(e,u.id.CHECK,this.setting),!i&&this.setting.check.chkStyle!==u.radio.STYLE||h.checkNodeRelation(this.setting,e),h.setChkClass(this.setting,o,e),h.repairParentChkClassWithSelf(this.setting,e),n)&&this.setting.treeObj.trigger(u.event.CHECK,[null,this.setting.treeId,e])},n.checkAllNodes=function(e){h.repairAllChk(this.setting,!!e)},n.getCheckedNodes=function(e){var t=this.setting.data.key.children;return e=!1!==e,p.getTreeCheckedNodes(this.setting,p.getRoot(this.setting)[t],e)},n.getChangeCheckedNodes=function(){var e=this.setting.data.key.children;return p.getTreeChangeCheckedNodes(this.setting,p.getRoot(this.setting)[e])},n.setChkDisabled=function(e,t,i,n){i=!!i,h.repairSonChkDisabled(this.setting,e,t=!!t,n=!!n),h.repairParentChkDisabled(this.setting,e.getParentNode(),t,i)};var o=n.updateNode;n.updateNode=function(e,t){var i;o&&o.apply(n,arguments),e&&this.setting.check.enable&&f(e,this.setting).get(0)&&c.uCanDo(this.setting)&&(i=f(e,u.id.CHECK,this.setting),1!=t&&this.setting.check.chkStyle!==u.radio.STYLE||h.checkNodeRelation(this.setting,e),h.setChkClass(this.setting,i,e),h.repairParentChkClassWithSelf(this.setting,e))}}),h.createNodes),o=(h.createNodes=function(e,t,i,n,o){a&&a.apply(h,arguments),i&&h.repairParentChkClassWithSelf(e,n)},h.removeNode),g=(h.removeNode=function(e,t){var i=t.getParentNode();o&&o.apply(h,arguments),t&&i&&(h.repairChkClass(e,i),h.repairParentChkClass(e,i))},h.appendNodes);h.appendNodes=function(e,t,i,n,o,a,r){var s="";return g&&(s=g.apply(h,arguments)),n&&p.makeChkFlag(e,n),s}}(jQuery),!function(V){var U={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},d={onHoverOverNode:function(e,t){var i=Z.getSetting(e.data.treeId),n=Z.getRoot(i);n.curHoverNode!=t&&d.onHoverOutNode(e),J.addHoverDom(i,n.curHoverNode=t)},onHoverOutNode:function(e,t){var e=Z.getSetting(e.data.treeId),i=Z.getRoot(e);i.curHoverNode&&!Z.isSelectedNode(e,i.curHoverNode)&&(J.removeTreeDom(e,i.curHoverNode),i.curHoverNode=null)},onMousedownNode:function(e,t){var i,n,N=Z.getSetting(e.data.treeId),E=Z.getRoot(N),S=Z.getRoots();if(2!=e.button&&N.edit.enable&&(N.edit.drag.isCopy||N.edit.drag.isMove)){var o=e.target,a=Z.getRoot(N).curSelectedList,$=[];if(Z.isSelectedNode(N,t))for(i=0,n=a.length;i<n;i++){if(a[i].editNameFlag&&Y.eqs(o.tagName,"input")&&null!==o.getAttribute("treeNode"+X.id.INPUT))return!0;if($.push(a[i]),$[0].parentTId!==a[i].parentTId){$=[t];break}}else $=[t];J.editNodeBlur=!0,J.cancelCurEditNode(N);var D,P,R,j,A,L=V(N.treeObj.get(0).ownerDocument),O=V(N.treeObj.get(0).ownerDocument.body),M=!1,z=N,l=N,H=null,q=null,K=null,F=X.move.TYPE_INNER,Q=e.clientX,B=e.clientY,G=(new Date).getTime();Y.uCanDo(N)&&L.bind("mousemove",d),L.bind("mouseup",W),L.bind("selectstart",c),e.preventDefault&&e.preventDefault()}return!0;function d(e){if(0==E.dragFlag&&Math.abs(Q-e.clientX)<N.edit.drag.minMoveSize&&Math.abs(B-e.clientY)<N.edit.drag.minMoveSize)return!0;var t,i,n=N.data.key.children;if(O.css("cursor","pointer"),0==E.dragFlag){if(0==Y.apply(N.callback.beforeDrag,[N.treeId,$],!0))return W(e),!0;for(l=0,d=$.length;l<d;l++)0==l&&(E.dragNodeShowBefore=[]),(t=$[l]).isParent&&t.open?(J.expandCollapseNode(N,t,!t.open),E.dragNodeShowBefore[t.tId]=!0):E.dragNodeShowBefore[t.tId]=!1;E.dragFlag=1,S.showHoverDom=!1,Y.showIfameMask(N,!0);var o=!0,a=-1;if(1<$.length)for(var r=$[0].parentTId?$[0].getParentNode()[n]:Z.getNodes(N),s=[],l=0,d=r.length;l<d;l++)if(void 0!==E.dragNodeShowBefore[r[l].tId]&&(o&&-1<a&&a+1!==l&&(o=!1),s.push(r[l]),a=l),$.length===s.length){$=s;break}for(o&&(j=$[0].getPreNode(),A=$[$.length-1].getNextNode()),D=ee("<ul class='zTreeDragUL'></ul>",N),l=0,d=$.length;l<d;l++)(t=$[l]).editNameFlag=!1,J.selectNode(N,t,0<l),J.removeTreeDom(N,t),l>N.edit.drag.maxShowNodeNum-1||((i=ee("<li id='"+t.tId+"_tmp'></li>",N)).append(ee(t,X.id.A,N).clone()),i.css("padding","0"),i.children("#"+t.tId+X.id.A).removeClass(X.node.CURSELECTED),D.append(i),l==N.edit.drag.maxShowNodeNum-1&&(i=ee("<li id='"+t.tId+"_moretmp'><a>  ...  </a></li>",N),D.append(i)));D.attr("id",$[0].tId+X.id.UL+"_tmp"),D.addClass(N.treeObj.attr("class")),D.appendTo(O),(P=ee("<span class='tmpzTreeMove_arrow'></span>",N)).attr("id","zTreeMove_arrow_tmp"),P.appendTo(O),N.treeObj.trigger(X.event.DRAG,[e,N.treeId,$])}if(1==E.dragFlag){R&&P.attr("id")==e.target.id&&K&&e.clientX+L.scrollLeft()+2>V("#"+K+X.id.A,R).offset().left?(n=V("#"+K+X.id.A,R),e.target=0<n.length?n.get(0):e.target):R&&(R.removeClass(X.node.TMPTARGET_TREE),K)&&V("#"+K+X.id.A,R).removeClass(X.node.TMPTARGET_NODE+"_"+X.move.TYPE_PREV).removeClass(X.node.TMPTARGET_NODE+"_"+U.move.TYPE_NEXT).removeClass(X.node.TMPTARGET_NODE+"_"+U.move.TYPE_INNER),K=R=null,M=!1,z=N;var c,u=Z.getSettings();for(c in u)u[c].treeId&&u[c].edit.enable&&u[c].treeId!=N.treeId&&(e.target.id==u[c].treeId||0<V(e.target).parents("#"+u[c].treeId).length)&&(M=!0,z=u[c]);var n=L.scrollTop(),h=L.scrollLeft(),p=z.treeObj.offset(),f=z.treeObj.get(0).scrollHeight,g=z.treeObj.get(0).scrollWidth,m=e.clientY+n-p.top,v=z.treeObj.height()+p.top-e.clientY-n,x=e.clientX+h-p.left,p=z.treeObj.width()+p.left-e.clientX-h,y=m<N.edit.drag.borderMax&&m>N.edit.drag.borderMin,b=v<N.edit.drag.borderMax&&v>N.edit.drag.borderMin,w=x<N.edit.drag.borderMax&&x>N.edit.drag.borderMin,C=p<N.edit.drag.borderMax&&p>N.edit.drag.borderMin,m=m>N.edit.drag.borderMin&&v>N.edit.drag.borderMin&&x>N.edit.drag.borderMin&&p>N.edit.drag.borderMin,v=y&&z.treeObj.scrollTop()<=0,x=b&&z.treeObj.scrollTop()+z.treeObj.height()+10>=f,p=w&&z.treeObj.scrollLeft()<=0,f=C&&z.treeObj.scrollLeft()+z.treeObj.width()+10>=g;if(e.target&&Y.isChildOrSelf(e.target,z.treeId)){for(var _=e.target;_&&_.tagName&&!Y.eqs(_.tagName,"li")&&_.id!=z.treeId;)_=_.parentNode;var k=!0;for(l=0,d=$.length;l<d;l++){if(t=$[l],_.id===t.tId){k=!1;break}if(0<ee(t,N).find("#"+_.id).length){k=!1;break}}k&&e.target&&Y.isChildOrSelf(e.target,_.id+X.id.A)&&(R=V(_),K=_.id)}t=$[0],m&&Y.isChildOrSelf(e.target,z.treeId)&&(!R&&(e.target.id==z.treeId||v||x||p||f)&&(M||!M&&t.parentTId)&&(R=z.treeObj),y?z.treeObj.scrollTop(z.treeObj.scrollTop()-10):b&&z.treeObj.scrollTop(z.treeObj.scrollTop()+10),w?z.treeObj.scrollLeft(z.treeObj.scrollLeft()-10):C&&z.treeObj.scrollLeft(z.treeObj.scrollLeft()+10),R)&&R!=z.treeObj&&R.offset().left<z.treeObj.offset().left&&z.treeObj.scrollLeft(z.treeObj.scrollLeft()+R.offset().left-z.treeObj.offset().left),D.css({top:e.clientY+n+3+"px",left:e.clientX+h+3+"px"});var I,g=0,m=0;function T(){R=null,K="",F=X.move.TYPE_INNER,P.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}R&&R.attr("id")!=z.treeId?(I=null==K?null:Z.getNodeCache(z,K),v=(e.ctrlKey||e.metaKey)&&N.edit.drag.isMove&&N.edit.drag.isCopy||!N.edit.drag.isMove&&N.edit.drag.isCopy,x=!(!j||K!==j.tId),p=!(!A||K!==A.tId),f=t.parentTId&&t.parentTId==K,y=(v||!p)&&Y.apply(z.edit.drag.prev,[z.treeId,$,I],!!z.edit.drag.prev),b=(v||!x)&&Y.apply(z.edit.drag.next,[z.treeId,$,I],!!z.edit.drag.next),w=(v||!f)&&!(z.data.keep.leaf&&!I.isParent)&&Y.apply(z.edit.drag.inner,[z.treeId,$,I],!!z.edit.drag.inner),y||b||w?(C=V("#"+K+X.id.A,R),h=I.isLastNode?null:V("#"+I.getNextNode().tId+X.id.A,R.next()),p=C.offset().top,x=C.offset().left,v=y?w?.25:b?.5:1:-1,f=b?w?.75:y?.5:0:-1,n=(e.clientY+n-p)/C.height(),(1==v||n<=v&&-.2<=n)&&y?(g=1-P.width(),m=p-P.height()/2,F=X.move.TYPE_PREV):(0==f||f<=n&&n<=1.2)&&b?(g=1-P.width(),m=null==h||I.isParent&&I.open?p+C.height()-P.height()/2:h.offset().top-P.height()/2,F=X.move.TYPE_NEXT):w?(g=5-P.width(),m=p,F=X.move.TYPE_INNER):T(),R&&(P.css({display:"block",top:m+"px",left:x+g+"px"}),C.addClass(X.node.TMPTARGET_NODE+"_"+F),H==K&&q==F||(G=(new Date).getTime()),I)&&I.isParent&&F==X.move.TYPE_INNER&&(v=!0,window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==I.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===I.tId&&(v=!1),v)&&(window.zTreeMoveTimer=setTimeout(function(){F==X.move.TYPE_INNER&&I&&I.isParent&&!I.open&&(new Date).getTime()-G>z.edit.drag.autoOpenTime&&Y.apply(z.callback.beforeDragOpen,[z.treeId,I],!0)&&(J.switchNode(z,I),z.edit.drag.autoExpandTrigger)&&z.treeObj.trigger(X.event.EXPAND,[z.treeId,I])},z.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=I.tId)):T()):(F=X.move.TYPE_INNER,R&&Y.apply(z.edit.drag.inner,[z.treeId,$,null],!!z.edit.drag.inner)?R.addClass(X.node.TMPTARGET_TREE):R=null,P.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)),H=K,q=F,N.treeObj.trigger(X.event.DRAGMOVE,[e,N.treeId,$])}return!1}function W(n){if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),q=H=null,L.unbind("mousemove",d),L.unbind("mouseup",W),L.unbind("selectstart",c),O.css("cursor","auto"),R&&(R.removeClass(X.node.TMPTARGET_TREE),K)&&V("#"+K+X.id.A,R).removeClass(X.node.TMPTARGET_NODE+"_"+X.move.TYPE_PREV).removeClass(X.node.TMPTARGET_NODE+"_"+U.move.TYPE_NEXT).removeClass(X.node.TMPTARGET_NODE+"_"+U.move.TYPE_INNER),Y.showIfameMask(N,!1),S.showHoverDom=!0,0!=E.dragFlag){for(var e,t=E.dragFlag=0,i=$.length;t<i;t++)(e=$[t]).isParent&&E.dragNodeShowBefore[e.tId]&&!e.open&&(J.expandCollapseNode(N,e,!e.open),delete E.dragNodeShowBefore[e.tId]);D&&D.remove(),P&&P.remove();var o,a,r=(n.ctrlKey||n.metaKey)&&N.edit.drag.isMove&&N.edit.drag.isCopy||!N.edit.drag.isMove&&N.edit.drag.isCopy;(R=!r&&R&&K&&$[0].parentTId&&K==$[0].parentTId&&F==X.move.TYPE_INNER?null:R)?(o=null==K?null:Z.getNodeCache(z,K),0==Y.apply(N.callback.beforeDrop,[z.treeId,$,o,F,r],!0)?J.selectNodes(l,$):(a=r?Y.clone($):$,F==X.move.TYPE_INNER&&Y.canAsync(z,o)?J.asyncNode(z,o,!1,s):s())):(J.selectNodes(l,$),N.treeObj.trigger(X.event.DROP,[n,N.treeId,$,null,null,null]))}function s(){if(M){if(!r)for(var e=0,t=$.length;e<t;e++)J.removeNode(N,$[e]);F==X.move.TYPE_INNER?J.addNodes(z,o,-1,a):J.addNodes(z,o.getParentNode(),F==X.move.TYPE_PREV?o.getIndex():o.getIndex()+1,a)}else if(r&&F==X.move.TYPE_INNER)J.addNodes(z,o,-1,a);else if(r)J.addNodes(z,o.getParentNode(),F==X.move.TYPE_PREV?o.getIndex():o.getIndex()+1,a);else if(F!=X.move.TYPE_NEXT)for(e=0,t=a.length;e<t;e++)J.moveNode(z,o,a[e],F,!1);else for(e=-1,t=a.length-1;e<t;t--)J.moveNode(z,o,a[t],F,!1);J.selectNodes(z,a);var i=ee(a[0],N).get(0);J.scrollIntoView(i),N.treeObj.trigger(X.event.DROP,[n,z.treeId,a,o,F,r])}}function c(){return!1}}},e={tools:{getAbs:function(e){var e=e.getBoundingClientRect(),t=document.body.scrollTop+document.documentElement.scrollTop,i=document.body.scrollLeft+document.documentElement.scrollLeft;return[e.left+i,e.top+t]},inputFocus:function(e){e.get(0)&&(e.focus(),Y.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){e.setSelectionRange?(e.focus(),e.setSelectionRange(t,t)):e.createTextRange&&((e=e.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select())},showIfameMask:function(e,t){for(var i=Z.getRoot(e);0<i.dragMaskList.length;)i.dragMaskList[0].remove(),i.dragMaskList.shift();if(t)for(var n=ee("iframe",e),o=0,a=n.length;o<a;o++){var r=n.get(o),s=Y.getAbs(r),s=ee("<div id='zTreeMask_"+o+"' class='zTreeMask' style='top:"+s[1]+"px; left:"+s[0]+"px; width:"+r.offsetWidth+"px; height:"+r.offsetHeight+"px;'></div>",e);s.appendTo(ee("body",e)),i.dragMaskList.push(s)}}},view:{addEditBtn:function(e,t){var i,n;t.editNameFlag||0<ee(t,X.id.EDIT,e).length||Y.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)&&(i=ee(t,X.id.A,e),n="<span class='"+X.className.BUTTON+" edit' id='"+t.tId+X.id.EDIT+"' title='"+Y.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+X.id.EDIT+" style='display:none;'></span>",i.append(n),ee(t,X.id.EDIT,e).bind("click",function(){return Y.uCanDo(e)&&0!=Y.apply(e.callback.beforeEditName,[e.treeId,t],!0)&&J.editNode(e,t),!1}).show())},addRemoveBtn:function(e,t){var i,n;t.editNameFlag||0<ee(t,X.id.REMOVE,e).length||Y.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)&&(i=ee(t,X.id.A,e),n="<span class='"+X.className.BUTTON+" remove' id='"+t.tId+X.id.REMOVE+"' title='"+Y.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+X.id.REMOVE+" style='display:none;'></span>",i.append(n),ee(t,X.id.REMOVE,e).bind("click",function(){return Y.uCanDo(e)&&0!=Y.apply(e.callback.beforeRemove,[e.treeId,t],!0)&&(J.removeNode(e,t),e.treeObj.trigger(X.event.REMOVE,[e.treeId,t])),!1}).bind("mousedown",function(e){return!0}).show())},addHoverDom:function(e,t){Z.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(J.addEditBtn(e,t),J.addRemoveBtn(e,t)),Y.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t,i){var n=Z.getRoot(e),o=e.data.key.name,a=n.curEditNode;if(a){var r=n.curEditInput,t=t||(i?a[o]:r.val());if(!1===Y.apply(e.callback.beforeRename,[e.treeId,a,t,i],!0))return!1;a[o]=t,ee(a,X.id.A,e).removeClass(X.node.CURSELECTED_EDIT),r.unbind(),J.setNodeName(e,a),a.editNameFlag=!1,n.curEditNode=null,n.curEditInput=null,J.selectNode(e,a,!1),e.treeObj.trigger(X.event.RENAME,[e.treeId,a,i])}return n.noSelection=!0},editNode:function(t,e){var i,n,o=Z.getRoot(t);J.editNodeBlur=!1,Z.isSelectedNode(t,e)&&o.curEditNode==e&&e.editNameFlag?setTimeout(function(){Y.inputFocus(o.curEditInput)},0):(i=t.data.key.name,e.editNameFlag=!0,J.removeTreeDom(t,e),J.cancelCurEditNode(t),J.selectNode(t,e,!1),ee(e,X.id.SPAN,t).html("<input type=text class='rename' id='"+e.tId+X.id.INPUT+"' treeNode"+X.id.INPUT+" >"),(n=ee(e,X.id.INPUT,t)).attr("value",e[i]),t.edit.editNameSelectAll?Y.inputSelect(n):Y.inputFocus(n),n.bind("blur",function(e){J.editNodeBlur||J.cancelCurEditNode(t)}).bind("keydown",function(e){"13"==e.keyCode?(J.editNodeBlur=!0,J.cancelCurEditNode(t)):"27"==e.keyCode&&J.cancelCurEditNode(t,null,!0)}).bind("click",function(e){return!1}).bind("dblclick",function(e){return!1}),ee(e,X.id.A,t).addClass(X.node.CURSELECTED_EDIT),o.curEditInput=n,o.noSelection=!1,o.curEditNode=e)},moveNode:function(e,t,i,n,o,a){var r=Z.getRoot(e),s=e.data.key.children;if(t!=i&&(!e.data.keep.leaf||!t||t.isParent||n!=X.move.TYPE_INNER)){var l=i.parentTId?i.getParentNode():r,d=null===t||t==r,c=(d&&(n=X.move.TYPE_INNER),(t=d&&null===t?r:t).parentTId?t.getParentNode():r),d=((n=n!=X.move.TYPE_PREV&&n!=X.move.TYPE_NEXT?X.move.TYPE_INNER:n)==X.move.TYPE_INNER&&(d?i.parentTId=null:(t.isParent||(t.isParent=!0,t.open=!!t.open,J.setNodeLineIcos(e,t)),i.parentTId=t.tId)),g=d?m=e.treeObj:(a||n!=X.move.TYPE_INNER?a||J.expandCollapseNode(e,t.getParentNode(),!0,!1):J.expandCollapseNode(e,t,!0,!1),m=ee(t,e),g=ee(t,X.id.UL,e),m.get(0)&&!g.get(0)&&(J.makeUlHtml(e,t,r=[],""),m.append(r.join(""))),ee(t,X.id.UL,e)),ee(i,e));d.get(0)?m.get(0)||d.remove():d=J.appendNodes(e,i.level,[i],null,-1,!1,!0).join(""),g.get(0)&&n==X.move.TYPE_INNER?g.append(d):m.get(0)&&n==X.move.TYPE_PREV?m.before(d):m.get(0)&&n==X.move.TYPE_NEXT&&m.after(d);var u,h,p=-1,f=0,r=null,g=null,m=i.level;if(i.isFirstNode)p=0,1<l[s].length&&((r=l[s][1]).isFirstNode=!0);else if(i.isLastNode)p=l[s].length-1,(r=l[s][p-1]).isLastNode=!0;else for(u=0,h=l[s].length;u<h;u++)if(l[s][u].tId==i.tId){p=u;break}if(0<=p&&l[s].splice(p,1),n!=X.move.TYPE_INNER)for(u=0,h=c[s].length;u<h;u++)c[s][u].tId==t.tId&&(f=u);n==X.move.TYPE_INNER?(t[s]||(t[s]=new Array),0<t[s].length&&((g=t[s][t[s].length-1]).isLastNode=!1),t[s].splice(t[s].length,0,i),i.isLastNode=!0,i.isFirstNode=1==t[s].length):t.isFirstNode&&n==X.move.TYPE_PREV?(c[s].splice(f,0,i),(g=t).isFirstNode=!1,i.parentTId=t.parentTId,i.isFirstNode=!0,i.isLastNode=!1):t.isLastNode&&n==X.move.TYPE_NEXT?(c[s].splice(f+1,0,i),(g=t).isLastNode=!1,i.parentTId=t.parentTId,i.isFirstNode=!1,i.isLastNode=!0):(n==X.move.TYPE_PREV?c[s].splice(f,0,i):c[s].splice(f+1,0,i),i.parentTId=t.parentTId,i.isFirstNode=!1,i.isLastNode=!1),Z.fixPIdKeyValue(e,i),Z.setSonNodeLevel(e,i.getParentNode(),i),J.setNodeLineIcos(e,i),J.repairNodeLevelClass(e,i,m),!e.data.keep.parent&&l[s].length<1?(l.isParent=!1,l.open=!1,d=ee(l,X.id.UL,e),n=ee(l,X.id.SWITCH,e),m=ee(l,X.id.ICON,e),J.replaceSwitchClass(l,n,X.folder.DOCU),J.replaceIcoClass(l,m,X.folder.DOCU),d.css("display","none")):r&&J.setNodeLineIcos(e,r),g&&J.setNodeLineIcos(e,g),e.check&&e.check.enable&&J.repairChkClass&&(J.repairChkClass(e,l),J.repairParentChkClassWithSelf(e,l),l!=i.parent)&&J.repairParentChkClassWithSelf(e,i),a||J.expandCollapseParentNode(e,i.getParentNode(),!0,o)}},removeEditBtn:function(e,t){ee(t,X.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){ee(t,X.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,J.removeEditBtn(e,t),J.removeRemoveBtn(e,t),Y.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,i){var n,o;i!==t.level&&(n=ee(t,e),o=ee(t,X.id.A,e),e=ee(t,X.id.UL,e),i=X.className.LEVEL+i,t=X.className.LEVEL+t.level,n.removeClass(i),n.addClass(t),o.removeClass(i),o.addClass(t),e.removeClass(i),e.addClass(t))},selectNodes:function(e,t){for(var i=0,n=t.length;i<n;i++)J.selectNode(e,t[i],0<i)}},event:{},data:{setSonNodeLevel:function(e,t,i){if(i){var n=e.data.key.children;if(i.level=t?t.level+1:0,i[n])for(var o=0,a=i[n].length;o<a;o++)i[n][o]&&Z.setSonNodeLevel(e,i,i[n][o])}}}},e=(V.extend(!0,V.fn.zTree.consts,U),V.extend(!0,V.fn.zTree._z,e),V.fn.zTree),Y=e._z.tools,X=e.consts,J=e._z.view,Z=e._z.data,ee=(e._z.event,Y.$),a=(Z.exSetting({edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}}),Z.addInitBind(function(s){var e=s.treeObj,t=X.event;e.bind(t.RENAME,function(e,t,i,n){Y.apply(s.callback.onRename,[e,t,i,n])}),e.bind(t.DRAG,function(e,t,i,n){Y.apply(s.callback.onDrag,[t,i,n])}),e.bind(t.DRAGMOVE,function(e,t,i,n){Y.apply(s.callback.onDragMove,[t,i,n])}),e.bind(t.DROP,function(e,t,i,n,o,a,r){Y.apply(s.callback.onDrop,[t,i,n,o,a,r])})}),Z.addInitUnBind(function(e){var e=e.treeObj,t=X.event;e.unbind(t.RENAME),e.unbind(t.DRAG),e.unbind(t.DRAGMOVE),e.unbind(t.DROP)}),Z.addInitCache(function(e){}),Z.addInitNode(function(e,t,i,n,o,a,r){i&&(i.isHover=!1,i.editNameFlag=!1)}),Z.addInitProxy(function(e){var t=e.target,i=Z.getSetting(e.data.treeId),n=e.relatedTarget,o="",a=null,r="",s=null,l=null;if(Y.eqs(e.type,"mouseover")?(l=Y.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+X.id.A}]))&&(o=Y.getNodeMainDom(l).id,r="hoverOverNode"):Y.eqs(e.type,"mouseout")?(l=Y.getMDom(i,n,[{tagName:"a",attrName:"treeNode"+X.id.A}]))||(o="remove",r="hoverOutNode"):Y.eqs(e.type,"mousedown")&&(l=Y.getMDom(i,t,[{tagName:"a",attrName:"treeNode"+X.id.A}]))&&(o=Y.getNodeMainDom(l).id,r="mousedownNode"),0<o.length)switch(a=Z.getNodeCache(i,o),r){case"mousedownNode":s=d.onMousedownNode;break;case"hoverOverNode":s=d.onHoverOverNode;break;case"hoverOutNode":s=d.onHoverOutNode}return{stop:!1,node:a,nodeEventType:r,nodeEventCallback:s,treeEventType:"",treeEventCallback:null}}),Z.addInitRoot(function(e){var e=Z.getRoot(e),t=Z.getRoots();e.curEditNode=null,e.curEditInput=null,e.curHoverNode=null,e.dragFlag=0,e.dragNodeShowBefore=[],e.dragMaskList=new Array,t.showHoverDom=!0}),Z.addZTreeTools(function(e,t){t.cancelEditName=function(e){Z.getRoot(this.setting).curEditNode&&J.cancelCurEditNode(this.setting,e||null,!0)},t.copyNode=function(e,t,i,n){var o,a;return!t||e&&!e.isParent&&this.setting.data.keep.leaf&&i===X.move.TYPE_INNER?null:(o=this,a=Y.clone(t),e||(e=null,i=X.move.TYPE_INNER),i==X.move.TYPE_INNER?Y.canAsync(this.setting,e)?J.asyncNode(this.setting,e,n,r):r():(J.addNodes(this.setting,e.parentNode,-1,[a],n),J.moveNode(this.setting,e,a,i,!1,n)),a);function r(){J.addNodes(o.setting,e,-1,[a],n)}},t.editName=function(e){e&&e.tId&&e===Z.getNodeCache(this.setting,e.tId)&&(e.parentTId&&J.expandCollapseParentNode(this.setting,e.getParentNode(),!0),J.editNode(this.setting,e))},t.moveNode=function(e,t,i,n){if(t){if(e&&!e.isParent&&this.setting.data.keep.leaf&&i===X.move.TYPE_INNER)return null;if(e&&(t.parentTId==e.tId&&i==X.move.TYPE_INNER||0<ee(t,this.setting).find("#"+e.tId).length))return null;e=e||null;var o=this;Y.canAsync(this.setting,e)&&i===X.move.TYPE_INNER?J.asyncNode(this.setting,e,n,a):a()}return t;function a(){J.moveNode(o.setting,e,t,i,!1,n)}},t.setEditable=function(e){return this.setting.edit.enable=e,this.refresh()}}),J.cancelPreSelectedNode),r=(J.cancelPreSelectedNode=function(e,t){for(var i=Z.getRoot(e).curSelectedList,n=0,o=i.length;n<o&&(t&&t!==i[n]||(J.removeTreeDom(e,i[n]),!t));n++);a&&a.apply(J,arguments)},J.createNodes),i=(J.createNodes=function(e,t,i,n,o){r&&r.apply(J,arguments),i&&J.repairParentChkClassWithSelf&&J.repairParentChkClassWithSelf(e,n)},J.makeNodeUrl),n=(J.makeNodeUrl=function(e,t){return e.edit.enable?null:i.apply(J,arguments)},J.removeNode),o=(J.removeNode=function(e,t){e=Z.getRoot(e);e.curEditNode===t&&(e.curEditNode=null),n&&n.apply(J,arguments)},J.selectNode),s=(J.selectNode=function(e,t,i){var n=Z.getRoot(e);return!(Z.isSelectedNode(e,t)&&n.curEditNode==t&&t.editNameFlag||(o&&o.apply(J,arguments),J.addHoverDom(e,t),0))},Y.uCanDo);Y.uCanDo=function(e,t){e=Z.getRoot(e);return!(!t||!(Y.eqs(t.type,"mouseover")||Y.eqs(t.type,"mouseout")||Y.eqs(t.type,"mousedown")||Y.eqs(t.type,"mouseup")))||(e.curEditNode&&(J.editNodeBlur=!1,e.curEditInput.focus()),!e.curEditNode&&(!s||s.apply(J,arguments)))}}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof=(!function(){var r,i,a=this,o=this,s=o?o.document:null,n=(o&&o.document.documentElement,/^(["'](\\.|[^"\\\n\r])*?["']|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/),t=/^-ms-/,l=/[\-_]([\da-z])/gi,d=/([A-Z])/g,c=/\./,u=/[-|+]?[\D]/gi,O=/\D/gi,h=new RegExp("([0-9])([0-9][0-9][0-9][,.])"),M=/&/g,z=/=/,H=/[ ]+/g,p={},C=void 0,f=void 0;function g(e,t){if(w(e))return[];var i=void 0,n=0,o=e.length;if(void 0===o||"function"==typeof e){for(i in e)if(void 0!==e[i]&&!1===t.call(e[i],i,e[i]))break}else for(;n<o&&(void 0===e[n]||!1!==t.call(e[n],n,e[n++])););return e}function m(e){var i,t="";if(p.util.isArray(e)){var n=0,o=e.length;for(t+="[";n<o;n++)0<n&&(t+=","),t+=m(e[n]);t+="]"}else t=p.util.isObject(e)?(t+="{",i=[],g(e,function(e,t){i.push('"'+e+'": '+m(t))}),t+i.join(", ")+"}"):p.util.isString(e)?'"'+e+'"':p.util.isNumber(e)?e:p.util.isUndefined(e)?"undefined":p.util.isFunction(e)?'"{Function}"':e;return t}function x(e){return"[object Object]"==i.call(e)}function v(e){return"[object Array]"==i.call(e)}function y(e){return"function"==typeof e}function _(e){return"[object String]"==i.call(e)}function b(e){return"[object Number]"==i.call(e)}function w(e){return null==e||""===e}function k(e,t){return void 0===e||void 0===t?"":_(t)?-1<e.indexOf(t)?e.substr(0,e.indexOf(t)):"":b(t)?e.substr(0,t):""}function I(e,t){return void 0===e||void 0===t?"":(e=""+e,_(t)?-1<e.lastIndexOf(t)?e.substr(e.lastIndexOf(t)+1):"":b(t)?e.substr(e.length-t):"")}function T(e){return e.replace(t,"ms-").replace(l,function(e,t){return t.toUpperCase()})}function N(e){return T(e).replace(d,function(e,t){return"-"+t.toLowerCase()})}function E(e,t){var i,e=(""+e).split(c),n=Number(e[0].replace(/,/g,""))<0||"-0"==e[0],o=0;return e[0]=e[0].replace(u,""),o=e[1]?(e[1]=e[1].replace(O,""),Number(e[0]+"."+e[1])||0):Number(e[0])||0,i=n?-o:o,g(t,function(e,t){"round"==e&&(i=b(t)?t<0?+(Math.round(i+"e-"+Math.abs(t))+"e+"+Math.abs(t)):+(Math.round(i+"e+"+t)+"e-"+t):Math.round(i)),"floor"==e&&(i=Math.floor(i)),"ceil"==e?i=Math.ceil(i):"money"==e?i=function(){var e=""+i;if(isNaN(e)||""==e)return"";var t=e.split(".");for(t[0]+=".";t[0]=t[0].replace(h,"$1,$2"),h.test(t[0]););return 1<t.length?t.join(""):t[0].split(".")[0]}():"abs"==e?i=Math.abs(Number(i)):"byte"==e&&(t="KB",1<(e=Number(i)/1024)/1024&&(t="MB",e/=1024),1<e/1024&&(t="GB",e/=1024),i=E(e,{round:1})+t)}),i}function S(e,t,i,n,o,a){new Date;return t<0&&(t=0),void 0===n&&(n=12),void 0===o&&(o=0),e=new Date(Date.UTC(e,t,i||1,n,o,a||0)),0==t&&1==i&&e.getUTCHours()+e.getTimezoneOffset()/60<0?e.setUTCHours(0):e.setUTCHours(e.getUTCHours()+e.getTimezoneOffset()/60),e}function $(e,t){var i,n,o,a,r,s,l,d,c,u,h,p,f,g,m,v,x=void 0,y=void 0,b=void 0,w=void 0;if(_(e))if(0==e.length)e=new Date;else if(15<e.length)e=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i.test(e)||/^\d{4}(-\d\d(-\d\d(T\d\d:\d\d(:\d\d)?(\.\d+)?(([+-]\d\d:\d\d)|Z)?)?)?)?$/i.test(e)?new Date(e):(g=(v=(y=e.split(/ /g))[0].split(/\D/g))[0],m=parseFloat(v[1]),v=parseFloat(v[2]),y=(b=y[1]||"09:00").substring(0,5).split(":"),x=parseFloat(y[0]),y=parseFloat(y[1]),"AM"!==I(b,2)&&"PM"!==I(b,2)||(x+=12),S(g,m-1,v,x,y));else if(14==e.length)e=S((w=e.replace(/\D/g,"")).substr(0,4),w.substr(4,2)-1,E(w.substr(6,2)),E(w.substr(8,2)),E(w.substr(10,2)),E(w.substr(12,2)));else if(7<e.length)e=S((w=e.replace(/\D/g,"")).substr(0,4),w.substr(4,2)-1,E(w.substr(6,2)));else if(4<e.length)e=S((w=e.replace(/\D/g,"")).substr(0,4),w.substr(4,2)-1,1);else{if(2<e.length)return S((w=e.replace(/\D/g,"")).substr(0,4),w.substr(4,2)-1,1);e=new Date}return void 0!==t&&void 0!==e&&("add"in t&&(b=new Date(e),g=t.add,(v=m=void 0)!==g.d?b.setTime(b.getTime()+864e5*g.d):void 0!==g.m?(m=b.getFullYear(),x=b.getMonth(),v=b.getDate(),(y=D(m+=parseInt(g.m/12),x+=g.m%12))<v&&(v=y),b=new Date(m,x,v,12)):void 0!==g.y?b.setTime(b.getTime()+365*g.y*864e5):void 0!==g.h&&b.setTime(b.getTime()+1e3*g.h*60*60),e=b),"set"in t&&(w=new Date(e),y=t.set,f=p=h=void 0,e=y in(x={firstDayOfMonth:function(e){return h=e.getFullYear(),p=e.getMonth(),f=1,new Date(h,p,f,12)},lastDayOfMonth:function(e){return h=e.getFullYear(),p=e.getMonth(),f=D(h,p),new Date(h,p,f,12)}})?x[y](w):w),"return"in t)?(b=t.return,y=x=void 0,w=e.getUTCFullYear(),x=P(e.getMonth()+1,2),y=P(e.getDate(),2),t=P(e.getHours(),2),d=P(e.getMinutes(),2),c=P(e.getSeconds(),2),u=e.getDay(),/[^y]*(yyyy)[^y]*/gi.exec(b),i=RegExp.$1,/[^m]*(MM)[^m]*/g.exec(b),n=RegExp.$1,/[^d]*(dd)[^d]*/gi.exec(b),o=RegExp.$1,/[^h]*(hh)[^h]*/gi.exec(b),a=RegExp.$1,/[^m]*(mm)[^i]*/g.exec(b),r=RegExp.$1,/[^s]*(ss)[^s]*/gi.exec(b),s=RegExp.$1,/[^d]*(dw)[^w]*/gi.exec(b),l=RegExp.$1,"yyyy"===i&&(b=b.replace(i,I(w,i.length))),"MM"===n&&(1==n.length&&(x=e.getMonth()+1),b=b.replace(n,x)),"dd"===o&&(1==o.length&&(y=e.getDate()),b=b.replace(o,y)),"hh"===a&&(b=b.replace(a,t)),"mm"===r&&(b=b.replace(r,d)),"ss"===s&&(b=b.replace(s,c)),b="dw"==l?b.replace(l,C.weekNames[u].label):b):e}function D(e,t){return 3==t||5==t||8==t||10==t?30:1==t?e%4==0&&e%100!=0||e%400==0?29:28:31}function P(e,t,i,n){e=e.toString(n||10);return R(i||"0",t-e.length)+e}function R(e,t){return t<1?"":new Array(t+1).join(e)}function j(n,a,e){var r=void 0,s=void 0,i=void 0,l=void 0,d=void 0,c=void 0,u=0,h=!1,p=!1,t=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function f(e){var t=r,i=s;return r=s=void 0,u=e,l=n.apply(i,t)}function g(e){var t=e-c;return void 0===c||a<=t||t<0||p&&i<=e-u}function m(){var e,t=Date.now();if(g(t))return o(t);d=setTimeout(m,(e=(t=t)-u,t=a-(t-c),p?Math.min(t,i-e):t))}function o(e){return d=void 0,t&&r?f(e):(r=s=void 0,l)}function v(){for(var e=Date.now(),t=g(e),i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];if(r=n,s=this,c=e,t){if(void 0===d)return u=e=c,d=setTimeout(m,a),h?f(e):l;if(p)return d=setTimeout(m,a),f(c)}return void 0===d&&(d=setTimeout(m,a)),l}return a=+a||0,x(e)&&(h=!!e.leading,p="maxWait"in e,i=p?Math.max(+e.maxWait||0,a):i,t="trailing"in e?!!e.trailing:t),v.cancel=function(){void 0!==d&&clearTimeout(d),r=c=s=d=void(u=0)},v.flush=function(){return void 0===d?l:o(Date.now())},v}function A(e){return"[object String]"!=i.call(e)?e:e?e.replace(/[\<\>\&\"]/gm,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;";default:return e}}):""}function L(e){return"[object String]"!=i.call(e)?e:e?e.replace(/(&lt;)|(&gt;)|(&amp;)|(&quot;)/gm,function(e){switch(e){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&quot;":return'"';default:return e}}):""}p.guid=1,p.getGuid=function(){return p.guid++},p.info=C=function(){var e=arguments,t=o&&o.navigator?(n=-1!=(t=navigator.userAgent.toLowerCase()).search(/mobile/g),-1!=t.search(/iphone/g)?{name:"iphone",version:0,mobile:!0}:-1!=t.search(/ipad/g)?{name:"ipad",version:0,mobile:!0}:-1!=t.search(/android/g)?{name:"android",version:(i=/(android)[ \/]([\w.]+)/.exec(t)||[])[2]||"0",mobile:n}:{name:t="msie"==(t=(i=/(opr)[ \/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[])[1]||"")?"ie":t,version:i[2]||"0",mobile:n}):{},i=!("undefined"==typeof window||"undefined"==typeof navigator||!o.document),n=o&&/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";return{errorMsg:{},version:"1.4.117",baseUrl:"",onerror:function(){console.error(f.toArray(e).join(":"))},eventKeys:{BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34,INSERT:45,SPACE:32},weekNames:[{label:"SUN"},{label:"MON"},{label:"TUE"},{label:"WED"},{label:"THU"},{label:"FRI"},{label:"SAT"}],browser:t,isBrowser:i,supportTouch:!!o&&("ontouchstart"in o||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints),supportFileApi:!!o&&o.FileReader&&o.File&&o.FileList&&o.Blob,wheelEnm:n,urlUtil:function(e,t){return t=(e={href:o.location.href,param:o.location.search,referrer:s.referrer,pathname:o.location.pathname,hostname:o.location.hostname,port:o.location.port}).href.split(/[\?#]/),e.param=e.param.replace("?",""),e.url=t[0],-1<e.href.search("#")&&(e.hashdata=f.last(t)),e.baseUrl=f.left(e.href,"?").replace(e.pathname,""),e},getError:function(e,t,i){return C.errorMsg&&C.errorMsg[e]?{className:e,errorCode:t,methodName:i,msg:C.errorMsg[e][t]}:{className:e,errorCode:t,methodName:i}}}}(),p.util=(i=Object.prototype.toString,r={textRange:{selectAll:function(e,t,i){},arr:function(e,t,i){t.moveStart("character",i[0]),t.collapse(),t.moveEnd("character",i[1])},start:function(e,t,i){t.moveStart("character",0),t.collapse()},end:function(e,t,i){t.moveStart("character",t.text.length),t.collapse()}},range:{selectAll:function(e,t,i){t.selectNodeContents(e)},arr:function(e,t,i){x(i[0])?(t.setStart(i[0].node,i[0].offset),t.setEnd(i[1].node,i[1].offset)):(t.setStart(e.firstChild,i[0]),t.setEnd(e.firstChild,i[1]))},start:function(e,t,i){t.selectNodeContents(e),t.collapse(!0)},end:function(e,t,i){t.selectNodeContents(e),t.collapse(!1)}}},f={alert:function(e){return o.alert(m(e)),e},each:g,map:function(e,t){if(w(e))return[];var i=void 0,n=0,o=e.length,a=[],r=void 0;if(x(e)){for(i in e)if(void 0!==e[i]){if(r=void 0,!1===(r=t.call(e[i],i,e[i])))break;a.push(r)}}else for(;n<o;)if(void 0!==e[n]){if(r=void 0,!1===(r=t.call(e[n],n,e[n++])))break;a.push(r)}return a},search:function(e,t){if(!w(e))if(x(e))for(var i in e){if(void 0!==e[i]&&y(t)&&t.call(e[i],i,e[i]))return i;if(e[i]==t)return i}else for(var n=0,o=e.length;n<o;n++){if(void 0!==e[n]&&y(t)&&t.call(e[n],n,e[n]))return n;if(e[n]==t)return n}return-1},reduce:function(e,t){var i,n,o;if(v(e)){for(n=e.length,o=e[i=0];i<n-1&&(void 0===e[i]||!1!==(o=t.call(a,o,e[++i]))););return o}if(x(e)){for(i in e)if(void 0!==e[i]&&!1===(o=t.call(a,o,e[i])))break;return o}return console.error("argument error : ax5.util.reduce - use Array or Object"),null},reduceRight:function(e,t){for(var i=e.length-1,n=e[i];0<i&&(void 0===e[i]||!1!==(n=t.call(a,n,e[--i]))););return n},filter:function(e,t){if(w(e))return[];var i,n=0,o=e.length,a=[];if(x(e))for(i in e)void 0!==e[i]&&t.call(e[i],i,e[i])&&a.push(e[i]);else for(;n<o;)void 0!==e[n]&&(t.call(e[n],n,e[n])&&a.push(e[n]),n++);return a},sum:function(e,t,i){var n,o=void 0,a=void 0;if(y(t)&&void 0===i&&(i=t,t=0),void 0===t&&(t=0),v(e)){for(o=0,n=e.length;o<n;o++)if(void 0!==e[o]){if(!1===(a=i.call(e[o],e[o])))break;void 0!==a&&(t+=a)}}else if(x(e)){for(o in e)if(void 0!==e[o]){if(!1===(a=i.call(e[o],e[o])))break;void 0!==a&&(t+=a)}}else console.error("argument error : ax5.util.sum - use Array or Object");return t},avg:function(e,t,i){var n=void 0,o=void 0,a=void 0;if(y(t)&&void 0===i&&(i=t,t=0),void 0===t&&(t=0),v(e)){for(n=0,o=e.length;n<o;n++)if(void 0!==e[n]){if(!1===(a=i.call(e[n],e[n])))break;void 0!==a&&(t+=a)}return t/o}if(x(e)){for(n in o=0,e)if(void 0!==e[n]){if(!1===(a=i.call(e[n],e[n])))break;void 0!==a&&(t+=a),++o}return t/o}return console.error("argument error : ax5.util.sum - use Array or Object"),t},toJson:m,parseJson:function(e,t){if(!t&&!n.test(e))return{error:500,msg:"syntax error"};try{return new Function("","return "+e)()}catch(e){return{error:500,msg:"syntax error"}}},first:function(e){var t,i;return x(e)?((i={})[(t=Object.keys(e))[0]]=e[t[0]],i):v(e)?e[0]:void console.error("ax5.util.object.first","argument type error")},last:function(e){var t,i;return x(e)?((i={})[(t=Object.keys(e))[t.length-1]]=e[t[t.length-1]],i):v(e)?e[e.length-1]:void console.error("ax5.util.object.last","argument type error")},deepCopy:function e(t){if("object"!=(void 0===t?"undefined":_typeof(t)))return t;if(f.isArray(t)){for(var i=t.length,n=new Array(i),o=0;o<i;o++)n[o]=e(t[o]);return n}return jQuery.extend({},t)},left:k,right:I,getType:function(e){var t;return null!=e&&e==e.window?t="window":e&&1==e.nodeType?t="element":e&&11==e.nodeType?t="fragment":null===e?t="null":void 0===e?t="undefined":"[object Object]"==i.call(e)?t="object":"[object Array]"==i.call(e)?t="array":"[object String]"==i.call(e)?t="string":"[object Number]"==i.call(e)?t="number":"[object NodeList]"==i.call(e)?t="nodelist":"function"==typeof e&&(t="function"),t},isWindow:function(e){return null!=e&&e==e.window},isElement:function(e){return!(!e||1!=e.nodeType&&11!=e.nodeType)},isObject:x,isArray:v,isFunction:y,isString:_,isNumber:b,isNodelist:function(e){return!!("[object NodeList]"==i.call(e)||void 0!==e&&e&&e[0]&&1==e[0].nodeType)},isUndefined:function(e){return void 0===e},isNothing:w,setCookie:function(e,t,i,n){var o;return"number"==typeof i&&(o=new Date).setDate(o.getDate()+i),n=n||{},s.cookie=[escape(e),"=",escape(t),o?"; expires="+o.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")},getCookie:function(e){for(var t=e+"=",i=s.cookie.split(";"),n=0,o=i.length;n<o;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(-1!=a.indexOf(t))return unescape(a.substring(t.length,a.length))}return""},camelCase:T,snakeCase:N,number:E,toArray:function(e){return void 0!==e.length?Array.prototype.slice.call(e):[]},merge:function(e,t){var i=t.length,n=e.length,o=0;if("number"==typeof i)for(;o<i;o++)e[n++]=t[o];else for(;void 0!==t[o];)e[n++]=t[o++];return e.length=n,e},param:function(e,t){var i;return _(e)&&void 0!==t&&"param"==t?e:_(e)&&void 0!==t&&"object"==t||_(e)&&void 0===t?(i={},g(e.split(M),function(){var e=this.split(z);i[e[0]]?(_(i[e[0]])&&(i[e[0]]=[i[e[0]]]),i[e[0]].push(e[1])):i[e[0]]=e[1]}),i):(i=[],g(e,function(e,t){i.push(e+"="+escape(t))}),i.join("&"))},error:function(){p.info.onerror.apply(this,arguments)},date:$,dday:function(e,t){var i,e=$(e),n=864e5,o=new Date;function a(e){return Math.floor(e.getTime()/n)*n}return void 0===t?E((a(e)-a(o))/n,{floor:!0}):(i=E((a(e)-a(o))/n,{floor:!0}),t.today&&(o=$(t.today),i=E((a(e)-a(o))/n,{floor:!0})),t.thisYear&&(i=E((a(new Date(o.getFullYear(),e.getMonth(),e.getDate()))-a(o))/n,{floor:!0}))<0&&(i=E((a(new Date(o.getFullYear()+1,e.getMonth(),e.getDate()))-a(o))/n,{floor:!0})),t.age?new Date(o.getFullYear(),e.getMonth(),e.getDate()).getFullYear()-e.getFullYear():i)},daysOfMonth:D,weeksOfMonth:function(e){return{year:(e=$(e)).getFullYear(),month:e.getMonth()+1,count:parseInt(e.getDate()/7+1)}},setDigit:P,times:R,findParentNode:function(a,r){if(a)for(;function(){var e=!0;if(void 0===r)a=a.parentNode||!1;else if(y(r))e=r(a);else if(x(r))for(var t in r)if("tagname"===t){if(a.tagName.toLocaleLowerCase()!=r[t]){e=!1;break}}else if("clazz"===t||"class_name"===t){if(!("className"in a)){e=!1;break}for(var i=a.className.split(H),n=!1,o=0;o<i.length;o++)if(i[o]==r[t]){n=!0;break}e=n}else{if(!a.getAttribute){e=!1;break}if(a.getAttribute(t)!=r[t]){e=!1;break}}return!e}();){if(!a.parentNode||!a.parentNode.parentNode){a=!1;break}a=a.parentNode}return a},cssNumber:function(e){var t=(e=(""+e).match(/\D?(\d+)([a-zA-Z%]*)/i))[2]||"px";return e[1]+t},css:function(e){var t;if(x(e)){for(var i in t="",e)t+=i+":"+e[i]+";";return t}if(_(e))return t={},e.split(/[ ]*;[ ]*/g).forEach(function(e){""!==(e=e.trim())&&(e=e.split(/[ ]*:[ ]*/g),t[e[0]]=e[1])}),t},isDate:function(e){return e instanceof Date&&!isNaN(e.valueOf())},isDateFormat:function(e){var t,i,n=!1;if(e)if(e instanceof Date&&!isNaN(e.valueOf()))n=!0;else{if(7<e.length&&$(e)instanceof Date)return!0;7<(e=e.replace(/\D/g,"")).length&&(t=e.substr(4,2),i=e.substr(6,2),(e=$(e)).getMonth()==t-1)&&e.getDate()==i&&(n=!0)}return n},stopEvent:function(e){return(e=e||window.event).cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1},selectRange:function(e,t){var i,n,o;if(e=e instanceof jQuery?e.get(0):e){if(s.body.createTextRange?((i=document.body.createTextRange()).moveToElementText(e),n="textRange"):window.getSelection&&(o=window.getSelection(),i=document.createRange(),n="range"),void 0===t)r[n].selectAll.call(this,e,i,t);else if(v(t))r[n].arr.call(this,e,i,t);else for(var a in r[n])if(t==a){r[n][a].call(this,e,i,t);break}s.body.createTextRange?(i.select(),e.focus()):window.getSelection&&(e.focus(),o.removeAllRanges(),o.addRange(i))}},debounce:j,throttle:function(e,t,i){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return x(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),j(e,t,{leading:n,maxWait:t,trailing:o})},escapeHtml:A,unescapeHtml:L,string:function(t){return new function(e){this.value=t,this.toString=function(){return this.value},this.format=function(){for(var i=[],e=0,t=arguments.length;e<t;e++)i=i.concat(arguments[e]);return this.value.replace(/{(\d+)}/g,function(e,t){return void 0!==i[t]?i[t]:e})},this.escape=function(){return A(this.value)},this.unescape=function(){return L(this.value)},this.encode=function(){return e=this.value,encodeURIComponent(e);var e},this.decode=function(){return e=this.value,decodeURIComponent(e);var e},this.left=function(e){return k(this.value,e)},this.right=function(e){return I(this.value,e)},this.camelCase=function(){return T(this.value)},this.snakeCase=function(){return N(this.value)}}},color:function n(e){i="[\\s|\\(]+("+(t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",o="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";var t,i,o,a={CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function r(e){return e=e<=1?100*e+"%":e}function s(e){return p.util.number(Math.min(255,Math.max(e,0)),{round:2})}function l(e){return P(Math.round(e).toString(16),2)}function d(e,t){var i="string"==typeof(i=e="string"==typeof(i=e)&&-1!=i.indexOf(".")&&1===parseFloat(i)?"100%":e)&&-1!=i.indexOf("%");return e=Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function c(e,t,i){e=d(e,255),t=d(t,255),i=d(i,255);var n,o=Math.max(e,t,i),a=Math.min(e,t,i),r=(o+a)/2;if(o==a)n=l=0;else{var s=o-a,l=.5<r?s/(2-o-a):s/(o+a);switch(o){case e:n=(t-i)/s+(t<i?6:0);break;case t:n=(i-e)/s+2;break;case i:n=(e-t)/s+4}n/=6}return{h:n,s:l,l:r}}function u(e,t,i){var n=void 0,o=void 0,a=void 0;function r(e,t,i){return i<0&&(i+=1),1<i&&--i,i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}return e=d(e,360),t=d(t,100),i=d(i,100),0===t?n=o=a=i:(n=r(t=2*i-(i=i<.5?i*(1+t):i+t-i*t),i,e+1/3),o=r(t,i,e),a=r(t,i,e-1/3)),{r:255*n,g:255*o,b:255*a}}return new function(e){var t,i;this._originalValue=e,t=e,e=(i=a.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=a.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=a.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=a.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=a.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=a.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=a.hex8.exec(t))?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16),a:parseInt(i[4]/255,16),format:"hex8"}:(i=a.hex6.exec(t))?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16),format:"hex"}:(i=a.hex4.exec(t))?{r:parseInt(i[1]+""+i[1],16),g:parseInt(i[2]+""+i[2],16),b:parseInt(i[3]+""+i[3],16),a:parseInt(i[4]+""+i[4],16),format:"hex8"}:!!(i=a.hex3.exec(t))&&{r:parseInt(i[1]+""+i[1],16),g:parseInt(i[2]+""+i[2],16),b:parseInt(i[3]+""+i[3],16),format:"hex"},this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a||1,this._format=e.format,this._hex=l(this.r)+l(this.g)+l(this.b),this.getHexValue=function(){return this._hex},this.lighten=function(e){e=0===e?0:e||10;var t=c(this.r,this.g,this.b);return t.l+=e/100,t.l=Math.min(1,Math.max(0,t.l)),t.h=360*t.h,n("rgba("+s((e=u(t.h,r(t.s),r(t.l))).r)+", "+s(e.g)+", "+s(e.b)+", "+this.a+")")},this.darken=function(e){e=0===e?0:e||10;var t=c(this.r,this.g,this.b);return t.l-=e/100,t.l=Math.min(1,Math.max(0,t.l)),t.h=360*t.h,n("rgba("+s((e=u(t.h,r(t.s),r(t.l))).r)+", "+s(e.g)+", "+s(e.b)+", "+this.a+")")},this.getBrightness=function(){return(299*this.r+587*this.g+114*this.b)/1e3},this.isDark=function(){return this.getBrightness()<128},this.isLight=function(){return!this.isDark()},this.getHsl=function(){var e=c(this.r,this.g,this.b);return e.l=Math.min(1,Math.max(0,e.l)),e.h=360*e.h,{h:e.h,s:e.s,l:e.l}}}(e)}}),"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=p:a.ax5=p}.call("undefined"!=typeof window?window:void 0),ax5.def={},ax5.info.errorMsg.ax5dialog={501:"Duplicate call error"},ax5.info.errorMsg.ax5picker={401:"Can not find target element",402:"Can not find boundID",501:"Can not find content key"},ax5.info.errorMsg["single-uploader"]={460:"There are no files to be uploaded.",461:"There is no uploaded files."},ax5.info.errorMsg.ax5calendar={401:"Can not find target element"},ax5.info.errorMsg.ax5formatter={401:"Can not find target element",402:"Can not find boundID",501:"Can not find pattern"},ax5.info.errorMsg.ax5menu={501:"Can not find menu item"},ax5.info.errorMsg.ax5select={401:"Can not find target element",402:"Can not find boundID",501:"Can not find option"},ax5.info.errorMsg.ax5combobox={401:"Can not find target element",402:"Can not find boundID",501:"Can not find option"},!function(){var o,a,r,s,l,t,d,c,i,n,e,u,h,p,f,g,m,v,x,y=/^\s*|\s*$/g,b=(Object.keys||(Object.keys=(o=Object.prototype.hasOwnProperty,a=!{toString:null}.propertyIsEnumerable("toString"),s=(r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!==(void 0===e?"undefined":_typeof(e))&&("function"!=typeof e||null===e))throw new TypeError("type err");var t,i,n=[];for(t in e)o.call(e,t)&&n.push(t);if(a)for(i=0;i<s;i++)o.call(e,r[i])&&n.push(r[i]);return n})),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();for(var n=arguments[1],o=0;o<i;o++)o in t&&e.call(n,t[o],o,t)}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw TypeError("function");function t(){return o.apply(this instanceof a?this:e,n.concat(i.call(arguments)))}var i=[].slice,n=i.call(arguments,1),o=this;function a(){}return a.prototype=o.prototype,t.prototype=new a,t}),document.querySelectorAll||document.querySelector||document.createStyleSheet&&(l=document.createStyleSheet(),t=function(e,t){var i,n=document.all,o=n.length,a=[];for(l.addRule(e,"foo:bar"),i=0;i<o&&!("bar"===n[i].currentStyle.foo&&(a.push(n[i]),t<a.length));i+=1);return l.removeRule(0),a},document.querySelectorAll=function(e){return t(e,1/0)},document.querySelector=function(e){return t(e,1)[0]||null}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(y,"")}),window.JSON||(window.JSON={parse:function(e){return new Function("","return "+e)()},stringify:(c=/["]/g,d=function(e){var t,i,n;switch(t=void 0===e?"undefined":_typeof(e)){case"string":return'"'+e.replace(c,'\\"')+'"';case"number":case"boolean":return e.toString();case"undefined":return"undefined";case"function":return'""';case"object":if(!e)return"null";if(t="",e.splice){for(i=0,n=e.length;i<n;i++)t+=","+d(e[i]);return"["+t.substr(1)+"]"}for(i in e)e.hasOwnProperty(i)&&void 0!==e[i]&&"function"!=typeof e[i]&&(t+=',"'+i+'":'+d(e[i]));return"{"+t.substr(1)+"}"}})}),!document.documentMode||9<=document.documentMode||(i=Array.prototype.splice,Array.prototype.splice=function(){var e=Array.prototype.slice.call(arguments);return void 0===e[1]&&(e[1]=this.length-e[0]),i.apply(this,e)}),Array.prototype.slice);try{b.call(document.documentElement)}catch(e){Array.prototype.slice=function(e,t){if(t=void 0!==t?t:this.length,"[object Array]"===Object.prototype.toString.call(this))return b.call(this,e,t);var i,n,o=[],a=this.length,r=0<=(r=e||0)?r:Math.max(0,a+r),e="number"==typeof t?Math.min(t,a):a;if(0<(n=(e=t<0?a+t:e)-r))if(o=new Array(n),this.charAt)for(i=0;i<n;i++)o[i]=this.charAt(r+i);else for(i=0;i<n;i++)o[i]=this[r+i];return o}}for(var w,C,_=window.console||{},k={},I=function(){},T="memory".split(","),N="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");w=T.pop();)_[w]=_[w]||k;for(;C=N.pop();)_[C]=_[C]||I;window.webkitMatchMedia||window.mozMatchMedia||window.oMatchMedia||window.msMatchMedia||window.matchMedia||(document.getElementsByTagName("html")[0].className+=" no-matchmedia"),window.matchMedia||(window.matchMedia=((h=window.styleMedia||window.media)||(n=document.createElement("style"),e=document.getElementsByTagName("script")[0],u=null,n.type="text/css",n.id="matchmediajs-test",e.parentNode.insertBefore(n,e),u="getComputedStyle"in window&&window.getComputedStyle(n,null)||n.currentStyle,h={matchMedium:function(e){e="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return n.styleSheet?n.styleSheet.cssText=e:n.textContent=e,"1px"===u.width}}),function(e){return{matches:h.matchMedium(e||"all"),media:e||"all"}})),window.matchMedia&&window.matchMedia("all").addListener||(f=(p=window.matchMedia)("only all").matches,g=!1,m=0,v=[],x=function(e){clearTimeout(m),m=setTimeout(function(){for(var e=0,t=v.length;e<t;e++){var i=v[e].mql,n=v[e].listeners||[],o=p(i.media).matches;if(o!==i.matches){i.matches=o;for(var a=0,r=n.length;a<r;a++)n[a].call(window,i)}}},30)},window.matchMedia=function(e){var t=p(e),n=[],i=0;return t.addListener=function(e){f&&(g||(g=!0,window.addEventListener("resize",x,!0)),0===i&&(i=v.push({mql:t,listeners:n})),n.push(e))},t.removeListener=function(e){for(var t=0,i=n.length;t<i;t++)n[t]===e&&n.splice(t,1)},t});document.getElementsByTagName("html")[0],document.getElementsByTagName("body")[0]}.call(window),ax5.ui={root:function(){this.config={},this.name="root",this.setConfig=function(e,t){return jQuery.extend(!0,this.config,e),void 0!==t&&!0!==t||this.init(),this},this.init=function(){console.log(this.config)},this.bindWindowResize=function(e){setTimeout(function(){jQuery(window).resize(function(){this.bindWindowResize__&&clearTimeout(this.bindWindowResize__),this.bindWindowResize__=setTimeout(function(){e.call(this)}.bind(this),10)}.bind(this))}.bind(this),100)},this.stopEvent=function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!(e.cancelBubble=!0)},this.toString=function(){return this.name+"@"+this.version},this.main=function(){}.apply(this,arguments)},addClass:function(i,t){if(!i||!i.className)throw"invalid call";var e=i.classStore||ax5.ui;if(!e)throw"invalid classStore";function n(){var e;if(this&&this instanceof n)return e=o(t,arguments),a(i.className,i.version||"",e);throw"invalid call"}ax5.def[i.className]={version:ax5.info.version};var o=function(e,t){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2])}},a=function(e,t,i){return i.name=e,i.version=t,i.instanceId=ax5.getGuid(),i};!function(e){var t=i.superClass||ax5.ui.root;if(!ax5.util.isFunction(t))throw"invalid superClass";t.call(this),e.prototype=new t}.call(this,t),e[i.className]=n}},!function(e,t){t(e.mustache={})}(window.ax5,function(N){var t=Object.prototype.toString,E=Array.isArray||function(e){return"[object Array]"===t.call(e)};function d(e){return"function"==typeof e}function S(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(e,t){return null!=e&&"object"===(void 0===e?"undefined":_typeof(e))&&t in e}var i=RegExp.prototype.test;var n=/\S/;function $(e){return!i.call(n,e)}var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};var D=/\s*/,P=/\s+/,R=/\s*=/,j=/\s*\}/,A=/#|\^|\/|>|\{|&|=|!/;function a(e,t){if(!e)return[];var i,n,o,a=[],r=[],s=[],l=!1,d=!1;function c(e){if("string"==typeof e&&(e=e.split(P,2)),!E(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(S(e[0])+"\\s*"),n=new RegExp("\\s*"+S(e[1])),o=new RegExp("\\s*"+S("}"+e[1]))}c(t||N.tags);for(var u,h,p,f,g,m,v=new L(e);!v.eos();){if(u=v.pos,p=v.scanUntil(i))for(var x=0,y=p.length;x<y;++x)if($(f=p.charAt(x))?s.push(r.length):d=!0,r.push(["text",f,u,u+1]),u+=1,"\n"===f){if(l&&!d)for(;s.length;)delete r[s.pop()];else s=[];d=l=!1}if(!v.scan(i))break;if(l=!0,h=v.scan(A)||"name",v.scan(D),"="===h?(p=v.scanUntil(R),v.scan(R),v.scanUntil(n)):"{"===h?(p=v.scanUntil(o),v.scan(j),v.scanUntil(n),h="&"):p=v.scanUntil(n),!v.scan(n))throw new Error("Unclosed tag at "+v.pos);if(g=[h,p,u,v.pos],r.push(g),"#"===h||"^"===h)a.push(g);else if("/"===h){if(!(m=a.pop()))throw new Error('Unopened section "'+p+'" at '+u);if(m[1]!==p)throw new Error('Unclosed section "'+m[1]+'" at '+u)}else"name"===h||"{"===h||"&"===h?d=!0:"="===h&&c(p)}if(m=a.pop())throw new Error('Unclosed section "'+m[1]+'" at '+v.pos);for(var b,w=function(e){for(var t,i,n=[],o=0,a=e.length;o<a;++o)(t=e[o])&&("text"===t[0]&&i&&"text"===i[0]?(i[1]+=t[1],i[3]=t[3]):(n.push(t),i=t));return n}(r),C=[],_=C,k=[],I=0,T=w.length;I<T;++I)switch((b=w[I])[0]){case"#":case"^":_.push(b),k.push(b),_=b[4]=[];break;case"/":k.pop()[5]=b[2],_=0<k.length?k[k.length-1][4]:C;break;default:_.push(b)}return C}function L(e){this.string=e,this.tail=e,this.pos=0}function r(e,t){this.view=e,this.cache={".":this.view,"@each":function(){var e,t=[];for(e in this)t.push({"@key":e,"@value":this[e]});return t}},this.parent=t}function e(){this.cache={}}L.prototype.eos=function(){return""===this.tail},L.prototype.scan=function(e){var e=this.tail.match(e);return e&&0===e.index?(e=e[0],this.tail=this.tail.substring(e.length),this.pos+=e.length,e):""},L.prototype.scanUntil=function(e){var t,i=this.tail.search(e);switch(i){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=t.length,t},r.prototype.push=function(e){return new r(e,this)},r.prototype.lookup=function(e){var t,i=this.cache;if(i.hasOwnProperty(e))t=i[e];else{for(var n,o,a=this,r=!1;a;){if(0<e.indexOf("."))for(t=a.view,n=e.split("."),o=0;null!=t&&o<n.length;)o===n.length-1&&(r=s(t,n[o])),t=t[n[o++]];else t=a.view[e],r=s(a.view,e);if(r)break;a=a.parent}i[e]=t}return t=d(t)?t.call(this.view):t},e.prototype.clearCache=function(){this.cache={}},e.prototype.parse=function(e,t){var i=this.cache,n=i[e];return n=null==n?i[e]=a(e,t):n},e.prototype.render=function(e,t,i){var n=this.parse(e),t=t instanceof r?t:new r(t);return this.renderTokens(n,t,i,e)},e.prototype.renderTokens=function(e,t,i,n){for(var o,a,r,s="",l=0,d=e.length;l<d;++l)r=void 0,"#"===(a=(o=e[l])[0])?r=this.renderSection(o,t,i,n):"^"===a?r=this.renderInverted(o,t,i,n):">"===a?r=this.renderPartial(o,t,i,n):"&"===a?r=this.unescapedValue(o,t):"name"===a?r=this.escapedValue(o,t):"text"===a&&(r=this.rawValue(o)),void 0!==r&&(s+=r);return s},e.prototype.renderSection=function(e,t,i,n){var o=this,a="",r=t.lookup(e[1]);if(r){if(E(r))for(var s=0,l=r.length;s<l;++s)r[s]&&("object"===_typeof(r[s])&&(r[s]["@i"]=s,r[s]["@first"]=0===s),a+=this.renderTokens(e[4],t.push(r[s]),i,n));else if("object"===(void 0===r?"undefined":_typeof(r))||"string"==typeof r||"number"==typeof r)a+=this.renderTokens(e[4],t.push(r),i,n);else if(d(r)){if("string"!=typeof n)throw new Error("Cannot use higher-order sections without the original template");null!=(r=r.call(t.view,n.slice(e[3],e[5]),function(e){return o.render(e,t,i)}))&&(a+=r)}else a+=this.renderTokens(e[4],t,i,n);return a}},e.prototype.renderInverted=function(e,t,i,n){var o=t.lookup(e[1]);if(!o||E(o)&&0===o.length)return this.renderTokens(e[4],t,i,n)},e.prototype.renderPartial=function(e,t,i){return i&&null!=(e=d(i)?i(e[1]):i[e[1]])?this.renderTokens(this.parse(e),t,i,e):void 0},e.prototype.unescapedValue=function(e,t){t=t.lookup(e[1]);if(null!=t)return t},e.prototype.escapedValue=function(e,t){t=t.lookup(e[1]);if(null!=t)return N.escape(t)},e.prototype.rawValue=function(e){return e[1]},N.name="mustache.js",N.version="2.1.3",N.tags=["{{","}}"];var l=new e;N.clearCache=function(){return l.clearCache()},N.parse=function(e,t){return l.parse(e,t)},N.render=function(e,t,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(E(n=e)?"array":void 0===n?"undefined":_typeof(n))+'" was given as the first argument for mustache#render(template, view, partials)');var n;return l.render(e,t,i)},N.to_html=function(e,t,i,n){e=N.render(e,t,i);if(!d(n))return e;n(e)},N.escape=function(e){return String(e).replace(/[&<>"'\/]/g,function(e){return o[e]})},N.Scanner=L,N.Context=r,N.Writer=e}),!function(){var e=ax5.ui,u=ax5.util,i=void 0;e.addClass({className:"dialog"},function(){function n(t,i){var e={},n=void 0;t.id=t.id||a.id,n={width:t.width},jQuery(document.body).append(s.call(this,t.id,t)),this.dialogConfig=t,this.activeDialog=jQuery("#"+t.id),this.activeDialog.css({width:n.width}),void 0===i&&(i=t.callback),t.height=n.height=this.activeDialog.height(),void 0===t.position||"center"===t.position?(e.top=jQuery(window).height()/2-n.height/2,e.left=jQuery(window).width()/2-n.width/2):(e.left=t.position.left||0,e.top=t.position.top||0),a.zIndex&&(e["z-index"]=a.zIndex),this.activeDialog.css(e),("prompt"===t.dialogType?this.activeDialog.find("[data-dialog-prompt]"):this.activeDialog.find("[data-dialog-btn]")).get(0).focus(),this.activeDialog.find("[data-dialog-btn]").on(a.clickEventName,function(e){d.call(this,e||window.event,t,i)}.bind(this)),jQuery(window).bind("keydown.ax5dialog",function(e){c.call(this,e||window.event,t,i)}.bind(this)),jQuery(window).bind("resize.ax5dialog",function(e){l.call(this,e||window.event)}.bind(this)),r.call(this,t,{self:this,state:"open"}),t.autoCloseTime&&(this.autoCloseTimer=setTimeout(function(){o.close()},t.autoCloseTime)),e=null}var o=this,a=void 0,r=(this.instanceId=ax5.getGuid(),this.config={id:"ax5-dialog-"+this.instanceId,clickEventName:"click",theme:"default",width:300,title:"",msg:"",lang:{ok:"ok",cancel:"cancel"},animateTime:150,autoCloseTime:0},this.activeDialog=null,this.autoCloseTimer=null,this.queue=[],a=this.config,function(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),!(t=null)}),s=function(e,t){t={dialogId:e,title:t.title||a.title||"",msg:(t.msg||a.msg||"").replace(/\n/g,"<br/>"),input:t.input,btns:t.btns,_crlf:function(){return this.replace(/\n/g,"<br/>")},additionalContent:(e=t.additionalContent,u.isFunction(e)?e.call(t):e)};return i.tmpl.get.call(this,"dialogDisplay",t)},l=function(e){var t,i;return this.activeDialog&&(i={width:(t=o.dialogConfig).width,height:t.height},void 0===t.position||"center"===t.position?(i.top=window.innerHeight/2-i.height/2,i.left=window.innerWidth/2-i.width/2):(i.left=t.position.left||0,i.top=t.position.top||0),i.left<0&&(i.left=0),i.top<0&&(i.top=0),this.activeDialog.css(i),i=t=null),this},d=function(e,t,i,n,o){var a=void 0,r=null;if(e.srcElement&&(e.target=e.srcElement),n=u.findParentNode(e.target,function(e){if(e.getAttribute("data-dialog-btn"))return!0})){if(a={self:this,key:o=n.getAttribute("data-dialog-btn"),value:t.btns[o],dialogId:t.id,btnTarget:n},"prompt"===t.dialogType)for(var s in a.input={},t.input)if(a.input[s]=this.activeDialog.find("[data-dialog-prompt="+s+"]").val(),t.input[s].required&&(""==a.input[s]||null==a.input[s])){r=s;break}if(t.btns[o].onClick)t.btns[o].onClick.call(a,o);else if("alert"===t.dialogType)i&&i.call(a,o),this.close({doNotCallback:!0});else if("confirm"===t.dialogType)i&&i.call(a,o),this.close({doNotCallback:!0});else if("prompt"===t.dialogType){if("ok"===o&&r)return this.activeDialog.find('[data-dialog-prompt="'+r+'"]').get(0).focus(),!1;i&&i.call(a,o),this.close({doNotCallback:!0})}}n=i=t=a=null},c=function(e,t,i,n,o){var a=void 0,r=null;if(e.keyCode==ax5.info.eventKeys.ESC&&this.close(),"prompt"===t.dialogType&&e.keyCode==ax5.info.eventKeys.RETURN){for(var s in a={self:this,key:o,value:t.btns[o],dialogId:t.id,btnTarget:n,input:{}},t.input)if(a.input[s]=this.activeDialog.find("[data-dialog-prompt="+s+"]").val(),t.input[s].required&&(""==a.input[s]||null==a.input[s])){r=s;break}if(r)return r=a=null,!1;i&&i.call(a,o),this.close({doNotCallback:!0})}n=i=t=r=a=null};this.init=function(){this.onStateChanged=a.onStateChanged},this.alert=function(e,t,i){return u.isString(e)&&(e={title:a.title,msg:e}),(e=jQuery.extend(!0,{},a,e)).dialogType="alert",e.theme=e.theme||a.theme||"",e.callback=t,void 0===e.btns&&(e.btns={ok:{label:a.lang.ok,theme:e.theme}}),this.activeDialog?this.queue.push(e):n.call(this,e,t),this},this.confirm=function(e,t,i){return u.isString(e)&&(e={title:a.title,msg:e}),(e=jQuery.extend(!0,{},a,e)).dialogType="confirm",e.theme=e.theme||a.theme||"",e.callback=t,void 0===e.btns&&(e.btns={ok:{label:a.lang.ok,theme:e.theme},cancel:{label:a.lang.cancel}}),this.activeDialog?this.queue.push(e):n.call(this,e,t),this},this.prompt=function(e,t,i){return u.isString(e)&&(e={title:a.title,msg:e}),(e=jQuery.extend(!0,{},a,e)).dialogType="prompt",e.theme=e.theme||a.theme||"",e.callback=t,void 0===e.input&&(e.input={value:{label:""}}),void 0===e.btns&&(e.btns={ok:{label:a.lang.ok,theme:e.theme},cancel:{label:a.lang.cancel}}),this.activeDialog?this.queue.push(e):n.call(this,e,t),this},this.close=function(e){var t,i=void 0;return this.activeDialog&&(this.autoCloseTimer&&clearTimeout(this.autoCloseTimer),i=o.dialogConfig,this.activeDialog.addClass("destroy"),jQuery(window).unbind("keydown.ax5dialog"),jQuery(window).unbind("resize.ax5dialog"),setTimeout(function(){this.activeDialog&&(this.activeDialog.remove(),this.activeDialog=null),t={self:this,state:"close",dialogId:i.id},!i.callback||e&&e.doNotCallback||i.callback.call(t),i&&i.onStateChanged?i.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),this.queue&&this.queue.length&&n.call(this,this.queue.shift()),i=null}.bind(this),a.animateTime)),this},this.main=function(){e.dialog_instance=e.dialog_instance||[],e.dialog_instance.push(this),arguments&&u.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}),i=ax5.ui.dialog}(),!function(){var n=ax5.ui.dialog;n.tmpl={dialogDisplay:function(e){return' \n        <div id="{{dialogId}}" data-dialog-els="root" class="ax5-ui-dialog {{theme}}">\n            <div class="ax-dialog-header" data-dialog-els="header">\n                {{{title}}}\n            </div>\n            <div class="ax-dialog-body" data-dialog-els="body">\n                <div class="ax-dialog-msg">{{{msg}}}</div>\n                \n                {{#input}}\n                <div class="ax-dialog-prompt">\n                    {{#@each}}\n                    <div class="form-group">\n                    {{#@value.label}}\n                    <label>{{#_crlf}}{{{.}}}{{/_crlf}}</label>\n                    {{/@value.label}}\n                    <input type="{{@value.type}}" placeholder="{{@value.placeholder}}" class="form-control {{@value.theme}}" data-dialog-prompt="{{@key}}" style="width:100%;" value="{{@value.value}}" />\n                    {{#@value.help}}\n                    <p class="help-block">{{#_crlf}}{{.}}{{/_crlf}}</p>\n                    {{/@value.help}}\n                    </div>\n                    {{/@each}}\n                </div>\n                {{/input}}\n                \n                <div class="ax-dialog-buttons" data-dialog-els="buttons">\n                    <div class="ax-button-wrap">\n                    {{#btns}}\n                        {{#@each}}\n                        <button type="button" data-dialog-btn="{{@key}}" class="btn btn-{{@value.theme}}">{{@value.label}}</button>\n                        {{/@each}}\n                    {{/btns}}\n                    </div>\n                </div>\n                \n                {{#additionalContent}}\n                <div data-dialog-els="additional-content">{{{.}}}</div>\n                {{/additionalContent}}\n            </div>\n        </div>  \n        '},get:function(e,t,i){return ax5.mustache.render(n.tmpl[e].call(this,i),t)}}}(),!function(){var t=ax5.ui,i=ax5.util,h=void 0;t.addClass({className:"mask"},function(){function d(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),!(t=e=null)}function c(e){this.maskContent=e}var e,u=this;this.instanceId=ax5.getGuid(),this.config={theme:"",target:jQuery(document.body).get(0),animateTime:250},this.maskContent="",this.status="off",e=this.config;this.init=function(){this.onStateChanged=e.onStateChanged,this.onClick=e.onClick,this.config.content&&c.call(this,this.config.content)},this.open=function(e){"on"===this.status&&this.close(),e&&e.content&&c.call(this,e.content),e&&void 0===e.templateName&&(e.templateName="defaultMask"),u.maskConfig=jQuery.extend(!0,{},this.config,e);var t=u.maskConfig,i=t.target,n=jQuery(i),o="ax-mask-"+ax5.getGuid(),a=void 0,r={},s={},l=t.templateName,l=function(e){return void 0===e.templateName&&(e.templateName="defaultMask"),h.tmpl.get.call(this,e.templateName,e)}({theme:t.theme,maskId:o,body:this.maskContent,templateName:l});return jQuery(document.body).append(l),i&&i!==jQuery(document.body).get(0)&&(r={position:t.position||"absolute",left:n.offset().left,top:n.offset().top,width:n.outerWidth(),height:n.outerHeight()},n.addClass("ax-masking"),jQuery(window).on("resize.ax5mask-"+this.instanceId,function(e){this.align()}.bind(this))),void 0!==u.maskConfig.zIndex&&(r["z-index"]=u.maskConfig.zIndex),this.$mask=a=jQuery("#"+o),this.$target=n,this.status="on",a.css(r),t.onClick&&a.on("click",function(e){s={self:u,state:"open",type:"click"},u.maskConfig.onClick.call(s,s)}),d.call(this,null,{self:this,state:"open"}),s=r=a=n=e=null,this},this.close=function(e){var t;return this.$mask&&(t=function(){this.status="off",this.$mask.remove(),this.$target.removeClass("ax-masking"),d.call(this,null,{self:this,state:"close"}),jQuery(window).off("resize.ax5mask-"+this.instanceId)},e?setTimeout(function(){t.call(this)}.bind(this),e):t.call(this)),this},this.fadeOut=function(){return this.$mask&&(this.$mask.addClass("fade-out"),setTimeout(function(){!function(){this.status="off",this.$mask.remove(),this.$target.removeClass("ax-masking"),d.call(this,null,{self:this,state:"close"}),jQuery(window).off("resize.ax5mask-"+this.instanceId)}.call(this)}.bind(this),e.animateTime)),this},this.align=function(){if(this.maskConfig&&this.maskConfig.target&&this.maskConfig.target!==jQuery(document.body).get(0))try{var e={position:this.maskConfig.position||"absolute",left:this.$target.offset().left,top:this.$target.offset().top,width:this.$target.outerWidth(),height:this.$target.outerHeight()};this.$mask.css(e)}catch(e){}return this},this.pullRequest=function(){console.log("test pullRequest01"),console.log("test pullRequest02")},this.main=function(){t.mask_instance=t.mask_instance||[],t.mask_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}),h=ax5.ui.mask}(),!function(){var n=ax5.ui.mask;n.tmpl={defaultMask:function(e){return'\n            <div class="ax-mask {{theme}}" id="{{maskId}}">\n                <div class="ax-mask-bg"></div>\n                <div class="ax-mask-content">\n                    <div class="ax-mask-body">\n                    {{{body}}}\n                    </div>\n                </div>\n            </div>\n        '},get:function(e,t,i){return ax5.mustache.render(n.tmpl[e].call(this,i),t)}}}(),!function(){var n,e=ax5.ui,u=ax5.util;e.addClass({className:"toast"},function(){function i(t,i){s&&clearTimeout(s);var n,e={width:t.width};if(t.id="ax5-toast-"+a.containerId+"-"+ ++r,jQuery("#"+t.id).get(0))return this;"bottom"==u.left(o.containerPosition,"-")?this.toastContainer.append(d(t.id,t)):this.toastContainer.prepend(d(t.id,t)),(n=jQuery("#"+t.id)).css({width:e.width}),t.toastBox=n,this.queue.push(t),l.call(this,t,{self:this,state:"open",toastId:t.id}),"push"===t.toastType?(setTimeout(function(){this.close(t,i)}.bind(this),o.displayTime),n.find("[data-ax-toast-btn]").on(o.clickEventName,function(e){c.call(this,e||window.event,t,n,i)}.bind(this))):"confirm"===t.toastType&&n.find("[data-ax-toast-btn]").on(o.clickEventName,function(e){c.call(this,e||window.event,t,n,i)}.bind(this))}var o,a=this,r=0,s=null,l=(this.instanceId=ax5.getGuid(),this.config={clickEventName:"click",theme:"default",width:300,icon:"",closeIcon:"",msg:"",lang:{ok:"ok",cancel:"cancel"},displayTime:3e3,animateTime:250,containerPosition:"bottom-left"},this.toastContainer=null,this.queue=[],o=this.config,function(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),!(t=e=null)}),d=function(e,t){t={toastId:e,theme:t.theme,icon:t.icon,msg:(t.msg||"").replace(/\n/g,"<br/>"),btns:t.btns,closeIcon:t.closeIcon};try{return n.tmpl.get.call(this,"toastDisplay",t)}finally{e=null}},c=function(e,t,i,n,o,a){var r;(o=u.findParentNode(e.target,function(e){if(e.getAttribute("data-ax-toast-btn"))return!0}))&&(r={key:a=o.getAttribute("data-ax-toast-btn"),value:t.btns?t.btns[a]:a,toastId:t.id,btn_target:o},t.btns&&t.btns[a].onClick?t.btns[a].onClick.call(r,a):"push"!==t.toastType&&"confirm"!==t.toastType||(n&&n.call(r,a),this.close(t,n))),o=n=t=e=null};this.init=function(){this.onStateChanged=o.onStateChanged,a.containerId=ax5.getGuid();var e=[];o.zIndex&&e.push("z-index:"+o.zIndex),jQuery(document.body).append('<div class="ax5-ui-toast-container '+o.containerPosition+'" data-toast-container="'+a.containerId+'" style="'+e.join(";")+'"></div>'),this.toastContainer=jQuery('[data-toast-container="'+a.containerId+'"]')},this.push=function(e,t){return a.containerId||this.init(),(e=u.isString(e)?{title:o.title,msg:e}:e).toastType="push",a.dialogConfig={},jQuery.extend(!0,a.dialogConfig,o,e),e=a.dialogConfig,i.call(this,e,t),t=e=null,this},this.confirm=function(e,t){return a.containerId||this.init(),(e=u.isString(e)?{title:o.title,msg:e}:e).toastType="confirm",a.dialogConfig={},jQuery.extend(!0,a.dialogConfig,o,e),void 0===(e=a.dialogConfig).btns&&(e.btns={ok:{label:o.lang.ok,theme:e.theme}}),i.call(this,e,t),t=e=null,this},this.close=function(t,i){var n=(t=void 0===t?u.last(this.queue):t).toastBox;return n.addClass("push"==t.toastType?"removed":"destroy"),this.queue=u.filter(this.queue,function(){return t.id!=this.id}),setTimeout(function(){var e={toastId:t.id};n.remove(),i&&i.call(e),e={self:this,state:"close",toastId:t.id},l.call(this,t,e),0===this.queue.length&&(s&&clearTimeout(s),s=setTimeout(function(){0===this.queue.length&&(r=0)}.bind(this),3e3)),n=i=t=null}.bind(this),o.animateTime),this},this.main=function(){e.toast_instance=e.toast_instance||[],e.toast_instance.push(this),arguments&&u.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}),n=ax5.ui.toast}(),!function(){var n=ax5.ui.toast;n.tmpl={toastDisplay:function(e){return'\n        <div id="{{toastId}}" data-ax5-ui="toast" class="ax5-ui-toast {{theme}}">\n            {{#icon}}\n            <div class="ax-toast-icon">{{{.}}}</div>\n            {{/icon}}\n            <div class="ax-toast-body">{{{msg}}}</div>\n            {{#btns}}\n            <div class="ax-toast-buttons">\n                <div class="ax-button-wrap">\n                    {{#@each}}\n                    <button type="button" data-ax-toast-btn="{{@key}}" class="btn btn-{{@value.theme}}">{{{@value.label}}}</button>\n                    {{/@each}}\n                </div>\n            </div>\n            {{/btns}}\n            {{^btns}}\n                <a class="ax-toast-close" data-ax-toast-btn="ok">{{{closeIcon}}}</a>\n            {{/btns}}\n            <div style="clear:both;"></div>\n        </div>'},get:function(e,t,i){return ax5.mustache.render(n.tmpl[e].call(this,i),t)}}}(),!function(){var e=ax5.ui,p=ax5.util,f=void 0;e.addClass({className:"modal"},function(){var a,d=this,c={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},n=function(e){var t=e;return{clientX:(t="changedTouches"in e&&e.changedTouches?e.changedTouches[0]:t).clientX,clientY:t.clientY}},r=(this.instanceId=ax5.getGuid(),this.config={id:"ax5-modal-"+this.instanceId,position:{left:"center",top:"middle",margin:10},minimizePosition:"bottom-right",clickEventName:"ontouchstart"in document.documentElement?"touchstart":"click",theme:"default",width:300,height:400,closeToEsc:!0,disableDrag:!1,disableResize:!1,animateTime:250,iframe:!1},this.activeModal=null,this.watingModal=!1,this.$={},a=this.config,function(t,e){var i={resize:function(e){t&&t.onResize?t.onResize.call(e,e):this.onResize&&this.onResize.call(e,e)},move:function(){}};return e.state in i&&i[e.state].call(this,e),t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),!0}),o=function(e,t){e={modalId:e,theme:t.theme,header:t.header,fullScreen:t.fullScreen?"fullscreen":"",styles:"",iframe:t.iframe,iframeLoadingMsg:t.iframeLoadingMsg,disableResize:t.disableResize};return t.zIndex&&(e.styles+="z-index:"+t.zIndex+";"),t.absolute&&(e.styles+="position:absolute;"),e.iframe&&"string"==typeof e.iframe.param&&(e.iframe.param=ax5.util.param(e.iframe.param)),f.tmpl.get.call(this,"content",e,{})},s=function(e,t,i,n,o){var a=void 0;e.srcElement&&(e.target=e.srcElement),(n=p.findParentNode(e.target,function(e){if(e.getAttribute("data-modal-header-btn"))return!0}))&&(a={self:this,key:o=n.getAttribute("data-modal-header-btn"),value:t.header.btns[o],dialogId:t.id,btnTarget:n},t.header.btns[o].onClick)&&t.header.btns[o].onClick.call(a,o),n=t=a=null},l=function(e){e.keyCode==ax5.info.eventKeys.ESC&&this.close()},i={"top-left":function(){this.align({left:"left",top:"top"})},"top-right":function(){this.align({left:"right",top:"top"})},"bottom-left":function(){this.align({left:"left",top:"bottom"})},"bottom-right":function(){this.align({left:"right",top:"bottom"})},"center-middle":function(){this.align({left:"center",top:"middle"})}},u={on:function(){var e=this.activeModal.css("z-index"),t=this.activeModal.position(),i={width:this.activeModal.outerWidth(),height:this.activeModal.outerHeight()},n={width:jQuery(window).width(),height:jQuery(window).height(),scrollLeft:d.modalConfig.absolute?0:jQuery(document).scrollLeft(),scrollTop:d.modalConfig.absolute?0:jQuery(document).scrollTop()},o=0,a=n.width-i.width,r=0,s=n.height-i.height;d.__dx=0,d.__dy=0,d.resizerBg=jQuery('<div class="ax5modal-resizer-background" ondragstart="return false;"></div>'),d.resizer=jQuery('<div class="ax5modal-resizer" ondragstart="return false;"></div>'),d.resizerBg.css({zIndex:e}),d.resizer.css({left:t.left+n.scrollLeft,top:t.top+n.scrollTop,width:i.width,height:i.height,zIndex:e+1}),jQuery(document.body).append(d.resizerBg).append(d.resizer),d.activeModal.addClass("draged"),jQuery(document.body).on(c.mousemove+".ax5modal-move-"+this.instanceId,function(e){d.resizer.css((e=e,d.__dx=e.clientX-d.mousePosition.clientX,d.__dy=e.clientY-d.mousePosition.clientY,o>t.left+d.__dx?d.__dx=-t.left:a<t.left+d.__dx&&(d.__dx=a-t.left),r>t.top+d.__dy?d.__dy=-t.top:s<t.top+d.__dy&&(d.__dy=s-t.top),{left:t.left+d.__dx+n.scrollLeft,top:t.top+d.__dy+n.scrollTop}))}).on(c.mouseup+".ax5modal-move-"+this.instanceId,function(e){u.off.call(d)}).on("mouseleave.ax5modal-move-"+this.instanceId,function(e){u.off.call(d)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){this.activeModal.removeClass("draged"),function(){var e=this.resizer.offset();this.modalConfig.absolute||(e.left-=jQuery(document).scrollLeft(),e.top-=jQuery(document).scrollTop()),this.activeModal.css(e),this.modalConfig.left=e.left,this.modalConfig.top=e.top}.call(this),this.resizer.remove(),this.resizer=null,this.resizerBg.remove(),this.resizerBg=null,jQuery(document.body).off(c.mousemove+".ax5modal-move-"+this.instanceId).off(c.mouseup+".ax5modal-move-"+this.instanceId).off("mouseleave.ax5modal-move-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart"),r.call(this,d.modalConfig,{self:this,state:"move"})}},h={on:function(t){var e=this.activeModal.css("z-index"),i=this.activeModal.position(),n={width:this.activeModal.outerWidth(),height:this.activeModal.outerHeight()},o=(jQuery(window).width(),jQuery(window).height(),this.modalConfig.absolute?0:jQuery(document).scrollLeft()),a=this.modalConfig.absolute?0:jQuery(document).scrollTop(),r={top:function(e){return l>n.height-d.__dy&&(d.__dy=n.height-l),e.shiftKey?(l>n.height-2*d.__dy&&(d.__dy=(n.height-l)/2),{left:i.left,top:i.top+d.__dy,width:n.width,height:n.height-2*d.__dy}):e.altKey?(l>n.height-2*d.__dy&&(d.__dy=(n.height-l)/2),{left:i.left+d.__dy,top:i.top+d.__dy,width:n.width-2*d.__dy,height:n.height-2*d.__dy}):{left:i.left,top:i.top+d.__dy,width:n.width,height:n.height-d.__dy}},bottom:function(e){return l>n.height+d.__dy&&(d.__dy=-n.height+l),e.shiftKey?(l>n.height+2*d.__dy&&(d.__dy=(-n.height+l)/2),{left:i.left,top:i.top-d.__dy,width:n.width,height:n.height+2*d.__dy}):e.altKey?(l>n.height+2*d.__dy&&(d.__dy=(-n.height+l)/2),{left:i.left-d.__dy,top:i.top-d.__dy,width:n.width+2*d.__dy,height:n.height+2*d.__dy}):{left:i.left,top:i.top,width:n.width,height:n.height+d.__dy}},left:function(e){return s>n.width-d.__dx&&(d.__dx=n.width-s),e.shiftKey?(s>n.width-2*d.__dx&&(d.__dx=(n.width-s)/2),{left:i.left+d.__dx,top:i.top,width:n.width-2*d.__dx,height:n.height}):e.altKey?(s>n.width-2*d.__dx&&(d.__dx=(n.width-s)/2),{left:i.left+d.__dx,top:i.top+d.__dx,width:n.width-2*d.__dx,height:n.height-2*d.__dx}):{left:i.left+d.__dx,top:i.top,width:n.width-d.__dx,height:n.height}},right:function(e){return s>n.width+d.__dx&&(d.__dx=-n.width+s),e.shiftKey?(s>n.width+2*d.__dx&&(d.__dx=(-n.width+s)/2),{left:i.left-d.__dx,top:i.top,width:n.width+2*d.__dx,height:n.height}):e.altKey?(s>n.width+2*d.__dx&&(d.__dx=(-n.width+s)/2),{left:i.left-d.__dx,top:i.top-d.__dx,width:n.width+2*d.__dx,height:n.height+2*d.__dx}):{left:i.left,top:i.top,width:n.width+d.__dx,height:n.height}},"top-left":function(e){return s>n.width-d.__dx&&(d.__dx=n.width-s),l>n.height-d.__dy&&(d.__dy=n.height-l),e.shiftKey||e.altKey?(l>n.height-2*d.__dy&&(d.__dy=(n.height-l)/2),s>n.width-2*d.__dx&&(d.__dx=(n.width-s)/2),{left:i.left+d.__dx,top:i.top+d.__dy,width:n.width-2*d.__dx,height:n.height-2*d.__dy}):(l>n.height-2*d.__dy&&(d.__dy=(n.height-l)/2),s>n.width-2*d.__dx&&(d.__dx=(n.width-s)/2),{left:i.left+d.__dx,top:i.top+d.__dy,width:n.width-d.__dx,height:n.height-d.__dy})},"top-right":function(e){return s>n.width+d.__dx&&(d.__dx=-n.width+s),l>n.height-d.__dy&&(d.__dy=n.height-l),e.shiftKey||e.altKey?(l>n.height-2*d.__dy&&(d.__dy=(n.height-l)/2),s>n.width+2*d.__dx&&(d.__dx=(-n.width+s)/2),{left:i.left-d.__dx,top:i.top+d.__dy,width:n.width+2*d.__dx,height:n.height-2*d.__dy}):{left:i.left,top:i.top+d.__dy,width:n.width+d.__dx,height:n.height-d.__dy}},"bottom-left":function(e){return s>n.width-d.__dx&&(d.__dx=n.width-s),l>n.height+d.__dy&&(d.__dy=-n.height+l),e.shiftKey||e.altKey?(s>n.width-2*d.__dx&&(d.__dx=(n.width-s)/2),l>n.height+2*d.__dy&&(d.__dy=(-n.height+l)/2),{left:i.left+d.__dx,top:i.top-d.__dy,width:n.width-2*d.__dx,height:n.height+2*d.__dy}):{left:i.left+d.__dx,top:i.top,width:n.width-d.__dx,height:n.height+d.__dy}},"bottom-right":function(e){return s>n.width+d.__dx&&(d.__dx=-n.width+s),l>n.height+d.__dy&&(d.__dy=-n.height+l),e.shiftKey||e.altKey?(s>n.width+2*d.__dx&&(d.__dx=(-n.width+s)/2),l>n.height+2*d.__dy&&(d.__dy=(-n.height+l)/2),{left:i.left-d.__dx,top:i.top-d.__dy,width:n.width+2*d.__dx,height:n.height+2*d.__dy}):{left:i.left,top:i.top,width:n.width+d.__dx,height:n.height+d.__dy}}},s=(this.modalConfig.absolute||(i.left+=o,i.top+=a),100),l=100,o={top:"row-resize",bottom:"row-resize",left:"col-resize",right:"col-resize","top-left":"nwse-resize","top-right":"nesw-resize","bottom-left":"nesw-resize","bottom-right":"nwse-resize"};d.__dx=0,d.__dy=0,d.resizerBg=jQuery('<div class="ax5modal-resizer-background" ondragstart="return false;"></div>'),d.resizer=jQuery('<div class="ax5modal-resizer" ondragstart="return false;"></div>'),d.resizerBg.css({zIndex:e,cursor:o[t]}),d.resizer.css({left:i.left,top:i.top,width:n.width,height:n.height,zIndex:e+1,cursor:o[t]}),jQuery(document.body).append(d.resizerBg).append(d.resizer),d.activeModal.addClass("draged"),jQuery(document.body).bind(c.mousemove+".ax5modal-resize-"+this.instanceId,function(e){d.resizer.css((e=e,d.__dx=e.clientX-d.mousePosition.clientX,d.__dy=e.clientY-d.mousePosition.clientY,r[t](e)))}).bind(c.mouseup+".ax5modal-resize-"+this.instanceId,function(e){h.off.call(d)}).bind("mouseleave.ax5modal-resize-"+this.instanceId,function(e){h.off.call(d)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").bind("selectstart",!1)},off:function(){this.activeModal.removeClass("draged"),function(){var e=this.resizer.offset();jQuery.extend(e,{width:this.resizer.width(),height:this.resizer.height()}),this.modalConfig.absolute||(e.left-=jQuery(document).scrollLeft(),e.top-=jQuery(document).scrollTop()),this.activeModal.css(e),this.modalConfig.left=e.left,this.modalConfig.top=e.top,this.modalConfig.width=e.width,this.modalConfig.height=e.height,this.$.body.css({height:e.height-this.modalConfig.headerHeight}),this.modalConfig.iframe&&(this.$["iframe-wrap"].css({height:e.height-this.modalConfig.headerHeight}),this.$.iframe.css({height:e.height-this.modalConfig.headerHeight}))}.call(this),this.resizer.remove(),this.resizer=null,this.resizerBg.remove(),this.resizerBg=null,r.call(this,d.modalConfig,{self:this,state:"resize"}),jQuery(document.body).unbind(c.mousemove+".ax5modal-resize-"+this.instanceId).unbind(c.mouseup+".ax5modal-resize-"+this.instanceId).unbind("mouseleave.ax5modal-resize-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").unbind("selectstart")}};this.init=function(){this.onStateChanged=a.onStateChanged,this.onResize=a.onResize},this.open=function(e,t,i){return void 0===i&&(i=0),this.activeModal?i<3?(this.watingModal=!0,setTimeout(function(){this.open(e,t,i+1)}.bind(this),a.animateTime)):this.watingModal=!1:(e=d.modalConfig=jQuery.extend(!0,{},a,e),function(i,e){var t=void 0;jQuery(document.body).append(o.call(this,i.id,i)),this.activeModal=jQuery("#"+i.id),this.$={root:this.activeModal,header:this.activeModal.find('[data-modal-els="header"]'),body:this.activeModal.find('[data-modal-els="body"]')},i.iframe?(this.$["iframe-wrap"]=this.activeModal.find('[data-modal-els="iframe-wrap"]'),this.$.iframe=this.activeModal.find('[data-modal-els="iframe"]'),this.$["iframe-form"]=this.activeModal.find('[data-modal-els="iframe-form"]'),this.$["iframe-loading"]=this.activeModal.find('[data-modal-els="iframe-loading"]')):this.$["body-frame"]=this.activeModal.find('[data-modal-els="body-frame"]'),this.align(),t={self:this,id:i.id,theme:i.theme,width:i.width,height:i.height,state:"open",$:this.$},i.iframe&&(this.$["iframe-wrap"].css({height:i.height}),this.$.iframe.css({height:i.height}),this.$["iframe-form"].attr({method:i.iframe.method}),this.$["iframe-form"].attr({target:i.id+"-frame"}),this.$["iframe-form"].attr({action:i.iframe.url}),this.$.iframe.on("load",function(){t.state="load",i.iframeLoadingMsg&&this.$["iframe-loading"].hide(),r.call(this,i,t)}.bind(this)),i.iframeLoadingMsg||this.$.iframe.show(),this.$["iframe-form"].submit()),e&&e.call(t,t),this.watingModal||r.call(this,i,t),i.closeToEsc&&jQuery(window).bind("keydown.ax-modal",function(e){l.call(this,e||window.event)}.bind(this)),jQuery(window).bind("resize.ax-modal",function(e){this.align(null,e||window.event)}.bind(this)),this.$.header.off(c.mousedown).off("dragstart").on(c.mousedown,function(e){var t=p.findParentNode(e.target,function(e){if(e.getAttribute("data-modal-header-btn"))return!0});i.isFullScreen||t||1==i.disableDrag||(d.mousePosition=n(e),u.on.call(d)),t&&s.call(d,e||window.event,i)}).on("dragstart",function(e){return p.stopEvent(e.originalEvent),!1}),this.activeModal.off(c.mousedown).off("dragstart").on(c.mousedown,"[data-ax5modal-resizer]",function(e){if(i.disableDrag||i.isFullScreen)return!1;d.mousePosition=n(e),h.on.call(d,this.getAttribute("data-ax5modal-resizer"))}).on("dragstart",function(e){return p.stopEvent(e.originalEvent),!1})}.call(this,e,t),this.watingModal=!1),this},this.close=function(i){var n,o;return this.activeModal&&(n=d.modalConfig,this.activeModal.addClass("destroy"),jQuery(window).unbind("keydown.ax-modal"),jQuery(window).unbind("resize.ax-modal"),setTimeout(function(){if(n.iframe){var e=this.$.iframe;if(e){var t=e.get(0),t=t.contentDocument||t.contentWindow.document;try{$(t.body).children().each(function(){$(this).remove()})}catch(e){}t.innerHTML="",e.attr("src","about:blank").remove(),window.CollectGarbage&&window.CollectGarbage()}}this.activeModal.remove(),this.activeModal=null,this.watingModal||r.call(this,n,{self:this,state:"close"}),i&&p.isFunction(i.callback)&&(o={self:this,id:n.id,theme:n.theme,width:n.width,height:n.height,state:"close",$:this.$},i.callback.call(o,o))}.bind(this),a.animateTime)),this.minimized=!1,this},this.minimize=function(e){var t;return!0!==this.minimized&&(t=d.modalConfig,void 0===e&&(e=a.minimizePosition),this.minimized=!0,this.$.body.hide(),d.modalConfig.originalHeight=t.height,d.modalConfig.height=0,i[e].call(this),r.call(this,t,{self:this,state:"minimize"})),this},this.restore=function(){var e=d.modalConfig;return this.minimized&&(this.minimized=!1,this.$.body.show(),d.modalConfig.height=d.modalConfig.originalHeight,d.modalConfig.originalHeight=void 0,this.align({left:"center",top:"middle"}),r.call(this,e,{self:this,state:"restore"})),this},this.css=function(e){return this.activeModal&&!d.fullScreen&&(this.activeModal.css(e),void 0!==e.width&&(d.modalConfig.width=e.width),void 0!==e.height&&(d.modalConfig.height=e.height),this.align()),this},this.setModalConfig=function(e){return d.modalConfig=jQuery.extend({},d.modalConfig,e),this.align(),this},this.align=function(e,t){var i,n,o;return this.activeModal&&(n={width:(i=d.modalConfig).width,height:i.height},(i.isFullScreen=void 0!==(o=i.fullScreen)&&(p.isFunction(o)?o():void 0))?(i.header&&this.$.header.show(),i.header?(i.headerHeight=this.$.header.outerHeight(),n.height+=i.headerHeight):i.headerHeight=0,n.width=jQuery(window).width(),n.height=i.height,n.left=0,n.top=0):(i.header&&this.$.header.show(),e&&jQuery.extend(!0,i.position,e),i.header?(i.headerHeight=this.$.header.outerHeight(),n.height+=i.headerHeight):i.headerHeight=0,"left"==i.position.left?n.left=i.position.margin||0:"right"==i.position.left?n.left=jQuery(window).width()-n.width-(i.position.margin||0):"center"==i.position.left?n.left=jQuery(window).width()/2-n.width/2:n.left=i.position.left||0,"top"==i.position.top?n.top=i.position.margin||0:"bottom"==i.position.top?n.top=jQuery(window).height()-n.height-(i.position.margin||0):"middle"==i.position.top?n.top=jQuery(window).height()/2-n.height/2:n.top=i.position.top||0,n.left<0&&(n.left=0),n.top<0&&(n.top=0)),this.activeModal.css(n),this.$.body.css({height:n.height-(i.headerHeight||0)}),i.iframe)&&(this.$["iframe-wrap"].css({height:n.height-i.headerHeight}),this.$.iframe.css({height:n.height-i.headerHeight})),this},this.main=function(){e.modal_instance=e.modal_instance||[],e.modal_instance.push(this),arguments&&p.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}),f=ax5.ui.modal}(),!function(){var n=ax5.ui.modal;n.tmpl={content:function(){return' \n        <div id="{{modalId}}" data-modal-els="root" class="ax5modal {{theme}} {{fullscreen}}" style="{{styles}}">\n            {{#header}}\n            <div class="ax-modal-header" data-modal-els="header">\n                {{{title}}}\n                {{#btns}}\n                    <div class="ax-modal-header-addon">\n                    {{#@each}}\n                    <button tabindex="-1" data-modal-header-btn="{{@key}}" class="{{@value.theme}}">{{{@value.label}}}</button>\n                    {{/@each}}\n                    </div>\n                {{/btns}}\n            </div>\n            {{/header}}\n            <div class="ax-modal-body" data-modal-els="body">\n            {{#iframe}}\n                <div data-modal-els="iframe-wrap" style="-webkit-overflow-scrolling: touch; overflow: auto;position: relative;">\n                    <table data-modal-els="iframe-loading" style="width:100%;height:100%;"><tr><td style="text-align: center;vertical-align: middle">{{{iframeLoadingMsg}}}</td></tr></table>\n                    <iframe name="{{modalId}}-frame" src="" width="100%" height="100%" frameborder="0" data-modal-els="iframe" style="position: absolute;left:0;top:0;"></iframe>\n                </div>\n                <form name="{{modalId}}-form" data-modal-els="iframe-form">\n                <input type="hidden" name="modalId" value="{{modalId}}" />\n                {{#param}}\n                {{#@each}}\n                <input type="hidden" name="{{@key}}" value="{{@value}}" />\n                {{/@each}}\n                {{/param}}\n                </form>\n            {{/iframe}}\n            {{^iframe}}\n                <div data-modal-els="body-frame" style="position: absolute;left:0;top:0;width:100%;height:100%;"></div>\n            {{/iframe}}\n            </div>\n            {{^disableResize}}\n            <div data-ax5modal-resizer="top"></div>\n            <div data-ax5modal-resizer="right"></div>\n            <div data-ax5modal-resizer="bottom"></div>\n            <div data-ax5modal-resizer="left"></div>\n            <div data-ax5modal-resizer="top-left"></div>\n            <div data-ax5modal-resizer="top-right"></div>\n            <div data-ax5modal-resizer="bottom-left"></div>\n            <div data-ax5modal-resizer="bottom-right"></div>\n            {{/disableResize}}\n        </div>\n        '},get:function(e,t,i){return ax5.mustache.render(n.tmpl[e].call(this,i),t)}}}(),!function(){var e=ax5.ui,y=ax5.util,b=void 0;e.addClass({className:"calendar"},function(){var n,o,a,r,f=this,g=void 0,s=1,m=(this.instanceId=ax5.getGuid(),this.target=null,this.selection=[],this.selectionMap={},this.selectableMap={},this.markerMap={},this.printedDay={start:"",end:""},this.config={clickEventName:"click",theme:"default",startOfWeek:0,mode:"day",dateFormat:"yyyy-MM-dd",displayDate:new Date,animateTime:100,dimensions:{controlHeight:"40",controlButtonWidth:"40",colHeadHeight:"30",itemPadding:2},lang:{yearHeading:"Choose the year",monthHeading:"Choose the month",yearTmpl:"%s",months:ax5.info.months||["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],dayTmpl:"%s"},multipleSelect:!1,selectMode:"day",defaultMarkerTheme:"holiday",defaultPeriodTheme:"period"},g=this.config,function(e,t){e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t)}),v=function(){var e,t,i=y.date(g.displayDate),n="",o="";return g.control&&("day"==g.mode||"d"==g.mode?(n=g.control.yearTmpl?g.control.yearTmpl.replace("%s",i.getFullYear()):i.getFullYear(),o=g.control.monthTmpl?g.control.monthTmpl.replace("%s",g.lang.months[i.getMonth()]):g.lang.months[i.getMonth()],this.$["control-display"].html(g.control.yearFirst?'<span data-calendar-display="year">'+n+'</span><span data-calendar-display="month">'+o+"</span>":'<span data-calendar-display="month">'+o+'</span><span data-calendar-display="year">'+n+"</span>")):"month"==g.mode||"m"==g.mode?(n=g.control.yearTmpl?g.control.yearTmpl.replace("%s",i.getFullYear()):i.getFullYear(),this.$["control-display"].html('<span data-calendar-display="year">'+n+"</span>")):"year"!=g.mode&&"y"!=g.mode||(e=g.control.yearTmpl?g.control.yearTmpl.replace("%s",i.getFullYear()-10):i.getFullYear()-10,t=g.control.yearTmpl?g.control.yearTmpl.replace("%s",Number(i.getFullYear())+9):Number(i.getFullYear())+9,this.$["control-display"].html(e+" ~ "+t)),this.$["control-display"].find("[data-calendar-display]").on(g.clickEventName,function(e){var t,e=y.findParentNode(e.target,function(e){if(e.getAttribute("data-calendar-display"))return!0});e&&(t=e.getAttribute("data-calendar-display"),this.changeMode(t)),e=null}.bind(this))),t=e=o=n=i=null,this},l=function(e){var t,i,n,o,a,e=y.date(e),r=new Date(e.getFullYear(),e.getMonth(),1,12),s=g.displayDate,l=(0==(l=r.getDay())&&(l=7),l-=g.startOfWeek,y.date(r,{add:{d:-l}})),d=e.getMonth(),c={},u=this.$.body.width(),u=Math.floor(u*(6/7));for(g.dimensions.height&&(u=y.number(g.dimensions.height)-y.number(g.dimensions.colHeadHeight)),c.height=Math.floor(u/6)-2*y.number(g.dimensions.itemPadding)+"px",c["line-height"]=c.height,c.padding=y.cssNumber(g.dimensions.itemPadding),o={weekNames:[].concat(ax5.info.weekNames),list:[]},g.startOfWeek&&(o.weekNames=o.weekNames.concat(o.weekNames.slice(0,g.startOfWeek)).splice(g.startOfWeek)),o.weekNames.forEach(function(e){e.colHeadHeight=y.cssNumber(g.dimensions.colHeadHeight)}),t=l,i=0;i<6;){for(n=0;n<7;){g.startOfWeek;var h=""+y.date(t,{return:g.dateFormat}),p={row:i,col:n,isStartOfWeek:0==n,thisDate:h,thisDataLabel:g.lang.dayTmpl.replace("%s",t.getDate()),itemStyles:y.css(c),addClass:(p="",g.selectable?f.selectableMap[h]?p+=t.getMonth()==d?" live":"":p+=" disable":t.getMonth()==d&&(h==y.date(s,{return:"yyyyMMdd"})?p+=" focus":p+=" live",0==t.getDay()&&(p+=" sunday"),6==t.getDay())&&(p+=" saturday"),p+" "+(f.markerMap[h]?f.markerMap[h].theme||g.defaultMarkerTheme:"")+" "+(f.selectionMap[h]?"selected-day":""))};o.list.push(p),n++,t=y.date(t,{add:{d:1}}),0}i++}a=b.tmpl.get.call(this,"dayTmpl",o),this.$.body.html(a),this.$.body.find("[data-calendar-item-date]").on(g.clickEventName,function(e){e=e||window.event,x.call(f,e,"date"),y.stopEvent(e)}),this.printedDay={start:l,end:t},m.call(this,null,{self:this,action:"printDay",printedDay:this.printedDay}),v.call(this),o=u=n=i=c=d=t=s=r=e=null},d=function(e){var t,i,n,o,a,r=y.date(e),s=r.getMonth(),l={},e=this.$.body.width(),e=Math.floor(e*(6/7));for(g.dimensions.height&&(e=y.number(g.dimensions.height)-y.number(g.dimensions.colHeadHeight)),l.height=Math.floor(e/4)-2*y.number(g.dimensions.itemPadding)+"px",l["line-height"]=l.height,l.padding=y.cssNumber(g.dimensions.itemPadding),o={colHeadHeight:y.cssNumber(g.dimensions.colHeadHeight),colHeadLabel:g.lang.monthHeading,list:[]},t=n=0;t<4;){for(i=0;i<3;){var d={row:t,col:i,isStartOfRow:0==i,thisMonth:r.getFullYear()+"-"+y.setDigit(n+1,2)+"-"+y.setDigit(r.getDate(),2),thisMonthLabel:g.lang.months[n],itemStyles:y.css(l),addClass:(!g.selectable||f.selectableMap[n]?"live":"disable")+" "+(n==s?"focus":"")+" "+(f.markerMap[n]?f.markerMap[n].theme||g.defaultMarkerTheme:"")};o.list.push(d),n++,i++,0}t++}a=b.tmpl.get.call(this,"monthTmpl",o),this.$.body.html(a),this.$.body.find("[data-calendar-item-month]").on(g.clickEventName,function(e){e=e||window.event,x.call(f,e,"month"),y.stopEvent(e)}),this.printedDay={start:r.getFullYear()+"-"+y.setDigit(1,2),end:r.getFullYear()+"-"+y.setDigit(n,2)},m.call(this,null,{self:this,action:"printMonth",printedDay:this.printedDay}),v.call(this),o=e=n=i=t=l=s=r=null},c=function(e){var t,i,n,o,a,r,s=y.date(e),l=s.getFullYear(),d={},e=this.$.body.width(),e=Math.floor(e*(6/7));for(g.dimensions.height&&(e=y.number(g.dimensions.height)-y.number(g.dimensions.colHeadHeight)),d.height=Math.floor(e/5)-2*y.number(g.dimensions.itemPadding)+"px",d["line-height"]=d.height,d.padding=y.cssNumber(g.dimensions.itemPadding),a={colHeadHeight:y.cssNumber(g.dimensions.colHeadHeight),colHeadLabel:g.lang.yearHeading,list:[]},n=o=l-10,t=0;t<5;){for(i=0;i<4;){var c={row:t,col:i,isStartOfRow:0==i,thisYear:n+"-"+y.setDigit(s.getMonth()+1,2)+"-"+y.setDigit(s.getDate(),2),thisYearLabel:g.lang.yearTmpl.replace("%s",n),itemStyles:y.css(d),addClass:(!g.selectable||f.selectableMap[n]?"live":"disable")+" "+(n==l?"focus":"")+" "+(f.selectableMap[n]?f.selectableMap[n].theme||g.defaultMarkerTheme:"")};a.list.push(c),n++,i++,0}t++}r=b.tmpl.get.call(this,"yearTmpl",a),this.$.body.html(r),this.$.body.find("[data-calendar-item-year]").on(g.clickEventName,function(e){e=e||window.event,x.call(this,e,"year"),y.stopEvent(e)}),this.printedDay={start:o,end:n-1},m.call(this,null,{self:this,action:"printYear",printedDay:this.printedDay}),v.call(this),a=e=n=i=t=d=l=s=null},x=function(e,t,i,n){var o;t=t||"date",(i=y.findParentNode(e.target,function(e){if(e.getAttribute("data-calendar-item-"+t))return!0}))&&(n=i.getAttribute("data-calendar-item-"+t),o=y.date(n,{return:g.dateFormat}),e=!0,s=g.multipleSelect?y.isNumber(g.multipleSelect)?g.multipleSelect:2:1,g.selectable&&!f.selectableMap[o]&&(e=!1),"date"==t?e&&(f.selection.length>=s&&f.selection.splice(0,f.selection.length-(s-1)).forEach(function(e){f.$.body.find('[data-calendar-item-date="'+y.date(e,{return:g.dateFormat})+'"]').removeClass("selected-day")}),jQuery(i).addClass("selected-day"),f.selection.push(n),f.onClick)&&f.onClick.call({self:this,date:n,target:this.target,dateElement:i}):"month"==t?"month"==g.selectMode?e&&(f.selection.length>=s&&f.selection.splice(0,f.selection.length-(s-1)).forEach(function(e){f.$.body.find('[data-calendar-item-month="'+y.date(e,{return:"yyyy-MM-dd"})+'"]').removeClass("selected-month")}),jQuery(i).addClass("selected-month"),f.selection.push(n),f.onClick)&&f.onClick.call({self:this,date:n,target:this.target,dateElement:i}):f.changeMode("day",n):"year"==t&&("year"==g.selectMode?e&&(f.selection.length>=s&&f.selection.splice(0,f.selection.length-(s-1)).forEach(function(e){f.$.body.find('[data-calendar-item-year="'+y.date(e,{return:"yyyy-MM-dd"})+'"]').removeClass("selected-year")}),jQuery(i).addClass("selected-year"),f.selection.push(n),f.onClick)&&f.onClick.call({self:this,date:n,target:this.target,dateElement:i}):f.changeMode("month",n))),o=n=i=t=null};this.init=function(){this.onStateChanged=g.onStateChanged,this.onClick=g.onClick,g.target||console.log(ax5.info.getError("ax5calendar","401","setConfig")),this.target=jQuery(g.target),g.displayDate=y.date(g.displayDate),this.target.html(function(){var e=jQuery.extend(!0,{},g,{controlCSS:{},controlButtonCSS:{}});return e.controlButtonCSS.height=e.controlCSS.height=y.cssNumber(g.dimensions.controlHeight),e.controlButtonCSS["line-height"]=e.controlCSS["line-height"]=y.cssNumber(g.dimensions.controlHeight),e.controlButtonCSS.width=y.cssNumber(g.dimensions.controlHeight),e.controlCSS=y.css(e.controlCSS),e.controlButtonCSS=y.css(e.controlButtonCSS),b.tmpl.get.call(this,"frameTmpl",e)}.call(this)),this.$={root:this.target.find('[data-calendar-els="root"]'),control:this.target.find('[data-calendar-els="control"]'),"control-display":this.target.find('[data-calendar-els="control-display"]'),body:this.target.find('[data-calendar-els="body"]')},g.control&&this.$.root.on(g.clickEventName,"[data-calendar-move]",function(e){!function(e,t,i){(t=y.findParentNode(e.target,function(e){if(e.getAttribute("data-calendar-move"))return!0}))&&(i=t.getAttribute("data-calendar-move"),"day"==g.mode||"d"==g.mode?(g.displayDate="left"==i?y.date(g.displayDate,{add:{m:-1}}):y.date(g.displayDate,{add:{m:1}}),l.call(this,g.displayDate)):"month"==g.mode||"m"==g.mode?(g.displayDate="left"==i?y.date(g.displayDate,{add:{y:-1}}):y.date(g.displayDate,{add:{y:1}}),d.call(this,g.displayDate)):"year"!=g.mode&&"y"!=g.mode||(g.displayDate="left"==i?y.date(g.displayDate,{add:{y:-10}}):y.date(g.displayDate,{add:{y:10}}),c.call(this,g.displayDate))),t=null}.call(this,e||window.event)}.bind(this)),g.selection&&this.setSelection(g.selection,!1),g.selectable&&this.setSelectable(g.selectable,!1),g.marker&&this.setMarker(g.marker,!1),setTimeout(function(){"day"===g.mode||"d"===g.mode?l.call(this,g.displayDate):"month"===g.mode||"m"===g.mode?d.call(this,g.displayDate):"year"!==g.mode&&"y"!==g.mode||c.call(this,g.displayDate)}.bind(this))},this.changeMode=function(e,t){return void 0!==t&&(g.displayDate=t),e&&(g.mode=e),this.$.body.removeClass("fadein").addClass("fadeout"),setTimeout(function(){"day"==g.mode||"d"==g.mode?l.call(this,g.displayDate):"month"==g.mode||"m"==g.mode?d.call(this,g.displayDate):"year"!=g.mode&&"y"!=g.mode||c.call(this,g.displayDate),this.$.body.removeClass("fadeout").addClass("fadein")}.bind(this),g.animateTime),this},this.setSelection=(f.selectionMap={},n=function(e,t,i){return t={},y.isArray(e)&&(f.selection=e=e.splice(0,i),e.forEach(function(e){y.isDate(e)&&(e=y.date(e,{return:g.dateFormat})),t[e]=!0})),t},function(e,t){var i={};if(s=g.multipleSelect?y.isNumber(g.multipleSelect)?g.multipleSelect:2:1,g.selection=e){if(!y.isArray(e))return this;i=n(e,{},s)}return this.selectionMap=jQuery.extend({},i),!1!==t&&function(){setTimeout(function(){for(var e in this.selectionMap)this.$.body.find('[data-calendar-item-date="'+e+'"]').addClass("selected-day")}.bind(this))}.call(this),i=null,this}),this.getSelection=function(){return this.selection},this.setSelectable=(f.selectableMap={},o={arr:function(e,t){return t={},y.isArray(e)&&e.forEach(function(e){y.isDate(e)&&(e=y.date(e,{return:g.dateFormat})),t[e]=!0}),t},obj:function(e,t){if(t={},!y.isArray(e)&&!e.range)for(var i in e)t[i]=e[i];return t},range:function(e,n){return n={},y.isArray(e)||e.range&&e.range.forEach(function(e){if(y.isDateFormat(e.from)&&y.isDateFormat(e.to))for(var t=y.date(e.from);t<=y.date(e.to);t.setDate(t.getDate()+1))n[y.date(t,{return:g.dateFormat})]=!0;else for(var i=e.from;i<=e.to;i++)n[i]=!0}),n}},function(e,t){var i,n={};if(g.selectable=e)if(y.isArray(e))n=o.arr(e);else{for(i in o)if(e[i]){n=o[i](e);break}0===Object.keys(n).length&&(n=o.obj(e))}return this.selectableMap=n,!1!==t&&this.changeMode(),this}),this.setMarker=(f.markerMap={},a={obj:function(e,t){if(t={},!y.isArray(e)&&!e.range){for(var i in e)t[i]=e[i];e=null}return t},range:function(e,n){return n={},y.isArray(e)||e.range&&(e.range.forEach(function(e){if(y.isDateFormat(e.from)&&y.isDateFormat(e.to))for(var t=y.date(e.from);t<=y.date(e.to);t.setDate(t.getDate()+1))n[y.date(t,{return:g.dateFormat})]={theme:e.theme,label:e.label};else for(var i=e.from;i<=e.to;i++)n[i]={theme:e.theme,label:e.label}}),e=null),n}},function(e,t){var i,n={};if(g.marker=e){for(i in a)if(e[i]){n=a[i](e);break}0===Object.keys(n).length&&(n=a.obj(e))}return this.markerMap=n,!1!==t&&function(){setTimeout(function(){if("day"===g.mode||"d"===g.mode)for(var e in this.markerMap)this.$.body.find('[data-calendar-item-date="'+e+'"]').addClass(this.markerMap[e].theme||g.defaultMarkerTheme)}.bind(this))}.call(this),this}),this.setPeriod=(f.periodMap={},r=function(e,i){return i={},y.isArray(e)||e.range&&(e.range.forEach(function(e){if(y.isDateFormat(e.from)&&y.isDateFormat(e.to))for(var t=new Date(y.date(e.from));t<=y.date(e.to);t.setDate(t.getDate()+1))t.getTime()==y.date(e.from).getTime()?i[y.date(t,{return:g.dateFormat})]={theme:e.theme||g.defaultPeriodTheme,label:e.fromLabel}:t.getTime()==y.date(e.to).getTime()?i[y.date(t,{return:g.dateFormat})]={theme:e.theme||g.defaultPeriodTheme,label:e.toLabel}:i[y.date(t,{return:g.dateFormat})]={theme:e.theme||g.defaultPeriodTheme}}),e=null),i},function(e,t){var i={};return!1!==t&&function(){if("day"===g.mode||"d"===g.mode)for(var e in this.periodMap)this.$.body.find('[data-calendar-item-date="'+e+'"]').find(".addon-footer").empty(),this.$.body.find('[data-calendar-item-date="'+e+'"]').removeClass(this.periodMap[e].theme)}.call(this),(g.period=e)&&(i=r(e)),this.periodMap=i,!1!==t&&function(){setTimeout(function(){if("day"===g.mode||"d"===g.mode)for(var e in this.periodMap)this.periodMap[e].label&&this.$.body.find('[data-calendar-item-date="'+e+'"]').find(".addon-footer").html(this.periodMap[e].label),this.$.body.find('[data-calendar-item-date="'+e+'"]').addClass(this.periodMap[e].theme)}.bind(this))}.call(this),this}),this.main=function(){e.calendar_instance=e.calendar_instance||[],e.calendar_instance.push(this),arguments&&y.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}),b=ax5.ui.calendar}(),!function(){var n=ax5.ui.calendar;n.tmpl={frameTmpl:function(e){return'\n                <div class="ax5-ui-calendar {{theme}}" data-calendar-els="root" onselectstart="return false;">\n                    {{#control}}\n                    <div class="calendar-control" data-calendar-els="control" style="{{controlCSS}}">\n                        <a class="date-move-left" data-calendar-move="left" style="{{controlButtonCSS}}">{{{left}}}</a>\n                        <div class="date-display" data-calendar-els="control-display" style="{{controlCSS}}"></div>\n                        <a class="date-move-right" data-calendar-move="right" style="{{controlButtonCSS}}">{{{right}}}</a>\n                    </div>\n                    {{/control}}\n                    <div class="calendar-body" data-calendar-els="body"></div>\n                </div>\n                '},dayTmpl:function(e){return'\n                <table data-calendar-table="day" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                        {{#weekNames}}\n                            <td class="calendar-col-{{col}}" style="height: {{colHeadHeight}}">\n                            {{label}}\n                            </td>\n                        {{/weekNames}}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfWeek}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfWeek}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-day {{addClass}}" data-calendar-item-date="{{thisDate}}">\n                                    <span class="addon addon-header"></span>\n                                    {{thisDataLabel}}\n                                    <span class="addon addon-footer"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '},monthTmpl:function(e){return'\n                <table data-calendar-table="month" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                            <td class="calendar-col-0" colspan="3" style="height: {{colHeadHeight}}">\n                            {{colHeadLabel}}\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfRow}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfRow}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-month {{addClass}}" data-calendar-item-month="{{thisMonth}}">\n                                    <span class="addon"></span>\n                                    {{thisMonthLabel}}\n                                    <span class="lunar"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '},yearTmpl:function(e){return'\n                <table data-calendar-table="year" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                            <td class="calendar-col-0" colspan="4" style="height: {{colHeadHeight}}">\n                            {{colHeadLabel}}\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfRow}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfRow}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-year {{addClass}}" data-calendar-item-year="{{thisYear}}">\n                                    <span class="addon"></span>\n                                    {{thisYearLabel}}\n                                    <span class="lunar"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '},get:function(e,t,i){return ax5.mustache.render(n.tmpl[e].call(this,i),t)}}}(),!function(){var e=ax5.ui,p=ax5.util,f=void 0;e.addClass({className:"picker"},function(){function l(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),!0}function o(l){if(!this.activePicker)return this;var e=this.queue[this.activePickerQueueIndex];l&&(this.activePicker.css({top:-999}),jQuery(document.body).append(this.activePicker)),setTimeout(function(){!function(e){var t,i=jQuery(window),n=jQuery(document.body),o=e.$target.offset(),a={width:e.$target.outerWidth(),height:e.$target.outerHeight()},r={winWidth:Math.max(i.width(),n.width()),winHeight:Math.max(i.height(),n.height()),width:this.activePicker.outerWidth(),height:this.activePicker.outerHeight()},s=(e.direction&&""!==e.direction&&"auto"!==e.direction?t=e.direction:(t="top",o.top-r.height-12<0?t="top":o.top+a.height+r.height+12>r.winHeight&&(t="bottom")),l&&this.activePicker.addClass("direction-"+t),function(){var e={left:0,top:0};switch(t){case"top":e.left=o.left+a.width/2-r.width/2,e.top=o.top+a.height+12;break;case"bottom":e.left=o.left+a.width/2-r.width/2,e.top=o.top-r.height-12;break;case"left":e.left=o.left+a.width+12,e.top=o.top-r.height/2+a.height/2;break;case"right":e.left=o.left-r.width-12,e.top=o.top-r.height/2+a.height/2}return e}());!function(){"top"!=t&&"bottom"!=t||(s.left<0?(s.left=12,this.activePickerArrow.css({left:o.left+a.width/2-s.left})):s.left+r.width>r.winWidth&&(s.left=r.winWidth-r.width-12,this.activePickerArrow.css({left:o.left+a.width/2-s.left})))}.call(this),this.activePicker.css(s)}.call(this,e)}.bind(this))}function d(e){if(p.isString(e)||(e=jQuery(e).data("data-axpicker-id")),p.isString(e))return p.search(this.queue,function(){return this.id==e});console.log(ax5.info.getError("ax5picker","402","getQueIdx"))}var s,a,r,c,u,h=this,i=(this.instanceId=ax5.getGuid(),this.config={clickEventName:"click",theme:"default",title:"",lang:{ok:"ok",cancel:"cancel"},animateTime:100,calendar:{multipleSelect:!1,control:{left:ax5.def.picker.date_leftArrow||"&#x02190",yearTmpl:ax5.def.picker.date_yearTmpl||"%s",monthTmpl:ax5.def.picker.date_monthTmpl||"%s",right:ax5.def.picker.date_rightArrow||"&#x02192",yearFirst:!0}},palette:{}},this.queue=[],this.activePicker=null,this.activePickerQueueIndex=-1,this.openTimer=null,this.closeTimer=null,s=this.config,a={focus:function(e,t){this.open(e)},click:function(e,t){this.open(e)}},r={"@fn":function(e,t){var i=this.queue[e],t=t.length,n={inputLength:t||1};1<t&&(n.btns={ok:{label:s.lang.ok,theme:s.theme}}),this.queue[e]=jQuery.extend(!0,n,i),n=null},date:function(e,t){var i=this.queue[e],n=i.content&&i.content.width||270,o=i.content&&i.content.margin||5,t=t.length,n={contentWidth:n*t+(t-1)*o,content:{width:n,margin:o},inputLength:t||1};1<t&&!i.btns&&(n.btns={ok:{label:s.lang.ok,theme:s.theme}}),this.queue[e]=jQuery.extend(!0,n,i),n=null},"secure-num":function(e,t){var i=this.queue[e],t=t.length,t={inputLength:t||1};this.queue[e]=jQuery.extend(!0,t,i)},keyboard:function(e,t){var i=this.queue[e],t=t.length,t={inputLength:t||1};this.queue[e]=jQuery.extend(!0,t,i)},numpad:function(e,t){var i=this.queue[e],t=t.length,t={inputLength:t||1};this.queue[e]=jQuery.extend(!0,t,i)},color:function(e,t){var i=this.queue[e],n=i.content&&i.content.width||270,o=i.content&&i.content.margin||5,a=t.length,n={contentWidth:n*a+(a-1)*o,content:{width:n,margin:o},inputLength:a||1},r=i.$target.find('[data-ax5picker-color="preview"]');r.get(0)&&(r.css({"background-color":"#"+p.color(t.val()||"#000000").getHexValue()}),t.on("change",function(){r.css({"background-color":"#"+p.color(this.value||"#000000").getHexValue()})})),1<a&&!i.btns&&(n.btns={ok:{label:s.lang.ok,theme:s.theme}}),this.queue[e]=jQuery.extend(!0,n,i),n=null}},function(e){var t=this.queue[e],i=void 0;if(t.content){if(i="INPUT"==t.$target.get(0).tagName.toUpperCase()?t.$target:t.$target.find("input[type]"),p.isFunction(t.content))r["@fn"].call(this,e,i);else for(var n in r)if(t.content.type==n){r[n].call(this,e,i);break}i.unbind("focus.ax5picker").unbind("click.ax5picker").bind("focus.ax5picker",a.focus.bind(this,e)).bind("click.ax5picker",a.click.bind(this,e)),t.$target.find(".input-group-addon").unbind("click.ax5picker").bind("click.ax5picker",a.click.bind(this,e)),t.content.formatter&&ax5.ui.formatter&&i.ax5formatter(t.content.formatter),e=t=i=null}else console.log(ax5.info.getError("ax5picker","501","bind"));return this});this.init=function(){this.onStateChanged=s.onStateChanged},this.bind=function(e){var t;return(e=jQuery.extend(!0,{},s,e)).target?(e.$target=jQuery(e.target),e.$target.get(0)?(e.id||(e.id=e.$target.data("data-axpicker-id")),e.id||(e.id="ax5-picker-"+ax5.getGuid(),e.$target.data("data-axpicker-id",e.id)),-1===(t=p.search(this.queue,function(){return this.id==e.id}))?(this.queue.push(e),i.call(this,this.queue.length-1)):(this.queue[t]=jQuery.extend(!0,{},this.queue[t],e),i.call(this,t)),0):console.log(ax5.info.getError("ax5picker","401","bind"))):console.log(ax5.info.getError("ax5picker","401","bind")),this},this.setContentValue=(c={date:function(e,t,i){var n,o,a=[];return"INPUT"!==e.$target.get(0).tagName.toUpperCase()&&e.$target.find("input[type]").each(function(){a.push(this.value)}),0==t?((o=1<a.length&&""!==a[1]&&!(ax5.util.dday(a[1],{today:a[0]})<0)?o:i)&&(e.pickerCalendar[1].ax5uiInstance.setSelection([o],!1).changeMode("d",o),this.setContentValue(e.id,1,o)),i):1==t?((n=1<a.length&&ax5.util.dday(a[1],{today:a[0]})<0?a[1]:n)&&(e.pickerCalendar[0].ax5uiInstance.setSelection([n],!1).changeMode("d",n),this.setContentValue(e.id,0,n)),i):void 0}},function(e,t,i,n){var o,a,r=p.isNumber(e)?e:d.call(this,e),r=this.queue[r],s=void 0;return n=n||{},r&&((s="INPUT"==r.$target.get(0).tagName.toUpperCase()?r.$target:jQuery(r.$target.find("input[type]").get(t))).val(i),r.disableChangeTrigger?(o=r.$target.find('[data-ax5picker-color="preview"]')).get(0)&&o.css({"background-color":i}):s.trigger("change"),1<r.inputLength&&c[r.content.type]&&(i=c[r.content.type].call(this,r,t,i)),a={self:h,state:"changeValue",item:r,inputIndex:t,value:i,values:[i]},"INPUT"!==r.$target.get(0).tagName.toUpperCase()&&(a.values=[],r.$target.find("input[type]").each(function(){a.values.push(this.value)})),l.call(this,r,a),1!=r.inputLength||n.doNotClose||this.close()),i=t=e=r=null,this}),this.getContentValue=function(e,t){var i=p.isNumber(e)?e:d.call(this,e),i=this.queue[i];return i?("INPUT"==i.$target.get(0).tagName.toUpperCase()?i.$target:jQuery(i.$target.find("input[type]").get(t))).val():(t=e=i=null,this)},this.open=(u={"@fn":function(e,t){e=this.queue[e];return e.content.call(e,function(e){t(e)}),!0},date:function(e){for(var o=this.queue[e],t=[],a=jQuery.extend({},s.calendar,{displayDate:new Date}),r="INPUT"==o.$target.get(0).tagName.toUpperCase()?o.$target:o.$target.find("input[type]"),i=0;i<o.inputLength;i++)t.push('<div style="width:'+p.cssNumber(o.content.width)+';float:left;" class="ax-picker-content-box" data-calendar-target="'+i+'"></div>'),i<o.inputLength-1&&t.push('<div style="width:'+o.content.margin+'px;float:left;height: 5px;"></div>');t.push('<div style="clear:both;"></div>'),o.pickerContent.html(t.join("")),o.pickerCalendar=[],o.pickerContent.find("[data-calendar-target]").each(function(){var e=this.getAttribute("data-calendar-target"),t=r.get(e).value,i=ax5.util.date(t),n={year:function(e){return ax5.util.date(e,{return:"yyyy"})},month:function(e){return ax5.util.date(e,{return:"yyyy-MM"})},day:function(e){return e}};a.displayDate=i,t&&(a.selection=[i]),(a=jQuery.extend(!0,a,o.content.config||{})).target=this,a.onClick=function(){h.setContentValue(o.id,e,n[a.selectMode||"day"](this.date))},o.pickerCalendar.push({itemId:o.id,inputIndex:e,ax5uiInstance:new ax5.ui.calendar(a)})})},"secure-num":function(e){for(var o=this.queue[e],t=[],i=0;i<o.inputLength;i++)t.push('<div style="width:'+p.cssNumber(o.content.width)+';float:left;" class="ax-picker-content-box" data-secure-num-target="'+i+'"></div>'),i<o.inputLength-1&&t.push('<div style="width:'+o.content.margin+'px;float:left;height: 5px;"></div>');t.push('<div style="clear:both;"></div>'),o.pickerContent.html(t.join("")),o.pickerContent.find("[data-secure-num-target]").each(function(){var n=this.getAttribute("data-secure-num-target"),t=[];(function(e){for(var t,i,n=e.length;n;--n)t=Math.floor(Math.random()*n),i=e[n-1],e[n-1]=e[t],e[t]=i;return e})([0,1,2,3,4,5,6,7,8,9]).forEach(function(e){t.push('<div style="float:left;'+o.content.config.btnWrapStyle+'">'),t.push('<button class="btn btn-default btn-'+o.content.config.btnTheme+'" style="'+o.content.config.btnStyle+'" data-secure-num-value="'+e+'">'+e+"</button>"),t.push("</div>")}),[{label:"&#x02190",fn:"back"},{label:"C",fn:"clear"}].forEach(function(e){t.push('<div style="float:left;'+o.content.config.btnWrapStyle+'">'),t.push('<button class="btn btn-default btn-'+o.content.config.specialBtnTheme+'" style="'+o.content.config.btnStyle+'" data-secure-num-value="'+e.fn+'">'+e.label+"</button>"),t.push("</div>")}),t.push('<div style="clear:both;"></div>'),$(this).html(t.join("")).on("click","[data-secure-num-value]",function(){var e=this.getAttribute("data-secure-num-value"),t="INPUT"==o.$target.get(0).tagName.toUpperCase()?o.$target:jQuery(o.$target.find("input[type]").get(n)),i=t.val();"back"==e?t.val(i.substring(0,i.length-1)):"clear"==e?t.val(""):t.val(i+e),l.call(this,o,{self:h,state:"changeValue",item:o,value:t.val()})})})},keyboard:function(e){for(var s=this.queue[e],t=[],i=0;i<s.inputLength;i++)t.push('<div style="width:'+p.cssNumber(s.content.width)+';float:left;" class="ax-picker-content-box" data-keyboard-target="'+i+'"></div>'),i<s.inputLength-1&&t.push('<div style="width:'+s.content.margin+'px;float:left;height: 5px;"></div>');t.push('<div style="clear:both;"></div>'),s.pickerContent.html(t.join(""));function r(a){var r=[];return n.forEach(function(e){r.push('<div style="display: table;margin:0 auto;">'),e.forEach(function(e){var t,i,n,o,e=e.fn?(t=e.fn,i=e.label,n=s.content.config.specialBtnWrapStyle,o=s.content.config.specialBtnTheme,s.content.config.specialBtnStyle):(i=t=a?e.shiftValue:e.value,n=s.content.config.btnWrapStyle,o=s.content.config.btnTheme,s.content.config.btnStyle);r.push('<div style="display: table-cell;'+n+'">'),r.push('<button class="btn btn-default btn-'+o+'" style="'+e+'" data-keyboard-value="'+t+'">'+i+"</button>"),r.push("</div>")}),r.push("</div>")}),r.join("")}var n=[[{value:"`",shiftValue:"~"},{value:"1",shiftValue:"!"},{value:"2",shiftValue:"@"},{value:"3",shiftValue:"#"},{value:"4",shiftValue:"$"},{value:"5",shiftValue:"%"},{value:"6",shiftValue:"^"},{value:"7",shiftValue:"&"},{value:"8",shiftValue:"*"},{value:"9",shiftValue:"("},{value:"0",shiftValue:")"},{value:"-",shiftValue:"_"},{value:"=",shiftValue:"+"},{label:"&#x02190",fn:"back"}],[{value:"q",shiftValue:"Q"},{value:"w",shiftValue:"W"},{value:"e",shiftValue:"E"},{value:"r",shiftValue:"R"},{value:"t",shiftValue:"T"},{value:"y",shiftValue:"Y"},{value:"u",shiftValue:"U"},{value:"i",shiftValue:"I"},{value:"o",shiftValue:"O"},{value:"p",shiftValue:"P"},{value:"[",shiftValue:"{"},{value:"]",shiftValue:"}"},{value:"\\",shiftValue:"|"}],[{label:"Clear",fn:"clear"},{value:"a",shiftValue:"A"},{value:"s",shiftValue:"S"},{value:"d",shiftValue:"D"},{value:"f",shiftValue:"F"},{value:"g",shiftValue:"G"},{value:"h",shiftValue:"H"},{value:"j",shiftValue:"J"},{value:"k",shiftValue:"K"},{value:"l",shiftValue:"L"},{value:";",shiftValue:":"},{value:"'",shiftValue:'"'}],[{label:"Shift",fn:"shift"},{value:"z",shiftValue:"Z"},{value:"x",shiftValue:"X"},{value:"c",shiftValue:"C"},{value:"v",shiftValue:"V"},{value:"b",shiftValue:"B"},{value:"n",shiftValue:"N"},{value:"m",shiftValue:"M"},{value:",",shiftValue:"<"},{value:".",shiftValue:">"},{value:"/",shiftValue:"?"},{label:"Close",fn:"close"}]];s.pickerContent.find("[data-keyboard-target]").each(function(){var n=this.getAttribute("data-keyboard-target"),o=$(this),a=!1;o.html(r(a)).on("mousedown","[data-keyboard-value]",function(){var e=this.getAttribute("data-keyboard-value"),t="INPUT"==s.$target.get(0).tagName.toUpperCase()?s.$target:jQuery(s.$target.find("input[type]").get(n)),i=t.val();switch(e){case"back":t.val(i.substring(0,i.length-1));break;case"clear":t.val("");break;case"shift":return a=!a,o.html(r(a)),!1;case"close":return h.close(),!1;default:t.val(i+e)}l.call(this,s,{self:h,state:"changeValue",item:s,value:t.val()})})})},numpad:function(e){for(var s=this.queue[e],t=[],i=0;i<s.inputLength;i++)t.push('<div style="width:'+p.cssNumber(s.content.width)+';float:left;" class="ax-picker-content-box" data-numpad-target="'+i+'"></div>'),i<s.inputLength-1&&t.push('<div style="width:'+s.content.margin+'px;float:left;height: 5px;"></div>');t.push('<div style="clear:both;"></div>'),s.pickerContent.html(t.join("")),s.pickerContent.find("[data-numpad-target]").each(function(){var o=this.getAttribute("data-numpad-target"),r=[];(s.content.config.keyArray||[{value:"7"},{value:"8"},{value:"9"},{label:"BS",fn:"back"},{value:"4"},{value:"5"},{value:"6"},{label:"CLS",fn:"clear"},{value:"1"},{value:"2"},{value:"3"},{value:""},{value:"."},{value:"0"},{value:""},{label:"OK",fn:"enter"}]).forEach(function(e){var t=void 0,i=void 0,n=void 0,o=void 0,a=void 0,a=e.fn?(t=e.fn,i=e.label,o=s.content.config.specialBtnTheme,n=s.content.config.specialBtnWrapStyle,s.content.config.specialBtnStyle):(i=t=e.value,o=t?s.content.config.btnTheme:"",n=s.content.config.btnWrapStyle,s.content.config.btnStyle);r.push('<div style="float:left;'+n+'">'),r.push('<button class="btn btn-default btn-'+o+'" style="'+a+'" data-numpad-value="'+t+'">'+(i||"&nbsp;")+"</button>"),r.push("</div>")}),r.push('<div style="clear:both;"></div>'),$(this).html(r.join("")).on("mousedown","[data-numpad-value]",function(){var e=this.getAttribute("data-numpad-value"),t="INPUT"==s.$target.get(0).tagName.toUpperCase()?s.$target:jQuery(s.$target.find("input[type]").get(o)),i=t.val(),n="";switch(e){case"back":n="changeValue",t.val(i.substring(0,i.length-1));break;case"clear":n="changeValue",t.val("");break;case"enter":return h.close(s,"enter"),!1;case"close":return h.close(),!1;default:n="changeValue",t.val(i+e)}l.call(this,s,{self:h,state:n,item:s,value:t.val()})})})},color:function(e){for(var i=this.queue[e],t=[],n=jQuery.extend({},s.palette),o="INPUT"==i.$target.get(0).tagName.toUpperCase()?i.$target:i.$target.find("input[type]"),a=0;a<i.inputLength;a++)t.push('<div style="padding: 5px;width:'+p.cssNumber(i.content.width)+';float:left;" class="ax-picker-content-box" data-palette-target="'+a+'" data-ax5palette="ax5picker-'+i.id+'"></div>'),a<i.inputLength-1&&t.push('<div style="width:'+i.content.margin+'px;float:left;height: 5px;"></div>');t.push('<div style="clear:both;"></div>'),i.pickerContent.html(t.join("")),i.pickerPalette=[],i.pickerContent.find("[data-palette-target]").each(function(){var t=this.getAttribute("data-palette-target"),e=o.get(t).value;n.selectedColor=e,(n=jQuery.extend(!0,n,i.content.config||{})).target=this,n.onClick=function(e){h.setContentValue(i.id,t,e)},n.onUpdateColor=function(e){h.setContentValue(i.id,t,e,{doNotClose:!0})},i.pickerPalette.push({itemId:i.id,inputIndex:t,ax5uiInstance:new ax5.ui.palette(n)})})}},function(e,t){var i=p.isNumber(e)?e:d.call(this,e),n=this.queue[i];return this.openTimer&&clearTimeout(this.openTimer),this.activePicker?this.activePickerQueueIndex==i||2<t||(this.close(),this.openTimer=setTimeout(function(){this.open(i,(t||0)+1)}.bind(this),s.animateTime)):(this.activePicker=jQuery(f.tmpl.get.call(this,"pickerTmpl",n)),this.activePickerArrow=this.activePicker.find(".ax-picker-arrow"),this.activePickerQueueIndex=i,n.pickerContent=this.activePicker.find('[data-picker-els="content"]'),p.isFunction(n.content)?(n.pickerContent.html("Loading.."),u["@fn"].call(this,i,function(e){n.pickerContent.html(e)})):n.content.type in u&&u[n.content.type].call(this,i),this.activePicker.find("[data-picker-btn]").on(s.clickEventName,function(e){!function(e,t){var i;e.srcElement&&(e.target=e.srcElement),(t=p.findParentNode(e.target,function(e){if(e.getAttribute("data-picker-btn"))return!0}))&&(e=this.queue[this.activePickerQueueIndex],t=t.getAttribute("data-picker-btn"),e.btns&&e.btns[t].onClick?(i={key:t,value:e.btns[t],self:this,item:e},e.btns[t].onClick.call(i,t)):this.close())}.call(this,e||window.event,i)}.bind(this)),o.call(this,"append"),jQuery(window).bind("resize.ax5picker",function(){o.call(this)}.bind(this)),jQuery(window).bind("keyup.ax5picker",function(e){e=e||window.event,function(e){e.keyCode==ax5.info.eventKeys.ESC&&this.close()}.call(this,e),p.stopEvent(e)}.bind(this)),jQuery(window).bind("click.ax5picker",function(e){e=e||window.event,function(e,t){var i;return!this.activePicker||(i=this.queue[this.activePickerQueueIndex],p.findParentNode(e.target,function(e){return!!e.getAttribute("data-picker-els")||i.$target.get(0)==e||void 0}))||this.close(),this}.call(this,e),p.stopEvent(e)}.bind(this)),l.call(this,n,{self:this,state:"open",item:n})),this}),this.close=function(e,t){return this.closeTimer&&clearTimeout(this.closeTimer),this.activePicker&&(e=this.queue[this.activePickerQueueIndex],this.activePicker.addClass("destroy"),jQuery(window).unbind("resize.ax5picker"),jQuery(window).unbind("click.ax5picker"),jQuery(window).unbind("keyup.ax5picker"),this.closeTimer=setTimeout(function(){this.activePicker&&this.activePicker.remove(),this.activePicker=null,this.activePickerQueueIndex=-1,l.call(this,e,{self:this,state:t||"close"})}.bind(this),s.animateTime)),this},this.main=function(){arguments&&p.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}),f=ax5.ui.picker}(),!function(){var n=ax5.ui.picker;n.tmpl={pickerTmpl:function(){return'\n<div class="ax5-ui-picker {{theme}}" id="{{id}}" data-picker-els="root" {{#zIndex}}style="z-index:{{zIndex}};"{{/zIndex}}>\n    {{#title}}\n        <div class="ax-picker-heading">{{title}}</div>\n    {{/title}}\n    <div class="ax-picker-body">\n        <div class="ax-picker-content" data-picker-els="content" style="width:{{contentWidth}}px;"></div>\n        {{#btns}}\n            <div class="ax-picker-buttons">\n            {{#btns}}\n                {{#@each}}\n                <button data-picker-btn="{{@key}}" class="btn btn-default {{@value.theme}}">{{@value.label}}</button>\n                {{/@each}}\n            {{/btns}}\n            </div>\n        {{/btns}}\n    </div>\n    <div class="ax-picker-arrow"></div>\n</div>\n'},get:function(e,t,i){return ax5.mustache.render(n.tmpl[e].call(this,i),t)}}}(),ax5&&ax5.ui&&ax5.ui.picker&&(ax5.ui.picker_instance=new ax5.ui.picker,jQuery.fn.ax5picker=function(e){if(ax5.util.isString(arguments[0]))switch(arguments[0]){case"open":return ax5.ui.picker_instance.open(this);case"close":return ax5.ui.picker_instance.close(this);case"setValue":return ax5.ui.picker_instance.setContentValue(this,arguments[1],arguments[2]);default:return this}else void 0===e&&(e={}),jQuery.each(this,function(){e=jQuery.extend(!0,e,{target:this}),ax5.ui.picker_instance.bind(e)});return this}),!function(){var e=ax5.ui,r=ax5.util,s=void 0;e.addClass({className:"formatter"},function(){new Date;return function(){function i(e,t){var i;return e.pattern||("INPUT"==e.$target.get(0).tagName?e.pattern=e.$target.attr("data-ax5formatter"):e.pattern=e.$target.find('input[type="text"]').attr("data-ax5formatter"),e.pattern)?(i=e.pattern.match(/[^\(^\))]+/gi),e.pattern=i[0],e.patternArgument=i[1]||"",e.pattern in s.formatter&&(e.enterableKeyCodes=s.formatter[e.pattern].getEnterableKeyCodes.call(this,e,t)),e.$input.unbind("focus.ax5formatter").bind("focus.ax5formatter",a.focus.bind(this,this.queue[t],t)),e.$input.unbind("keydown.ax5formatter").bind("keydown.ax5formatter",a.keydown.bind(this,this.queue[t],t)),e.$input.unbind("keyup.ax5formatter").bind("keyup.ax5formatter",a.keyup.bind(this,this.queue[t],t)),e.$input.unbind("blur.ax5formatter").bind("blur.ax5formatter",a.blur.bind(this,this.queue[t],t)),a.blur.call(this,this.queue[t],t)):(console.log(ax5.info.getError("ax5formatter","501","bind")),console.log(e.target)),this}var n,o=this,a=(this.instanceId=ax5.getGuid(),this.config={animateTime:250},this.queue=[],this.openTimer=null,this.closeTimer=null,n=this.config,{focus:function(e,t,i){e.$input.data("__originValue__")||e.$input.data("__originValue__",e.$input.val())},keydown:function(e,t,i){var n=!1;(n=!e.enterableKeyCodes||i.which&&e.enterableKeyCodes[i.which]||i.metaKey||i.ctrlKey||i.shiftKey?n:!0)&&ax5.util.stopEvent(i)},keyup:function(e,t,i){var n,o,a,r=e.$input.get(0);"selectionStart"in r?n=r.selectionStart:document.selection&&(o=document.selection.createRange(),a=document.selection.createRange().text.length,o.moveStart("character",-r.value.length),n=o.text.length-a),o=r.value,(a=e.pattern in s.formatter?s.formatter[e.pattern].getPatternValue.call(this,e,t,i,r.value):o)!=o&&(e.$input.val(a).trigger("change"),t=r,void 0===(i=n+a.length-o.length)&&(i=t.value.length),t.setSelectionRange?(t.focus(),t.setSelectionRange(i,i)):t.createTextRange?((e=t.createTextRange()).collapse(!0),e.moveEnd("character",i),e.moveStart("character",i),e.select()):t.selectionStart&&(t.focus(),t.selectionStart=i,t.selectionEnd=i))},blur:function(e,t,i,n){var o,a=e.$input.get(0);e.$input.removeData("__originValue__"),o=a.value,t=e.pattern in s.formatter?s.formatter[e.pattern].getPatternValue.call(this,e,t,i,a.value,"blur"):o,n?e.$input.val(t):t!=o&&e.$input.val(t).trigger("change")}});this.init=function(){},this.bind=function(e){var t={};if(jQuery.extend(!0,t,n),e&&jQuery.extend(!0,t,e),(e=t).target){if(e.$target=jQuery(e.target),"INPUT"==e.$target.get(0).tagName)e.$input=e.$target;else if(e.$input=e.$target.find('input[type="text"]'),1<e.$input.length)return e.$input.each(function(){e.target=this,o.bind(e)}),this;e.$input="INPUT"==e.$target.get(0).tagName?e.$target:e.$target.find('input[type="text"]'),e.id||(e.id=e.$input.data("ax5-formatter")),e.id||(e.id="ax5-formatter-"+ax5.getGuid(),e.$input.data("ax5-formatter",e.id)),-1===(t=r.search(this.queue,function(){return this.id==e.id}))?(this.queue.push(e),i.call(this,this.queue[this.queue.length-1],this.queue.length-1)):(this.queue[t]=e,i.call(this,this.queue[t],t))}else console.log(ax5.info.getError("ax5formatter","401","bind"));return this},this.formatting=function(e){e=r.isNumber(e)?e:function(e){return r.isString(e)||(e=jQuery(e).data("data-formatter")),r.search(this.queue,function(){return this.id==e})}.call(this,e);if(-1===e)for(var t=this.queue.length;t--;)a.blur.call(this,this.queue[t],t,null,!0);else a.blur.call(this,this.queue[e],e,null,!0);return this},this.unbind=function(){},this.main=function(){arguments&&r.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}()),s=ax5.ui.formatter}(),!function(){var i=ax5.ui.formatter,d=ax5.util,c=new Date;i.formatter={ctrlKeys:{18:"KEY_ALT",8:"KEY_BACKSPACE",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",27:"KEY_ESC",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",13:"KEY_RETURN",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},numKeys:{48:1,49:1,50:1,51:1,52:1,53:1,54:1,55:1,56:1,57:1,96:1,97:1,98:1,99:1,100:1,101:1,102:1,103:1,104:1,105:1},money:{getEnterableKeyCodes:function(e){var t={188:","};return"int"!=e.patternArgument&&(t[190]="."),jQuery.extend(t,i.formatter.ctrlKeys,i.formatter.numKeys)},getPatternValue:function(e,t,i,n,o){n=n.replace(/[^0-9^\.^\-]/g,"");var a=new RegExp("([0-9])([0-9][0-9][0-9][,.])"),r=n.split(".");for(r[0]+=".";r[0]=r[0].replace(a,"$1,$2"),a.test(r[0]););return 1<r.length?d.isNumber(e.maxRound)?r[0]+d.left(r[1],e.maxRound):r.join(""):r[0].split(".")[0]}},number:{getEnterableKeyCodes:function(e){return jQuery.extend({190:".",110:"."},i.formatter.ctrlKeys,i.formatter.numKeys)},getPatternValue:function(e,t,i,n,o){n=(n=n.replace(/[^0-9^\.^\-]/g,"")).split(".");return n[0]+=".",1<n.length?d.isNumber(e.maxRound)?n[0]+d.left(n[1],e.maxRound):n.join(""):n[0].split(".")[0]}},date:{getEnterableKeyCodes:function(e){return jQuery.extend({189:"-",191:"/"},i.formatter.ctrlKeys,i.formatter.numKeys)},getPatternValue:function(n,e,t,i,o){var a,r,s,l;return""==(i=i.replace(/\D/g,""))?i:(a=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})?.*$/,"time"==n.patternArgument?a=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})? ?([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/:"year"==n.patternArgument?a=/^([0-9]{0,4})?.*$/:"month"==n.patternArgument&&(a=/^([0-9]{4})\-?([0-9]{1,2})?.*$/),r=i.match(a),l="",s=function(e,t,i,n){return i?{Y:function(e){return(e=""!=(e=void 0===e?c.getFullYear():e)&&"0000"!=e?e:c.getFullYear()).length<4?d.setDigit(e,4):e},M:function(e){return 12<(e=void 0===e?c.getMonth()+1:e)?12:0==e?"01":d.setDigit(e,2)},D:function(e){void 0===e&&(e=c.getDate()+1);var t=d.daysOfMonth(n[1],n[2]-1);return t<e?t:0==e?"01":d.setDigit(e,2)},h:function(e){return 23<(e=e||0)?23:d.setDigit(e,2)},m:function(e){return 59<(e=e||0)?59:d.setDigit(e,2)},s:function(e){return 59<(e=e||0)?59:d.setDigit(e,2)}}[t](e):e},l=i.replace(a,function(e,t){var i=[];return"year"==n.patternArgument?i.push(s(t,"Y",o)):"month"==n.patternArgument?(i.push(s(t,"Y",o)),(arguments[2]||o)&&i.push("-"+s(arguments[2],"M",o))):"time"==n.patternArgument?(i.push(s(t,"Y",o)),(arguments[2]||o)&&i.push("-"+s(arguments[2],"M",o)),(arguments[3]||o)&&i.push("-"+s(arguments[3],"D",o,arguments)),(arguments[4]||o)&&i.push(" "+s(arguments[4],"h",o)),(arguments[5]||o)&&i.push(":"+s(arguments[5],"m",o)),(arguments[6]||o)&&i.push(":"+s(arguments[6],"s",o))):(i.push(s(t,"Y",o)),(arguments[2]||o)&&i.push("-"+s(arguments[2],"M",o)),(arguments[3]||o)&&i.push("-"+s(arguments[3],"D",o,arguments))),i.join("")}),"blur"!=o||r?r||(l=4<l.length?d.left(l,4):l):l=function(){var e=[];return"year"==n.patternArgument?e.push(s(0,"Y",o)):"month"==n.patternArgument?(e.push(s(0,"Y",o)),e.push("-"+s(0,"M",o))):"time"==n.patternArgument?(e.push(s(0,"Y",o)),e.push("-"+s(0,"M",o)),e.push("-"+s(0,"D",o,arguments)),e.push(" "+s(0,"h",o)),e.push(":"+s(0,"m",o)),e.push(":"+s(0,"s",o))):(e.push(s(0,"Y",o)),e.push("-"+s(0,"M",o)),e.push("-"+s(0,"D",o,arguments))),e.join("")}(),l)}},time:{getEnterableKeyCodes:function(e){return jQuery.extend({186:":"},i.formatter.ctrlKeys,i.formatter.numKeys)},getPatternValue:function(e,t,i,n,o){var a=/^([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/,r=(n=n.replace(/\D/g,"")).match(a),n=n.replace(a,function(e,t){t=[t];return arguments[2]&&t.push(":"+arguments[2]),arguments[3]&&t.push(":"+arguments[3]),t.join("")});return n=r?n:2<n.length?d.left(n,2):n}},bizno:{getEnterableKeyCodes:function(e){return jQuery.extend({189:"-"},i.formatter.ctrlKeys,i.formatter.numKeys)},getPatternValue:function(e,t,i,n,o){return(n=n.replace(/\D/g,"")).replace(/^([0-9]{3})\-?([0-9]{1,2})?\-?([0-9]{1,5})?.*$/,function(e,t){t=[t];return arguments[2]&&t.push(arguments[2]),arguments[3]&&t.push(arguments[3]),t.join("-")})}},phone:{getEnterableKeyCodes:function(e){return jQuery.extend({189:"-",188:","},i.formatter.ctrlKeys,i.formatter.numKeys)},getPatternValue:function(e,t,i,n,o){var a=/^([0-9]{3})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/;return"02"==(n=n.replace(/\D/g,"")).substr(0,2)&&(a=/^([0-9]{2})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/),n.replace(a,function(e,t){t=[t];return arguments[2]&&t.push(arguments[2]),arguments[3]&&t.push(arguments[3]),arguments[4]&&t.push(arguments[4]),arguments[5]&&t.push(arguments[5]),t.join("-")})}},credit:{getEnterableKeyCodes:function(e){return jQuery.extend({189:"-"},i.formatter.ctrlKeys,i.formatter.numKeys)},getPatternValue:function(e,t,i,n,o){return(n=n.replace(/\D/g,"").substring(0,16)).replace(/^([0-9]{4})\-?([0-9]{4})?\-?([0-9]{4})?\-?([0-9]{4})?/,function(e,t){t=[t];return arguments[2]&&t.push(arguments[2]),arguments[3]&&t.push(arguments[3]),arguments[4]&&t.push(arguments[4]),t.join("-")})}},custom:{getEnterableKeyCodes:function(e){return e.getEnterableKeyCodes?e.getEnterableKeyCodes.call(e,{$input:e.$input}):null},getPatternValue:function(e,t,i,n,o){if(e.getPatternValue)return e.getPatternValue.call(e,{event:i,$input:e.$input,value:n})}}}}(),ax5.ui.formatter_instance=new ax5.ui.formatter,jQuery.fn.ax5formatter=function(e){if(ax5.util.isString(arguments[0]))switch(arguments[0]){case"formatting":return ax5.ui.formatter_instance.formatting(this);case"unbind":return ax5.ui.formatter_instance.unbind(this);default:return this}else void 0===e&&(e={}),jQuery.each(this,function(){e=jQuery.extend({},e,{target:this}),ax5.ui.formatter_instance.bind(e)});return this},!function(){var f,e=ax5.ui,g=ax5.util;e.addClass({className:"menu"},function(){function l(e,t){e?(jQuery(document.body).off("click.ax5menu-"+this.instanceId).on("click.ax5menu-"+this.instanceId,i.bind(this,t)),jQuery(window).off("keydown.ax5menu-"+this.instanceId).on("keydown.ax5menu-"+this.instanceId,function(e){e.which==ax5.info.eventKeys.ESC&&u.close()}),jQuery(window).on("resize.ax5menu-"+this.instanceId).on("resize.ax5menu-"+this.instanceId,function(e){u.close()})):(jQuery(document.body).off("click.ax5menu-"+this.instanceId),jQuery(window).off("keydown.ax5menu-"+this.instanceId),jQuery(window).off("resize.ax5menu-"+this.instanceId))}function c(d,e,t,i){var n=d,o=void 0;return n.theme=d.theme||h.theme,n.cfg={icons:jQuery.extend({},h.icons),iconWidth:d.iconWidth||h.iconWidth,acceleratorWidth:d.acceleratorWidth||h.acceleratorWidth},e.forEach(function(e){e.html||e.divide?(e["@isMenu"]=!1,e.html&&(e["@html"]=e.html.call({item:e,config:h,opt:d}))):e["@isMenu"]=!0}),n[h.columnKeys.items]=e,n["@depth"]=t,n["@path"]=i||"root",n["@hasChild"]=function(){return this[h.columnKeys.items]&&0<this[h.columnKeys.items].length},o=jQuery(f.tmpl.get.call(this,"tmpl",n,h.columnKeys)),jQuery(document.body).append(o),this.queue.splice(t).forEach(function(e){e.$target.remove()}),this.queue.push({$target:o,data:jQuery.extend({},n)}),o.find("[data-menu-item-index]").bind("mouseover",function(){var e=this.getAttribute("data-menu-item-depth"),t=this.getAttribute("data-menu-item-index"),i=this.getAttribute("data-menu-item-path"),n=void 0,o=void 0,a=void 0,r=void 0,s=void 0,l=void 0;null!=e&&void 0!==e&&(s=u.queue[e].data[h.columnKeys.items][t][h.columnKeys.items],(l=u.queue[e].$target).find("[data-menu-item-index]").removeClass("hover"),jQuery(this).addClass("hover"),l.attr("data-selected-menu-item-index")!=t)&&(l.attr("data-selected-menu-item-index",t),s&&0<s.length?(o=(n=jQuery(this)).offset(),a="fixed"==h.position?jQuery(document).scrollTop():0,r={"@parent":{left:o.left,top:o.top,width:n.outerWidth(),height:n.outerHeight()},left:o.left+n.outerWidth()-h.menuBodyPadding,top:o.top-h.menuBodyPadding-1-a},r=jQuery.extend(!0,d,r),c.call(u,r,s,Number(e)+1,i)):u.queue.splice(Number(e)+1).forEach(function(e){e.$target.remove()})),s=r=a=o=n=null}),o.find("[data-menu-item-index]").bind("mouseout",function(){var e=this.getAttribute("data-menu-item-depth"),t=this.getAttribute("data-menu-item-index"),i=void 0;(i=this.getAttribute("data-menu-item-path")?u.queue[e].data[h.columnKeys.items][t][h.columnKeys.items]:i)&&0<i.length||jQuery(this).removeClass("hover")}),0==t&&(n.direction&&o.addClass("direction-"+n.direction),a.call(this,null,{self:this,items:e,parent:function(e){if(!e)return!1;var t=null;try{t=Function("","return this.config.items["+e.substring(5).replace(/\./g,"].items[")+"];").call(u)}catch(e){}return t}(n["@path"]),state:"popup"})),s.call(this,o,n),r.call(this,{self:this,items:e,element:o.get(0)}),i=t=e=d=o=n=null,this}var o,d,u=this,h=void 0,a=(this.instanceId=ax5.getGuid(),this.config={theme:"default",iconWidth:22,acceleratorWidth:100,menuBodyPadding:5,offset:{left:0,top:0},position:"fixed",animateTime:250,items:[],itemClickAndClose:!0,columnKeys:{label:"label",items:"items"}},this.openTimer=null,this.closeTimer=null,this.queue=[],this.menuBar={},this.state=void 0,h=this.config,function(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),u.state=t.state,!(t=e=null)}),r=function(e){return this.onLoad&&this.onLoad.call(e,e),!(e=null)},i=function(i,e){var t=void 0,n=void 0;if(t=g.findParentNode(e.target,function(e){if(e.getAttribute("data-menu-item-index"))return!0})){if(void 0===i&&(i={}),!(n=function(e){if(!e)return!1;var t=void 0;try{t=Function("","return this["+e.substring(5).replace(/\./g,"]."+h.columnKeys.items+"[")+"];").call(i.items||h.items)}catch(e){console.log(ax5.info.getError("ax5menu","501","menuItemClick"))}return t}(t.getAttribute("data-menu-item-path"))))return this;n.check&&(!function(i){var e={checkbox:function(e){this.checked=!e},radio:function(e){var t=this.name;i.forEach(function(e){e.check&&"radio"===e.check.type&&e.check.name==t&&(e.check.checked=!1)}),this.checked=!e}};e[this.type]&&e[this.type].call(this,this.checked)}.call(n.check,h.items),h.itemClickAndClose||u.queue.forEach(function(t){t.$target.find("[data-menu-item-index]").each(function(){var e=t.data[h.columnKeys.items][this.getAttribute("data-menu-item-index")];e.check&&jQuery(this).find(".item-checkbox-wrap").attr("data-item-checked",e.check.checked)})})),u.onClick&&u.onClick.call(n,n,i.param)&&u.close(),n[h.columnKeys.items]&&0!=n[h.columnKeys.items].length||!h.itemClickAndClose||u.close()}else u.close();return n=t=null,this},s=function(e,t){var i=jQuery(window),n=jQuery(document),o=("fixed"==h.position?i:n).height(),a=i.width(),r=e.outerHeight(),s=e.outerWidth(),l=t.left,d=t.top,c=h.position||"fixed";return a<l+s&&(l=t["@parent"]?t["@parent"].left-s+h.menuBodyPadding:a-s),e.css({left:l,top:d=o<d+r?o-r:d,position:c}),d=l=n=i=t=e=null,this};function p(e,t,i){var n=jQuery(e),o=n.offset(),a=n.outerHeight(),r=Number(e.getAttribute("data-menu-item-index")),s="fixed"==h.position?jQuery(document).scrollTop():0;if(h.items&&h.items[r][h.columnKeys.items]&&h.items[r][h.columnKeys.items].length){if(u.menuBar.openedIndex==r)return"click"==i&&u.close();u.menuBar.target.find("[data-menu-item-index]").removeClass("hover"),u.menuBar.opened=!0,u.menuBar.openedIndex=r,n.attr("data-menu-item-opened","true"),n.addClass("hover"),h.offset&&(h.offset.left&&(o.left+=h.offset.left),h.offset.top)&&(o.top+=h.offset.top),t=d.object.call(this,{left:o.left,top:o.top+a-s},t),c.call(u,t,h.items[r][h.columnKeys.items],0,"root."+e.getAttribute("data-menu-item-index")),l.call(u,!0,{})}}this.init=function(){this.onStateChanged=h.onStateChanged,this.onClick=h.onClick,this.onLoad=h.onLoad,a.call(this,null,{self:this,state:"init"})},this.popup=(o={event:function(e,t){return(e={left:e.clientX,top:"fixed"==h.position?e.clientY:e.pageY,width:h.width,theme:h.theme}).left-=5,e.top-=5,h.offset&&(h.offset.left&&(e.left+=h.offset.left),h.offset.top)&&(e.top+=h.offset.top),t=jQuery.extend(!0,e,t)},object:function(e,t){return e={left:e.left,top:e.top,width:e.width||h.width,theme:e.theme||h.theme},h.offset&&(h.offset.left&&(e.left+=h.offset.left),h.offset.top)&&(e.top+=h.offset.top),t=jQuery.extend(!0,e,t)}},function(e,i){var t,n;return e&&(i=o[void 0===e.clientX?"object":"event"].call(this,e,i),(t=i.theme)&&(h.theme=t),t=[].concat(h.items),n=void 0,i.items=t,i.filter&&(n=function(e){var t=[];return e.forEach(function(e){e.items&&0<e.items.length&&(e.items=n(e.items)),i.filter.call(e)&&t.push(e)}),t},i.items=t=n(t)),t.length&&(l.call(this,!1),c.call(this,i,t,0),this.popupEventAttachTimer&&clearTimeout(this.popupEventAttachTimer),this.popupEventAttachTimer=setTimeout(function(){l.call(this,!0,i)}.bind(this),500)),e=null),this}),this.attach=(d={object:function(e,t){e={left:e.left,top:e.top,width:e.width||h.width,theme:e.theme||h.theme,direction:e.direction||h.direction},t=jQuery.extend(!0,t,e);try{return t}finally{e=null}}},function(e,t){var i,n={},o=h.items;return void 0===t&&(t={}),n.theme=t.theme||h.theme,n.cfg={icons:jQuery.extend({},h.icons),iconWidth:t.iconWidth||h.iconWidth,acceleratorWidth:t.acceleratorWidth||h.acceleratorWidth},o.forEach(function(e){e.html||e.divide?(e["@isMenu"]=!1,e.html&&(e["@html"]=e.html.call({item:e,config:h,opt:t}))):e["@isMenu"]=!0}),n[h.columnKeys.items]=o,i=jQuery(f.tmpl.get.call(this,"tmplMenubar",n,h.columnKeys)),u.menuBar={target:jQuery(e),opened:!1},u.menuBar.target.html(i),u.menuBar.target.bind("click",function(e){if(!e)return this;e=g.findParentNode(e.target,function(e){if(e.getAttribute("data-menu-item-index"))return!0});e&&(!function(e){var t=jQuery(e),t=(t.offset(),t.outerHeight(),Number(e.getAttribute("data-menu-item-index")));"fixed"==h.position&&jQuery(document).scrollTop();!h.items||h.items[t][h.columnKeys.items]&&0!=h.items[t][h.columnKeys.items].length||u.onClick&&u.onClick.call(h.items[t],h.items[t])}(e),p(e,t,"click"))}),u.menuBar.target.bind("mouseover",function(e){if(!u.menuBar.opened)return!1;e=g.findParentNode(e.target,function(e){if(e.getAttribute("data-menu-item-index"))return!0});e&&p(e,t,"mouseover")}),o=n=t=e=null,this}),this.close=function(){return u.menuBar&&u.menuBar.target&&(u.menuBar.target.find("[data-menu-item-index]").removeClass("hover"),u.menuBar.opened=!1,u.menuBar.openedIndex=null),l.call(this,!1),this.queue.forEach(function(e){e.$target.remove()}),this.queue=[],a.call(this,null,{self:this,state:"close"}),this},this.getCheckValue=function(){var i={},n=function(e){for(var t=e.length;t--;)e[t].check&&e[t].check.checked&&(i[e[t].check.name]?(g.isString(i[e[t].check.name])&&(i[e[t].check.name]=[i[e[t].check.name]]),i[e[t].check.name].push(e[t].check.value)):i[e[t].check.name]=e[t].check.value),e[t].items&&0<e[t].items.length&&n(e[t].items)};n(h.items);try{return i}finally{n=i=null}},this.main=function(){e.menu_instance=e.menu_instance||[],e.menu_instance.push(this),arguments&&g.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}),f=ax5.ui.menu}(),!function(){var n=ax5.ui.menu;n.tmpl={tmpl:function(e){return'\n        <div class="ax5-ui-menu {{theme}}" {{#width}}style="width:{{width}}px;"{{/width}}>\n            <div class="ax-menu-body">\n                {{#'+e.items+'}}\n                    {{^@isMenu}}\n                        {{#divide}}\n                        <div class="ax-menu-item-divide" data-menu-item-index="{{@i}}"></div>\n                        {{/divide}}\n                        {{#html}}\n                        <div class="ax-menu-item-html" data-menu-item-index="{{@i}}">{{{@html}}}</div>\n                        {{/html}}\n                    {{/@isMenu}}\n                    {{#@isMenu}}\n                    <div class="ax-menu-item" data-menu-item-depth="{{@depth}}" data-menu-item-index="{{@i}}" data-menu-item-path="{{@path}}.{{@i}}">\n                        <span class="ax-menu-item-cell ax-menu-item-checkbox">\n                            {{#check}}\n                            <span class="item-checkbox-wrap useCheckBox" {{#checked}}data-item-checked="true"{{/checked}}></span>\n                            {{/check}}\n                            {{^check}}\n                            <span class="item-checkbox-wrap"></span>\n                            {{/check}}\n                        </span>\n                        {{#icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-icon" style="width:{{cfg.iconWidth}}px;">{{{.}}}</span>\n                        {{/icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-label">{{{'+e.label+'}}}</span>\n                        {{#accelerator}}\n                        <span class="ax-menu-item-cell ax-menu-item-accelerator" style="width:{{cfg.acceleratorWidth}}px;"><span class="item-wrap">{{.}}</span></span>\n                        {{/accelerator}}\n                        {{#@hasChild}}\n                        <span class="ax-menu-item-cell ax-menu-item-handle">{{{cfg.icons.arrow}}}</span>\n                        {{/@hasChild}}\n                    </div>\n                    {{/@isMenu}}\n\n                {{/'+e.items+'}}\n            </div>\n            <div class="ax-menu-arrow"></div>\n        </div>\n        '},tmplMenubar:function(e){return'\n        <div class="ax5-ui-menubar {{theme}}">\n            <div class="ax-menu-body">\n                {{#'+e.items+'}}\n                    {{^@isMenu}}\n                        {{#divide}}\n                        <div class="ax-menu-item-divide" data-menu-item-index="{{@i}}"></div>\n                        {{/divide}}\n                        {{#html}}\n                        <div class="ax-menu-item-html" data-menu-item-index="{{@i}}">{{{@html}}}</div>\n                        {{/html}}\n                    {{/@isMenu}}\n                    {{#@isMenu}}\n                    <div class="ax-menu-item" data-menu-item-index="{{@i}}">\n                        {{#icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-icon" style="width:{{cfg.iconWidth}}px;">{{{.}}}</span>\n                        {{/icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-label">{{{'+e.label+"}}}</span>\n                    </div>\n                    {{/@isMenu}}\n                {{/"+e.items+"}}\n            </div>\n        </div>\n        "},get:function(e,t,i){return ax5.mustache.render(n.tmpl[e].call(this,i),t)}}}(),!function(){var e=ax5.ui,C=ax5.util,_=void 0;e.addClass({className:"select"},function(){function r(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),"changeValue"==t.state&&(e&&e.onChange?e.onChange.call(t,t):this.onChange&&this.onChange.call(t,t)),!(t=e=null)}function s(e){if(!this.activeSelectOptionGroup)return this;var t,i,n,o,a=this.queue[this.activeSelectQueueIndex],r=void 0;e&&jQuery(document.body).append(this.activeSelectOptionGroup),t=a.$target.offset(),i={width:a.$target.outerWidth(),height:a.$target.outerHeight()},Math.max(h.width(),jQuery(document.body).width()),n=Math.max(h.height(),jQuery(document.body).height()),this.activeSelectOptionGroup.outerWidth(),o=this.activeSelectOptionGroup.outerHeight(),a.direction&&""!==a.direction&&"auto"!==a.direction?r=a.direction:(r="top",t.top-o<0?r="top":t.top+i.height+o+0>n&&(r="bottom")),e&&this.activeSelectOptionGroup.addClass("direction-"+r),this.activeSelectOptionGroup.css(function(){var e;return"top"==r?t.top+i.height+o+0>n?(e=t.top+i.height/2-o/2,{left:t.left,top:e=(e=n<e+o+0?0:e)<0?0:e,width:i.width}):{left:t.left,top:t.top+i.height+1,width:i.width}:"bottom"==r?{left:t.left,top:t.top-o-1,width:i.width}:void 0}.call(this))}function a(e){this.queue[e].$displayLabel.html(f.call(this,e))}function l(e){if(C.isString(e)||(e=jQuery(e).data("data-ax5select-id")),C.isString(e))return C.search(this.queue,function(){return this.id==e});console.log(ax5.info.getError("ax5select","402","getQueIdx"))}var d,i,n,c,u=this,h=(this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:100,lang:{noSelected:"",noOptions:"no options",loading:"now loading..",multipleLabel:'"{{label}}" {{length}}'},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}},this.queue=[],this.activeSelectOptionGroup=null,this.activeSelectQueueIndex=-1,this.openTimer=null,this.closeTimer=null,this.waitOptionsCallback=null,this.keyUpTimer=null,this.xvar={},d=this.config,jQuery(window)),o={18:"KEY_ALT",8:"KEY_BACKSPACE",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",27:"KEY_ESC",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",13:"KEY_RETURN",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},p=function(){for(var e=this.queue.length,t=void 0;e--;)this.queue[e].$display&&(t=Math.max(this.queue[e].$select.outerWidth(),C.number(this.queue[e].minWidth)),this.queue[e].$display.css({"min-width":t}),this.queue[e].reset)&&this.queue[e].$display.find(".addon-icon-reset").css({"line-height":this.queue[e].$display.height()+"px"});return t=e=null,this},f=function(e){var t=this.queue[e],i=[];return C.isArray(t.selected)&&0<t.selected.length?t.selected.forEach(function(e){e.selected&&i.push(e[t.columnKeys.optionText])}):!t.multiple&&t.options&&t.options[0]?t.options[0].optgroup?i[0]=t.options[0].options[0][t.columnKeys.optionText]:i[0]=t.options[0][t.columnKeys.optionText]:i[0]=t.lang.noSelected,t.multiple&&1<i.length?ax5.mustache.render(t.lang.multipleLabel,{label:i[0],length:i.length-1}):i[0]},g=function(e,t,i){var n=void 0,o=void 0,a=void 0;this.activeSelectOptionGroup&&this.queue[e].options&&0<this.queue[e].options.length&&(void 0!==i?n=i:-1==(i=-1==this.queue[e].optionFocusIndex?this.queue[e].optionSelectedIndex||-1:this.queue[e].optionFocusIndex)?n=0<t?0:this.queue[e].optionItemLength-1:(n=i+t)<0?n=0:n>this.queue[e].optionItemLength-1&&(n=this.queue[e].optionItemLength-1),this.queue[e].optionFocusIndex=n,this.activeSelectOptionGroup.find("[data-option-focus-index]").removeClass("hover"),o=this.activeSelectOptionGroup.find('[data-option-focus-index="'+n+'"]').addClass("hover"),a=this.activeSelectOptionGroup.find('[data-els="content"]'),i=o.outerHeight(),(t=a.innerHeight())+(e=a.scrollTop())<(n=o.position().top+a.scrollTop())+i?a.scrollTop(n+i-t):n<e&&a.scrollTop(n))},m=(i=C.debounce(function(e,t){!function(e,t){var i=[],n=-1,o=this.queue[e].indexedOptions.length-1,a=void 0;if(t){for(;o-n++;){if((""+(a=this.queue[e].indexedOptions[n]).value).toLowerCase()==t.toLowerCase()){i=[{"@findex":a["@findex"],optionsSort:0}];break}var r=(""+a.value).toLowerCase().search(t.toLowerCase());if(-1<r&&(i.push({"@findex":a["@findex"],optionsSort:r}),2<i.length))break;0}i.sort(function(e,t){return e.optionsSort-t.optionsSort})}i&&0<i.length&&g.call(this,e,void 0,i[0]["@findex"]);try{return i}finally{o=n=i=null}}.call(u,t,e),u.queue[t].$displayInput.val("")},300),n={click:function(e,t){C.findParentNode(t.target,function(e){if(e.getAttribute("data-selected-clear"))return!0})?this.val(e,{clear:!0}):u.activeSelectQueueIndex==e?-1==this.queue[e].optionFocusIndex&&u.close():(u.open(e),C.stopEvent(t))},keyUp:function(e,t){t.which==ax5.info.eventKeys.SPACE?n.click.call(this,e,t):o[t.which]||i(this.queue[e].$displayInput.val(),e)},keyDown:function(e,t){t.which==ax5.info.eventKeys.DOWN?(g.call(this,e,1),C.stopEvent(t)):t.which==ax5.info.eventKeys.UP&&(g.call(this,e,-1),C.stopEvent(t))},blur:function(e,t){},selectChange:function(e,t){this.val(e,this.queue[e].$select.val(),!0)}},function(e){var t=this.queue[e],i={};return t.selected=[],t.options||(t.options=[]),t.options.forEach(function(e){e[d.columnKeys.optionSelected]&&t.selected.push(jQuery.extend({},e))}),t.$display?(t.$displayLabel.html(f.call(this,e)),t.options=v.call(this,e,t.options),p.call(this)):(i.instanceId=this.instanceId,i.id=t.id,i.name=t.name,i.theme=t.theme,i.tabIndex=t.tabIndex,i.multiple=t.multiple,i.reset=t.reset,i.label=f.call(this,e),i.formSize=t.size?"input-"+t.size:"",t.$display=_.tmpl.get.call(this,"tmpl",i),t.$displayLabel=t.$display.find('[data-ax5select-display="label"]'),t.$target.find("select").get(0)?(t.$select=t.$target.find("select"),t.$select.attr("tabindex","-1").attr("class","form-control "+i.formSize),i.name&&t.$select.attr("name","name"),i.multiple&&t.$select.attr("multiple","multiple")):(t.$select=_.tmpl.get.call(this,"selectTmpl",i),t.$target.append(t.$select)),t.$target.append(t.$display),t.$displayInput=t.$display.find('[data-ax5select-display="input"]'),t.options=v.call(this,e,t.options),p.call(this),t.$displayInput.unbind("blur.ax5select").bind("blur.ax5select",n.blur.bind(this,e)).unbind("keyup.ax5select").bind("keyup.ax5select",n.keyUp.bind(this,e)).unbind("keydown.ax5select").bind("keydown.ax5select",n.keyDown.bind(this,e))),t.$display.unbind("click.ax5select").bind("click.ax5select",n.click.bind(this,e)).unbind("keyup.ax5select").bind("keyup.ax5select",n.keyUp.bind(this,e)),t.$select.unbind("change.ax5select").bind("change.ax5select",n.selectChange.bind(this,e)),e=t=i=null,this}),v=function(n,e){var o=this.queue[n],i=void 0,t=void 0,a=void 0,r=0;return x.call(this,n,!1),e?(o.options=e,o.indexedOptions=[],i=[],o.options.forEach(function(e,t){e.optgroup?(e["@gindex"]=t,e.options.forEach(function(e,t){e["@index"]=t,e["@findex"]=r,i.push('<option value="'+e[o.columnKeys.optionValue]+'" '+(e[o.columnKeys.optionSelected]?' selected="selected"':"")+">"+e[o.columnKeys.optionText]+"</option>"),e[o.columnKeys.optionSelected]&&x.call(u,n,e),o.indexedOptions.push({"@findex":r,value:e[o.columnKeys.optionValue],text:e[o.columnKeys.optionText]}),r++})):(e["@index"]=t,e["@findex"]=r,i.push('<option value="'+e[o.columnKeys.optionValue]+'" '+(e[o.columnKeys.optionSelected]?' selected="selected"':"")+">"+e[o.columnKeys.optionText]+"</option>"),e[o.columnKeys.optionSelected]&&x.call(u,n,e),o.indexedOptions.push({"@findex":r,value:e[o.columnKeys.optionValue],text:e[o.columnKeys.optionText]}),r++)}),o.optionItemLength=r,o.$select.html(i.join(""))):(t=C.toArray(o.$select.get(0).options),a=[],t.forEach(function(e,t){var i={};i[o.columnKeys.optionValue]=e.value,i[o.columnKeys.optionText]=e.text,i[o.columnKeys.optionSelected]=e.selected,i["@index"]=t,i["@findex"]=t,e.selected&&x.call(u,n,i),a.push(i)}),o.options=a,o.indexedOptions=a),!o.multiple&&0==o.selected.length&&o.options&&o.options[0]&&(o.options[0].optgroup?(o.options[0].options[0][o.columnKeys.optionSelected]=!0,o.selected.push(jQuery.extend({},o.options[0].options[0]))):(o.options[0][o.columnKeys.optionSelected]=!0,o.selected.push(jQuery.extend({},o.options[0])))),a=t=i=null,o.options};function x(e,t){t?this.queue[e].multiple?this.queue[e].selected.push(jQuery.extend({},t)):this.queue[e].selected[0]=jQuery.extend({},t):this.queue[e].selected=[]}function y(e){e.onExpand.call({self:this,item:e},function(e){var t,i,n,o,a;this.waitOptionsCallback&&(t={},i=this.queue[this.activeSelectQueueIndex],n=i,a={},(o=e).options.forEach(function(e,t){e["@index"]=t,a[e[n.columnKeys.optionValue]]=e}),C.isArray(n.selected)&&n.selected.forEach(function(e){a[e[n.columnKeys.optionValue]]&&(o.options[a[e[n.columnKeys.optionValue]]["@index"]][n.columnKeys.optionSelected]=!0)}),i.$displayLabel.html(f.call(this,this.activeSelectQueueIndex)),i.options=v.call(this,this.activeSelectQueueIndex,e.options),p.call(this),t.id=i.id,t.theme=i.theme,t.size="ax5select-option-group-"+i.size,t.multiple=i.multiple,t.lang=i.lang,t.options=i.options,this.activeSelectOptionGroup.find('[data-els="content"]').html(_.tmpl.get.call(this,"optionsTmpl",t,i.columnKeys)))}.bind(this))}function b(e,t,i){return void 0===i?!e.multiple||!t:i}function w(e){this.queue[e].options.forEach(function(e){e.optgroup?e.options.forEach(function(e){e.selected=!1}):e.selected=!1})}this.init=function(){this.onStateChanged=d.onStateChanged,this.onChange=d.onChange,jQuery(window).bind("resize.ax5select-display-"+this.instanceId,function(){p.call(this)}.bind(this))},this.bind=function(e){var t;return(e=jQuery.extend(!0,{},d,e)).target?(e.$target=jQuery(e.target),e.id||(e.id=e.$target.data("data-ax5select-id")),e.id||(e.id="ax5select-"+ax5.getGuid(),e.$target.data("data-ax5select-id",e.id)),e.name=e.$target.attr("data-ax5select"),e.options&&(e.options=JSON.parse(JSON.stringify(e.options))),t=C.parseJson(e.$target.attr("data-ax5select-config"),!0),C.isObject(t)&&!t.error&&(e=jQuery.extend(!0,e,t)),-1===(t=C.search(this.queue,function(){return this.id==e.id}))?(this.queue.push(e),m.call(this,this.queue.length-1)):(this.queue[t].selected=[],this.queue[t].options=e.options,this.queue[t]=jQuery.extend(!0,{},this.queue[t],e),m.call(this,t)),0):console.log(ax5.info.getError("ax5select","401","bind")),this},this.open=function(e,t){this.waitOptionsCallback=null;var i=C.isNumber(e)?e:l.call(this,e),n=this.queue[i],e={},o=void 0,a=void 0;return n.$display.attr("disabled")||(this.openTimer&&clearTimeout(this.openTimer),this.activeSelectOptionGroup?this.activeSelectQueueIndex==i||2<t||(this.close(),this.openTimer=setTimeout(function(){this.open(i,(t||0)+1)}.bind(this),d.animateTime)):(n.optionFocusIndex=-1,n.selected&&0<n.selected.length&&(n.optionSelectedIndex=n.selected[0]["@findex"]),e.id=n.id,e.theme=n.theme,e.size="ax5select-option-group-"+n.size,e.multiple=n.multiple,e.lang=n.lang,n.$display.attr("data-select-option-group-opened","true"),n.onExpand&&(e.waitOptions=!0),e.options=n.options,this.activeSelectOptionGroup=_.tmpl.get.call(this,"optionGroupTmpl",e),this.activeSelectOptionGroup.find('[data-els="content"]').html(_.tmpl.get.call(this,"optionsTmpl",e,n.columnKeys)),this.activeSelectQueueIndex=i,s.call(this,"append"),jQuery(window).bind("resize.ax5select-"+this.instanceId,function(){s.call(this)}.bind(this)),n.selected&&0<n.selected.length&&(a=this.activeSelectOptionGroup.find('[data-option-index="'+n.selected[0]["@index"]+'"]')).get(0)&&(o=a.position().top-this.activeSelectOptionGroup.height()/3,this.activeSelectOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:o},n.animateTime,"swing",function(){})),n.$displayInput.val(""),setTimeout(function(){n.$displayInput.trigger("focus"),jQuery(window).bind("keyup.ax5select-"+this.instanceId,function(e){e=e||window.event,function(e){e.keyCode!=ax5.info.eventKeys.ESC&&(e.which!=ax5.info.eventKeys.RETURN||-1<this.queue[this.activeSelectQueueIndex].optionFocusIndex&&(e=this.activeSelectOptionGroup.find('[data-option-focus-index="'+this.queue[this.activeSelectQueueIndex].optionFocusIndex+'"]'),this.val(this.queue[this.activeSelectQueueIndex].id,{index:{gindex:e.attr("data-option-group-index"),index:e.attr("data-option-index")}},void 0,"internal"),this.queue[this.activeSelectQueueIndex].$select.trigger("change"),this.queue[this.activeSelectQueueIndex].multiple))||this.close()}.call(this,e),C.stopEvent(e)}.bind(this)),jQuery(window).bind("click.ax5select-"+this.instanceId,function(e){e=e||window.event,function(e,t){var i,n;return this.activeSelectOptionGroup&&(i=this.queue[this.activeSelectQueueIndex],n="display",(t=C.findParentNode(e.target,function(e){return e.getAttribute("data-option-value")||""==e.getAttribute("data-option-value")?(n="optionItem",!0):i.$target.get(0)==e?(n="display",!0):void 0}))?"optionItem"===n&&(this.val(i.id,{index:{gindex:t.getAttribute("data-option-group-index"),index:t.getAttribute("data-option-index")}},void 0,"internal"),i.$select.trigger("change"),i.$display.focus(),i.multiple||this.close()):this.close()),this}.call(this,e),C.stopEvent(e)}.bind(this))}.bind(this),300),r.call(this,n,{self:this,state:"open",item:n}),n.onExpand&&(this.waitOptionsCallback=!0,y.call(this,n)),a=o=e=null)),this},this.update=function(e){return this.bind(e),this},this.setOptions=function(e,t){e=l.call(this,e);return this.queue[e].selected=[],this.queue[e].options=t,m.call(this,e),this},this.val=(c={index:function(e,t,i){var n=this.queue[e];C.isString(t.index.gindex)?(n.options[t.index.gindex].options[t.index.index][n.columnKeys.optionSelected]=b(n,n.options[t.index.gindex].options[t.index.index][n.columnKeys.optionSelected],i),u.activeSelectOptionGroup.find('[data-option-group-index="'+t.index.gindex+'"][data-option-index="'+t.index.index+'"]').attr("data-option-selected",n.options[t.index.gindex].options[t.index.index][n.columnKeys.optionSelected].toString())):(n.options[t.index.index][n.columnKeys.optionSelected]=b(n,n.options[t.index.index][n.columnKeys.optionSelected],i),u.activeSelectOptionGroup.find('[data-option-index="'+t.index.index+'"]').attr("data-option-selected",n.options[t.index.index][n.columnKeys.optionSelected].toString())),v.call(this,e,n.options),a.call(this,e),s.call(this)},arr:function(i,e,n){e.forEach(function(e){if(C.isString(e)||C.isNumber(e))c.value.call(u,i,e,n);else for(var t in c)if(e[t]){c[t].call(u,i,e,n);break}})},value:function(e,t,i){var n=this.queue[e],o=C.search(n.options,function(){return this[n.columnKeys.optionValue]==t});-1<o?(n.options[o][n.columnKeys.optionSelected]=b(n,n.options[o][n.columnKeys.optionSelected],i),v.call(this,e,n.options),a.call(this,e)):console.log(ax5.info.getError("ax5select","501","val"))},text:function(e,t,i){var n=this.queue[e],o=C.search(n.options,function(){return this[n.columnKeys.optionText]==t});-1<o?(n.options[o][n.columnKeys.optionSelected]=b(n,n.options[o][n.columnKeys.optionSelected],i),v.call(this,e,n.options),a.call(this,e)):console.log(ax5.info.getError("ax5select","501","val"))},clear:function(e){w.call(this,e),v.call(this,e,this.queue[e].options),a.call(this,e),this.activeSelectOptionGroup&&this.activeSelectOptionGroup.find("[data-option-index]").attr("data-option-selected","false")}},function(e,t,i,n){var o=C.isNumber(e)?e:l.call(this,e);if(this.queue[o]){if(void 0===t||this.queue[o].multiple||w.call(this,o),void 0===t)return this.queue[o].selected;if(C.isArray(t))c.arr.call(this,o,t,i);else if(C.isString(t)||C.isNumber(t))c.value.call(this,o,t,i);else if(null===t)c.clear.call(this,o);else for(var a in c)if(t[a]){c[a].call(this,o,t,i);break}void 0!==t&&r.call(this,this.queue[o],{self:this,item:this.queue[o],state:n?"changeValue":"setValue",value:this.queue[o].selected,internal:n}),e=null}return this}),this.close=function(t){return this.closeTimer&&clearTimeout(this.closeTimer),this.activeSelectOptionGroup&&((t=this.queue[this.activeSelectQueueIndex]).optionFocusIndex=-1,t.$displayInput.val("").trigger("blur"),t.$display.removeAttr("data-select-option-group-opened").trigger("focus"),this.activeSelectOptionGroup.addClass("destroy"),jQuery(window).unbind("resize.ax5select-"+this.instanceId).unbind("click.ax5select-"+this.instanceId).unbind("keyup.ax5select-"+this.instanceId),this.closeTimer=setTimeout(function(){this.activeSelectOptionGroup&&this.activeSelectOptionGroup.remove(),this.activeSelectOptionGroup=null,this.activeSelectQueueIndex=-1;var e={self:this,item:t,value:t.selected,state:"close"};r.call(this,t,e),t.onClose&&t.onClose.call(e)}.bind(this),d.animateTime),this.waitOptionsCallback=null),this},this.enable=function(e){e=l.call(this,e);return this.queue[e].$display.removeAttr("disabled"),this.queue[e].$select.removeAttr("disabled"),r.call(this,this.queue[e],{self:this,state:"enable"}),this},this.disable=function(e){e=l.call(this,e);return this.queue[e].$display.attr("disabled","disabled"),this.queue[e].$select.attr("disabled","disabled"),r.call(this,this.queue[e],{self:this,state:"disable"}),this},this.main=function(){arguments&&C.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)}),_=ax5.ui.select}(),ax5.ui.select_instance=new ax5.ui.select,jQuery.fn.ax5select=function(e){if(ax5.util.isString(arguments[0]))switch(arguments[0]){case"open":return ax5.ui.select_instance.open(this);case"close":return ax5.ui.select_instance.close(this);case"setValue":return ax5.ui.select_instance.val(this,arguments[1],arguments[2]);case"getValue":return ax5.ui.select_instance.val(this);case"enable":return ax5.ui.select_instance.enable(this);case"disable":return ax5.ui.select_instance.disable(this);case"setOptions":return ax5.ui.select_instance.setOptions(this,arguments[1]);default:return this}else void 0===e&&(e={}),jQuery.each(this,function(){e=jQuery.extend({},e,{target:this}),ax5.ui.select_instance.bind(e)});return this},!function(){var n=ax5.ui.select;n.tmpl={optionGroupTmpl:function(e){return'\n<div class="ax5select-option-group {{theme}} {{size}}" data-ax5select-option-group="{{id}}">\n    <div class="ax-select-body">\n        <div class="ax-select-option-group-content" data-els="content"></div>\n    </div>\n    <div class="ax-select-arrow"></div> \n</div>\n'},tmpl:function(e){return'\n<a {{^tabIndex}}href="#ax5select-{{id}}" {{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}class="form-control {{formSize}} ax5select-display {{theme}}" \ndata-ax5select-display="{{id}}" data-ax5select-instance="{{instanceId}}">\n    <div class="ax5select-display-table" data-els="display-table">\n        <div data-ax5select-display="label">{{label}}</div>\n        <div data-ax5select-display="addon"> \n            {{#multiple}}{{#reset}}\n            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n            {{/reset}}{{/multiple}}\n            {{#icons}}\n            <span class="addon-icon-closed">{{clesed}}</span>\n            <span class="addon-icon-opened">{{opened}}</span>\n            {{/icons}}\n            {{^icons}}\n            <span class="addon-icon-closed"><span class="addon-icon-arrow"></span></span>\n            <span class="addon-icon-opened"><span class="addon-icon-arrow"></span></span>\n            {{/icons}}\n        </div>\n    </div>\n    <input type="text" tabindex="-1" data-ax5select-display="input" \n    style="position:absolute;z-index:0;left:0px;top:0px;font-size:1px;opacity: 0;width:1px;border: 0px none;color : transparent;text-indent: -9999em;" />\n</a>\n'},selectTmpl:function(e){return'\n<select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" {{#multiple}}multiple="multiple"{{/multiple}}></select>\n'},optionsTmpl:function(e){return'\n{{#waitOptions}}\n    <div class="ax-select-option-item">\n            <div class="ax-select-option-item-holder">\n                <span class="ax-select-option-item-cell ax-select-option-item-label">\n                    {{{lang.loading}}}\n                </span>\n            </div>\n        </div>\n{{/waitOptions}}\n{{^waitOptions}}\n    {{#options}}\n        {{#optgroup}}\n            <div class="ax-select-option-group">\n                <div class="ax-select-option-item-holder">\n                    <span class="ax-select-option-group-label">\n                        {{{.}}}\n                    </span>\n                </div>\n                {{#options}}\n                <div class="ax-select-option-item" data-option-focus-index="{{@findex}}" data-option-group-index="{{@gindex}}" data-option-index="{{@index}}" \n                data-option-value="{{'+e.optionValue+'}}" \n                {{#'+e.optionSelected+'}}data-option-selected="true"{{/'+e.optionSelected+'}}>\n                    <div class="ax-select-option-item-holder">\n                        {{#multiple}}\n                        <span class="ax-select-option-item-cell ax-select-option-item-checkbox">\n                            <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                        </span>\n                        {{/multiple}}\n                        <span class="ax-select-option-item-cell ax-select-option-item-label">{{{'+e.optionText+'}}}</span>\n                    </div>\n                </div>\n                {{/options}}\n            </div>                            \n        {{/optgroup}}\n        {{^optgroup}}\n        <div class="ax-select-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+e.optionValue+'}}" {{#'+e.optionSelected+'}}data-option-selected="true"{{/'+e.optionSelected+'}}>\n            <div class="ax-select-option-item-holder">\n                {{#multiple}}\n                <span class="ax-select-option-item-cell ax-select-option-item-checkbox">\n                    <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                </span>\n                {{/multiple}}\n                <span class="ax-select-option-item-cell ax-select-option-item-label">{{{'+e.optionText+'}}}</span>\n            </div>\n        </div>\n        {{/optgroup}}\n    {{/options}}\n    {{^options}}\n        <div class="ax-select-option-item">\n            <div class="ax-select-option-item-holder">\n                <span class="ax-select-option-item-cell ax-select-option-item-label">\n                    {{{lang.noOptions}}}\n                </span>\n            </div>\n        </div>\n    {{/options}}\n{{/waitOptions}}\n'},get:function(e,t,i){return jQuery(ax5.mustache.render(n.tmpl[e].call(this,i),t))}}}(),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e});!function(){var h=ax5.ui,p=ax5.util,f=void 0;h.addClass({className:"grid"},function(){function o(){s.call(this,this.config.columns),l.call(this),this.config.footSum&&(d.call(this,this.config.footSum),this.needToPaintSum=!0),this.config.body.grouping&&c.call(this,this.config.body.grouping),u.call(this,!0),f.header.repaint.call(this,!0),f.body.repaint.call(this,!0),f.scroller.resize.call(this)}var i,a,t,n=this,y=void 0,r={33:"KEY_PAGEUP",34:"KEY_PAGEDOWN",35:"KEY_END",36:"KEY_HOME",37:"KEY_LEFT",38:"KEY_UP",39:"KEY_RIGHT",40:"KEY_DOWN"},s=(this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,debounceTime:250,appendDebouncer:null,appendDebounceTimes:0,appendProgressIcon:"...",appendProgress:!1,frozenColumnIndex:0,frozenRowIndex:0,showLineNumber:!1,showRowSelector:!1,multipleSelect:!0,virtualScrollY:!0,virtualScrollX:!0,headerSelect:!0,virtualScrollYCountMargin:0,virtualScrollAccelerated:!0,virtualScrollAcceleratedDelayTime:10,height:0,columnMinWidth:100,lineNumberColumnWidth:30,rowSelectorColumnWidth:26,sortable:void 0,remoteSort:!1,header:{display:!0,align:!1,columnHeight:26,columnPadding:3,columnBorderWidth:1,selector:!0},body:{align:!1,columnHeight:26,columnPadding:3,columnBorderWidth:1,grouping:!1,mergeCells:!1},rightSum:!1,footSum:!1,page:{height:25,display:!0,statusDisplay:!0,navigationItemCount:5},scroller:{size:15,barMinSize:15,trackPadding:4},columnKeys:{selected:"__selected__",modified:"__modified__",deleted:"__deleted__",disableSelection:"__disable_selection__"},tree:{use:!1,hashDigit:8,indentWidth:10,arrowWidth:15,iconWidth:18,icons:{openedArrow:"",collapsedArrow:"",groupIcon:"",collapsedGroupIcon:"",itemIcon:""},columnKeys:{parentKey:"pid",selfKey:"id",collapse:"collapse",hidden:"hidden",parentHash:"__hp__",selfHash:"__hs__",children:"__children__",depth:"__depth__"}}},this.xvar={bodyTrHeight:0,scrollContentWidth:0,scrollContentHeight:0,scrollTimer:null},this.columns=[],this.colGroup=[],this.footSumColumns=[],this.bodyGrouping={},this.list=[],this.proxyList=null,this.page=null,this.selectedDataIndexs=[],this.deletedList=[],this.sortInfo={},this.focusedColumn={},this.selectedColumn={},this.isInlineEditing=!1,this.inlineEditing={},this.listIndexMap={},this.contextMenu=null,this.headerTable={},this.leftHeaderData={},this.headerData={},this.rightHeaderData={},this.bodyRowTable={},this.leftBodyRowData={},this.bodyRowData={},this.rightBodyRowData={},this.bodyRowMap={},this.bodyGroupingTable={},this.leftBodyGroupingData={},this.bodyGroupingData={},this.rightBodyGroupingData={},this.bodyGroupingMap={},this.footSumTable={},this.leftFootSumData={},this.footSumData={},this.needToPaintSum=!0,y=this.config,function(e){p.isArray(e)||(e=[]),this.columns=p.deepCopy(e),this.headerTable=f.util.makeHeaderTable.call(this,this.columns),this.xvar.frozenColumnIndex=y.frozenColumnIndex||0,this.bodyRowTable=f.util.makeBodyRowTable.call(this,this.columns),this.bodyRowMap=f.util.makeBodyRowMap.call(this,this.bodyRowTable),this.xvar.bodyTrHeight=this.bodyRowTable.rows.length*this.config.body.columnHeight;for(var t,i={},n=0,o=this.headerTable.rows.length;n<o;n++)for(var a=this.headerTable.rows[n],r=0,s=a.cols.length;r<s;r++)i[a.cols[r].colIndex]=jQuery.extend({},a.cols[r]);for(t in this.colGroup=[],i)this.colGroup.push(i[t]);return this}),l=function(){for(var e,t,i=this.$.container.root.width()-(t=0,y.showLineNumber&&(t+=y.lineNumberColumnWidth),y.showRowSelector&&(t+=y.rowSelectorColumnWidth),t+=y.scroller.size),n=0,o=[],a=this.colGroup,r=void 0,s=void 0,r=0,s=a.length;r<s;r++)p.isNumber(a[r].width)?n+=a[r]._width=a[r].width:"*"===a[r].width?o.push(r):"%"===p.right(a[r].width,1)&&(n+=a[r]._width=i*p.left(a[r].width,"%")/100);if(0<o.length)for(e=(i-n)/o.length,r=0,s=o.length;r<s;r++)a[o[r]]._width=e},d=function(e){p.isArray(e)?this.footSumTable=f.util.makeFootSumTable.call(this,this.footSumColumns=e):(this.footSumColumns=[],this.footSumTable={})},c=function(e){e=jQuery.extend({},e);"by"in e&&"columns"in e?(this.bodyGrouping={by:e.by,columns:e.columns},this.bodyGroupingTable=f.util.makeBodyGroupingTable.call(this,this.bodyGrouping.columns),this.sortInfo=function(){for(var e={},t=0,i=this.bodyGrouping.by.length;t<i;t++){e[this.bodyGrouping.by[t]]={orderBy:"asc",seq:t,fixed:!0};for(var n=0,o=this.colGroup.length;n<o;n++)this.colGroup[n].key===this.bodyGrouping.by[t]&&(this.colGroup[n].sort="asc",this.colGroup[n].sortFixed=!0)}return e}.call(this)):y.body.grouping=!1},u=function(e){var t=this.proxyList||this.list;if(Math.min(this.$target.innerWidth(),this.$target.innerHeight())<5)return!1;this.config.height||this.$.container.root.css({height:this.config._height=this.$target.height()});function i(e,t,i,n){var o={},a=!1;switch(i){case"aside":0===d?a=!0:(o.left=0,o.width=d);break;case"left":0===y.frozenColumnIndex?a=!0:(o.left=d,o.width=c);break;case"right":y.rightSum||(a=!0);break;default:"page"!==n&&(0===y.frozenColumnIndex?o.left=d:o.left=c+d,o.width=s-d-c-f)}if(a)e.hide();else{if("body"===n)switch(t){case"top":0==y.frozenRowIndex?a=!0:(o.top=0,o.height=g);break;case"bottom":y.footSum?(o.top=p-m,o.height=m):a=!0;break;default:o.top=g,o.height=p-g-m}else"header"===n?o.height=v:"page"===n&&(0==x?a=!0:o.height=x);a?e.hide():e.show().css(o)}return this}function n(e,t,i,n){var o={},a=!1;switch(n){case"vertical":0<t?(o.width=t,o.height=l,o.bottom=i+x):a=!0;break;case"horizontal":0<i?(o.width=s,o.height=i,o.right=t,o.bottom=x):a=!0;break;case"corner":0<t&&0<i?(o.width=t,o.height=i,o.bottom=x):a=!0}if(a)return e.hide(),this;e.show().css(o)}var o,a=this.$.container.root.width(),r=this.$.container.root.height(),s=a,l=r,d=y.asidePanelWidth=(o=0,y.showLineNumber&&(o+=y.lineNumberColumnWidth),y.showRowSelector&&(o+=y.rowSelectorColumnWidth),o),c=y.frozenPanelWidth=function(e){for(var t=0,i=0,n=y.frozenColumnIndex;i<n;i++)t+=e[i]._width;return t}(this.colGroup),u=void 0,h=void 0,p=void 0,f=0,g=(o=this.xvar.bodyTrHeight,y.frozenRowIndex*o),m=function(e){return this.footSumColumns.length*e}.call(this,this.xvar.bodyTrHeight),v=y.header.display?this.headerTable.rows.length*y.header.columnHeight:0,x=y.page.display?y.page.height:0;!function(){u=r-v-x-m<t.length*this.xvar.bodyTrHeight?this.config.scroller.size:0,0<(h=function(){for(var e=0,t=a-d-u,i=0,n=this.colGroup.length;i<n;i++)e+=this.colGroup[i]._width;return t<e?this.config.scroller.size:0}.call(this))&&(u=r-v-x-m-h<t.length*this.xvar.bodyTrHeight?this.config.scroller.size:0)}.call(this),s=a-u,p=(l=r-x-h)-v;return this.$.container.header.css({height:v}),this.$.container.body.css({height:p}),i.call(this,this.$.panel["aside-header"],"","aside","header"),i.call(this,this.$.panel["left-header"],"","left","header"),i.call(this,this.$.panel.header,"","","header"),i.call(this,this.$.panel["right-header"],"","right","header"),i.call(this,this.$.panel["top-aside-body"],"top","aside","body"),i.call(this,this.$.panel["top-left-body"],"top","left","body"),i.call(this,this.$.panel["top-body"],"top","","body"),i.call(this,this.$.panel["top-right-body"],"top","right","body"),i.call(this,this.$.panel["aside-body"],"","aside","body"),i.call(this,this.$.panel["left-body"],"","left","body"),i.call(this,this.$.panel.body,"","","body"),i.call(this,this.$.panel["right-body"],"","right","body"),i.call(this,this.$.panel["bottom-aside-body"],"bottom","aside","body"),i.call(this,this.$.panel["bottom-left-body"],"bottom","left","body"),i.call(this,this.$.panel["bottom-body"],"bottom","","body"),i.call(this,this.$.panel["bottom-right-body"],"bottom","right","body"),n.call(this,this.$.scroller.vertical,u,h,"vertical"),n.call(this,this.$.scroller.horizontal,u,h,"horizontal"),n.call(this,this.$.scroller.corner,u,h,"corner"),i.call(this,this.$.container.page,"","","page"),this.xvar.bodyHeight=this.$.panel.body.height(),this.xvar.bodyWidth=this.$.panel.body.width(),!0};this.init=function(e){return(y=jQuery.extend(!0,{},y,e)).target?(this.onStateChanged=y.onStateChanged,this.onClick=y.onClick,this.onLoad=y.onLoad,this.onDataChanged=y.body.onDataChanged,this.$target=jQuery(y.target),function(e){p.isObject(e)&&!e.error&&(y=jQuery.extend(!0,y,e))}.call(this,p.parseJson(this.$target.attr("data-ax5grid-config"),!0)),e=this.config=y,this.config.height||(this.config._height=this.$target.height()),this.id||(this.id=this.$target.data("data-ax5grid-id")),this.id||(this.id="ax5grid-"+this.instanceId,this.$target.data("data-ax5grid-id",e.id)),f.data.init.call(this),this.config.tree.use&&(this.sortInfo={},this.sortInfo[this.config.tree.columnKeys.selfHash]={orderBy:"asc",seq:0,fixed:!0}),function(){var e={instanceId:this.id};return this.$target.html(f.tmpl.get("main",e)),this.$={container:{hidden:this.$target.find('[data-ax5grid-container="hidden"]'),root:this.$target.find('[data-ax5grid-container="root"]'),header:this.$target.find('[data-ax5grid-container="header"]'),body:this.$target.find('[data-ax5grid-container="body"]'),page:this.$target.find('[data-ax5grid-container="page"]'),scroller:this.$target.find('[data-ax5grid-container="scroller"]')},panel:{"aside-header":this.$target.find('[data-ax5grid-panel="aside-header"]'),"left-header":this.$target.find('[data-ax5grid-panel="left-header"]'),header:this.$target.find('[data-ax5grid-panel="header"]'),"header-scroll":this.$target.find('[data-ax5grid-panel-scroll="header"]'),"right-header":this.$target.find('[data-ax5grid-panel="right-header"]'),"top-aside-body":this.$target.find('[data-ax5grid-panel="top-aside-body"]'),"top-left-body":this.$target.find('[data-ax5grid-panel="top-left-body"]'),"top-body":this.$target.find('[data-ax5grid-panel="top-body"]'),"top-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="top-body"]'),"top-right-body":this.$target.find('[data-ax5grid-panel="top-right-body"]'),"aside-body":this.$target.find('[data-ax5grid-panel="aside-body"]'),"aside-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="aside-body"]'),"left-body":this.$target.find('[data-ax5grid-panel="left-body"]'),"left-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="left-body"]'),body:this.$target.find('[data-ax5grid-panel="body"]'),"body-scroll":this.$target.find('[data-ax5grid-panel-scroll="body"]'),"right-body":this.$target.find('[data-ax5grid-panel="right-body"]'),"right-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="right-body"]'),"bottom-aside-body":this.$target.find('[data-ax5grid-panel="bottom-aside-body"]'),"bottom-left-body":this.$target.find('[data-ax5grid-panel="bottom-left-body"]'),"bottom-body":this.$target.find('[data-ax5grid-panel="bottom-body"]'),"bottom-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="bottom-body"]'),"bottom-right-body":this.$target.find('[data-ax5grid-panel="bottom-right-body"]')},livePanelKeys:[],scroller:{vertical:this.$target.find('[data-ax5grid-scroller="vertical"]'),"vertical-bar":this.$target.find('[data-ax5grid-scroller="vertical-bar"]'),horizontal:this.$target.find('[data-ax5grid-scroller="horizontal"]'),"horizontal-bar":this.$target.find('[data-ax5grid-scroller="horizontal-bar"]'),corner:this.$target.find('[data-ax5grid-scroller="corner"]')},page:{navigation:this.$target.find('[data-ax5grid-page="navigation"]'),status:this.$target.find('[data-ax5grid-page="status"]')},form:{clipboard:this.$target.find('[data-ax5grid-form="clipboard"]')},resizer:{vertical:this.$target.find('[data-ax5grid-resizer="vertical"]'),horizontal:this.$target.find('[data-ax5grid-resizer="horizontal"]')}},this.$.container.root.css({height:this.config.height||this.config._height}),this}.call(this),s.call(this,e.columns),l.call(this),e.footSum&&d.call(this,e.footSum),e.body.grouping&&c.call(this,e.body.grouping),u.call(this,!0),f.header.init.call(this),f.header.repaint.call(this),f.body.init.call(this),f.body.repaint.call(this),f.scroller.init.call(this),f.scroller.resize.call(this),jQuery(window).bind("resize.ax5grid-"+this.id,function(){u.call(n),f.scroller.resize.call(n),f.body.repaint.call(n)}),jQuery(document.body).on("click.ax5grid-"+this.id,function(e){e=p.findParentNode(e.target,function(e){return!!e.getAttribute("data-ax5grid-inline-edit-picker")||"root"===e.getAttribute("data-ax5grid-container")});e&&e.getAttribute("data-ax5grid-instance")===this.id?n.focused=!0:(n.focused=!1,f.body.blur.call(this))}.bind(this)),jQuery(window).on("keydown.ax5grid-"+this.instanceId,function(e){n.focused&&(n.isInlineEditing?e.which==ax5.info.eventKeys.ESC?n.keyDown("ESC",e.originalEvent):e.which==ax5.info.eventKeys.RETURN?n.keyDown("RETURN",e.originalEvent):e.which==ax5.info.eventKeys.TAB?(n.keyDown("TAB",e.originalEvent),p.stopEvent(e)):e.which==ax5.info.eventKeys.UP?n.keyDown("RETURN",{shiftKey:!0}):e.which==ax5.info.eventKeys.DOWN&&n.keyDown("RETURN",{}):e.metaKey||e.ctrlKey?67==e.which&&n.copySelect():r[e.which]?(n.keyDown(r[e.which],e.originalEvent),p.stopEvent(e)):e.which==ax5.info.eventKeys.ESC?n.focused&&f.body.blur.call(n):e.which==ax5.info.eventKeys.RETURN||e.which==ax5.info.eventKeys.SPACE?n.keyDown("RETURN",e.originalEvent):e.which==ax5.info.eventKeys.TAB?p.stopEvent(e):Object.keys(n.focusedColumn).length)}),jQuery(window).on("keyup.ax5grid-"+this.instanceId,function(e){!n.focused||n.isInlineEditing||e.metaKey||e.ctrlKey||r[e.which]||e.which!=ax5.info.eventKeys.ESC&&e.which!=ax5.info.eventKeys.RETURN&&e.which!=ax5.info.eventKeys.SPACE&&e.which!=ax5.info.eventKeys.TAB&&Object.keys(n.focusedColumn).length&&n.keyDown("INLINE_EDIT",e.originalEvent)}),setTimeout(function(){this.onLoad&&this.onLoad.call({self:this})}.bind(this))):console.log(ax5.info.getError("ax5grid","401","init")),this},this.align=function(){return u.call(this)&&(f.body.repaint.call(this),f.scroller.resize.call(this)),this},this.repaint=function(){return f.header.repaint.call(this),f.body.repaint.call(this,!0),f.scroller.resize.call(this),this},this.keyDown=(i={KEY_UP:function(){f.body.moveFocus.call(this,"UP")},KEY_DOWN:function(){f.body.moveFocus.call(this,"DOWN")},KEY_LEFT:function(){f.body.moveFocus.call(this,"LEFT")},KEY_RIGHT:function(){f.body.moveFocus.call(this,"RIGHT")},KEY_HOME:function(){f.body.moveFocus.call(this,"HOME")},KEY_END:function(){f.body.moveFocus.call(this,"END")},INLINE_EDIT:function(e){f.body.inlineEdit.active.call(this,this.focusedColumn,e),/[0-9a-zA-Z]/.test(e.key)||p.stopEvent(e)},ESC:function(e){f.body.inlineEdit.keydown.call(this,"ESC")},RETURN:function(e){var t,i=0;for(t in this.inlineEditing){if(i++,!f.body.inlineEdit.keydown.call(this,"RETURN",t))return!1;1==i&&f.body.moveFocus.call(this,e.shiftKey?"UP":"DOWN")&&f.body.inlineEdit.keydown.call(this,"RETURN")}0==i&&(f.body.inlineEdit.keydown.call(this,"RETURN"),p.stopEvent(e))},TAB:function(e){var t,i=0;for(t in this.inlineEditing)i++,f.body.inlineEdit.keydown.call(this,"RETURN",t,{moveFocus:!0}),1==i&&f.body.moveFocus.call(this,e.shiftKey?"LEFT":"RIGHT")&&f.body.inlineEdit.keydown.call(this,"RETURN",void 0,{moveFocus:!0})}},function(e,t){return e in i&&i[e].call(this,t),this}),this.copySelect=function(){var e,t=void 0,i=this.$.form.clipboard,n=[],o="",a=void 0,r=void 0,s=0;for(e in this.selectedColumn){var l,d=this.selectedColumn[e];d&&(void 0===r&&(r=d.dindex,a=d.rowIndex),r==d.dindex&&a==d.rowIndex||s++,n[s]||(n[s]=[]),(l=this.bodyRowMap[d.rowIndex+"_"+d.colIndex])?this.list[d.dindex].__isGrouping?n[s].push(this.list[d.dindex][d.colIndex]):n[s].push(this.list[d.dindex][l.key]):n[s].push(""),r=d.dindex,a=d.rowIndex)}n.forEach(function(e){o+=e.join("\t")+"\n"}),i.get(0).innerText=o,i.select();try{t=document.execCommand("copy")}catch(e){t=!1}return t},this.setData=function(e){var t=void 0===this.xvar.paintStartRowIndex;return f.data.set.call(this,e),f.body.repaint.call(this),t||f.body.scrollTo.call(this,{top:0}),u.call(this),f.scroller.resize.call(this),f.page.navigationUpdate.call(this),this},this.getList=function(e){return f.data.getList.call(this,e)},this.setHeight=function(e){return"100%"==e&&(e=this.$target.offsetParent().innerHeight()),this.$target.css({height:e}),this.$.container.root.css({height:e}),u.call(this),f.body.repaint.call(this,"reset"),f.scroller.resize.call(this),this},this.addRow=function(e,t,i){var n=this;return f.data.add.call(this,e,t,i),u.call(this),f.body.repaint.call(this,"reset"),i&&i.focus?setTimeout(function(){f.body.moveFocus.call(n,i.focus)},1):f.scroller.resize.call(this),this},this.appendToList=function(e){return f.data.append.call(this,e,function(){u.call(this),f.body.repaint.call(this),f.scroller.resize.call(this)}.bind(this)),this},this.removeRow=function(e){return f.data.remove.call(this,e),u.call(this),f.body.repaint.call(this,"reset"),f.body.moveFocus.call(this,this.config.body.grouping?"START":"END"),f.scroller.resize.call(this),this},this.updateRow=function(e,t){return f.data.update.call(this,e,t),f.body.repaintRow.call(this,t),this},this.updateChildRows=function(e,t,i){return f.data.updateChild.call(this,e,t,i),this.xvar.paintStartRowIndex=void 0,this.xvar.paintStartColumnIndex=void 0,f.body.repaint.call(this),this},this.deleteRow=function(e){return f.data.deleteRow.call(this,e),u.call(this),f.body.repaint.call(this,"reset"),f.scroller.resize.call(this),this},this.setValue=function(e,t,i){var n;return f.data.setValue.call(this,e,void 0,t,i)&&((n=function(e,t,i,n,o,a){for(var r=0,s=t.length;r<s;r++)for(var l=0,d=t[r].cols.length;l<d;l++)t[r].cols[l].key==o&&(this.xvar.frozenRowIndex>i?f.body.repaintCell.call(this,"top-"+e,i,n,r,l,a):f.body.repaintCell.call(this,e+"-scroll",i,n,r,l,a))}).call(this,"left-body",this.leftBodyRowData.rows,e,void 0,t,i),n.call(this,"body",this.bodyRowData.rows,e,void 0,t,i)),this},this.addColumn=(a={first:function(e){this.config.columns=[].concat(e).concat(this.config.columns)},last:function(e){this.config.columns=this.config.columns.concat([].concat(e))}},function(e,t){if(void 0===e)throw"_column must not be null";if((t=void 0===t?"last":t)in a)a[t].call(this,e);else{if(!p.isNumber(t))throw"invalid argument _cindex";if(p.isArray(e))for(var i=0,n=e.length;i<n;i++)this.config.columns.splice(t+i,0,e[i]);else this.config.columns.splice(t,0,e)}return o.call(this),this}),this.removeColumn=(t={first:function(e){this.config.columns.splice(e,1)},last:function(){this.config.columns.splice(this.config.columns.length-1,1)}},function(e){if((e=void 0===e?"last":e)in t)t[e].call(this,e);else{if(!p.isNumber(e))throw"invalid argument _cindex";this.config.columns.splice(e,1)}return o.call(this),this}),this.updateColumn=function(e,t){if(p.isNumber(t))return this.config.columns.splice(t,1,e),o.call(this),this;throw"invalid argument _cindex"},this.setColumnWidth=function(e,t){return this.colGroup[this.xvar.columnResizerIndex]._width=e,this.needToPaintSum=!0,f.header.repaint.call(this),f.body.repaint.call(this,!0),f.scroller.resize.call(this),u.call(this),this},this.getColumnSortInfo=function(){var e,t={sortInfo:[]};for(e in this.sortInfo)t.sortInfo.push({key:e,orderBy:this.sortInfo[e].orderBy,seq:this.sortInfo[e].seq});return t.sortInfo.sort(function(e,t){return e.seq>t.seq}),t.sortInfo},this.setColumnSort=function(e){return void 0!==e&&(this.sortInfo=e,f.header.applySortStatus.call(this,e)),function(e){if(f.header.repaint.call(this),p.isFunction(this.config.remoteSort)){var t,i={sortInfo:[]};for(t in e)i.sortInfo.push({key:t,orderBy:e[t].orderBy,seq:e[t].seq});i.sortInfo.sort(function(e,t){return e.seq>t.seq}),this.config.remoteSort.call(i,i)}else this.config.body.grouping?this.list=f.data.initData.call(this,f.data.sort.call(this,e,f.data.clearGroupingData.call(this,this.list))):this.list=f.data.sort.call(this,e,f.data.clearGroupingData.call(this,this.list),{resetLineNumber:!0}),f.body.repaint.call(this,!0),f.scroller.resize.call(this)}.call(this,e||this.sortInfo),this},this.select=function(e,t){return p.isNumber(e)&&(e=e,(!this.config.multipleSelect||t&&t.selectedClear)&&this.clearSelect(),f.data.select.call(this,e,void 0,t&&t.selected),f.body.updateRowState.call(this,["selected"],e,void 0)),this},this.clickBody=function(e){return f.body.click.call(this,e),this},this.DBLClickBody=function(e){return f.body.dblClick.call(this,e),this},this.clearSelect=function(){return f.body.updateRowState.call(this,["selectedClear"]),f.data.clearSelect.call(this),this},this.selectAll=function(e){return f.data.selectAll.call(this,e&&e.selected,e),f.body.updateRowStateAll.call(this,["selected"]),this},this.exportExcel=function(e){var t=[];return t.push('<table border="1">'),t.push(f.header.getExcelString.call(this)),t.push(f.body.getExcelString.call(this)),t.push("</table>"),void 0===e?t.join(""):(f.excel.export.call(this,[t.join("")],e),this)},this.focus=function(e){if(f.body.moveFocus.call(this,e)){var t,i=void 0;for(t in this.focusedColumn){i=jQuery.extend({},this.focusedColumn[t],!0);break}i&&this.select(i.dindex,{selectedClear:!0})}else{var n,o;void 0===this.selectedDataIndexs[0]?this.select(0):(n=this.selectedDataIndexs[0],e in(o={UP:function(){0<n&&(this.select(n-1,{selectedClear:!0}),f.body.moveFocus.call(this,n-1))},DOWN:function(){n<this.list.length-1&&(this.select(n+1,{selectedClear:!0}),f.body.moveFocus.call(this,n+1))},HOME:function(){this.select(0,{selectedClear:!0}),f.body.moveFocus.call(this,0)},END:function(){this.select(this.list.length-1,{selectedClear:!0}),f.body.moveFocus.call(this,this.list.length-1)}})&&o[e].call(this))}return this},this.destroy=function(){var e=this.instanceId;return this.$target.empty(),this.list=[],h.grid_instance=ax5.util.filter(h.grid_instance,function(){return this.instanceId!=e}),null},this.main=function(){h.grid_instance=h.grid_instance||[],h.grid_instance.push(this),arguments&&p.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}),f=ax5.ui.grid}(),!function(){function g(e,t,i,n){var o=this,a=this.config,r={selected:function(e,t){if(this.list[t])for(var i=this.$.livePanelKeys.length;i--;)this.$.panel[this.$.livePanelKeys[i]].find('[data-ax5grid-tr-data-index="'+e+'"]').attr("data-ax5grid-selected",this.list[t][a.columnKeys.selected])},selectedClear:function(){var e=this.list.length,t=void 0;if(this.proxyList){for(;e--;)this.list[e][a.columnKeys.selected]=!1;for(e=this.proxyList.length;e--;){if(this.list[i][a.columnKeys.selected])for(t=this.$.livePanelKeys.length;t--;)this.$.panel[this.$.livePanelKeys[t]].find('[data-ax5grid-tr-data-index="'+e+'"]').attr("data-ax5grid-selected",!1);this.proxyList[e][a.columnKeys.selected]=!1;var i=this.proxyList[e].__original_index__}}else for(;e--;){if(this.list[e][a.columnKeys.selected])for(t=this.$.livePanelKeys.length;t--;)this.$.panel[this.$.livePanelKeys[t]].find('[data-ax5grid-tr-data-index="'+e+'"]').attr("data-ax5grid-selected",!1);this.list[e][a.columnKeys.selected]=!1}},cellChecked:function(t,e,i){i.key;var n=i.rowIndex,o=i.colIndex,a=function(){var e=[];return this.xvar.frozenRowIndex>t&&e.push("top"),this.xvar.frozenColumnIndex>o&&e.push("left"),e.push("body"),"top"!==e[0]&&e.push("scroll"),e.join("-")}.call(this);this.$.panel[a].find('[data-ax5grid-tr-data-index="'+t+'"]').find('[data-ax5grid-column-rowIndex="'+n+'"][data-ax5grid-column-colIndex="'+o+'"]').find('[data-ax5grid-editor="checkbox"]').attr("data-ax5grid-checked",""+i.checked)}};void 0===i&&(i=t),e.forEach(function(e){if(!r[e])throw"invaild state name";r[e].call(o,t,i,n)})}function n(e){var E=this.config,t=this.proxyList||this.list,e=(e&&(T.call(this),this.xvar.paintStartRowIndex=void 0,this.xvar.paintStartColumnIndex=void 0),void 0),i=void 0;if(this.config.virtualScrollY?(i=e=Math.floor(-this.$.panel["body-scroll"].position().top/this.xvar.bodyTrHeight)+this.xvar.frozenRowIndex,this.xvar.paintRowCountTopMargin<e&&(e-=this.xvar.paintRowCountTopMargin)):e=this.xvar.frozenRowIndex,isNaN(e))return this;var n=0,o=0,a=null,r=null,s=-this.$.panel["body-scroll"].position().left;if(this.config.virtualScrollX){for(var l=this.xvar.frozenColumnIndex;l<this.colGroup.length;l++)this.colGroup[l]._sx=l==this.xvar.frozenColumnIndex?0:this.colGroup[l-1]._ex,this.colGroup[l]._ex=this.colGroup[l]._sx+this.colGroup[l]._width,this.colGroup[l]._sx<=s&&this.colGroup[l]._ex>=s&&(n=l),this.colGroup[l]._sx<=s+this.xvar.bodyWidth&&this.colGroup[l]._ex>=s+this.xvar.bodyWidth&&(o=l,null===a&&(a=this.colGroup[n]._sx),null===r)&&(r=this.xvar.scrollContentWidth-this.colGroup[l]._ex);this.$.panel["top-body-scroll"].css({"padding-left":a=null===a?0:a,"padding-right":r=null===r?0:r}),this.$.panel["body-scroll"].css({"padding-left":a,"padding-right":r}),this.$.panel["bottom-body-scroll"].css({"padding-left":a,"padding-right":r})}var S=void 0===this.xvar.paintStartRowIndex,d=this.headerColGroup,c=this.asideBodyRowData,u=this.leftBodyRowData,h=this.bodyRowData,p=this.leftFootSumData,f=this.footSumData,g=this.asideBodyGroupingData,m=this.leftBodyGroupingData,v=this.bodyGroupingData,$=E.body.align,x=void 0,y=void 0;if(this.config.virtualScrollY?x=(y=Math.ceil(this.xvar.bodyHeight/this.xvar.bodyTrHeight))+(this.xvar.paintRowCountMargin||1):y=x=t.length,this.xvar.paintRowCountTopMargin<e&&Math.abs(this.xvar.paintStartRowIndex-e)<=this.xvar.paintRowCountTopMargin&&(e=this.xvar.paintStartRowIndex),this.xvar.dataRowCount===t.length&&this.xvar.paintStartRowIndex===e&&this.xvar.paintRowCount===x&&this.xvar.paintStartColumnIndex===n&&this.xvar.paintEndColumnIndex===o)return this;function b(e,t,i,n,o,a){var r=this.$.panel[e];if(!S&&!a)return this.$.livePanelKeys.push(e),!1;var s,l,d,c,u,h,p,f,g,m,v=[],x=void 0,y=void 0,b=void 0,w=void 0,C=void 0,_=void 0!==a&&void 0!==a.paintStartRowIndex||!(a={paintStartRowIndex:0,paintRowCount:o.length}),k="#fff 0px, #fff "+(E.body.columnHeight-E.body.columnBorderWidth)+"px, #eee "+(E.body.columnHeight-E.body.columnBorderWidth)+"px, #eee "+E.body.columnHeight+"px";for(_&&v.push('<div style="background:repeating-linear-gradient(to top, '+k+");font-size:0;line-height:0;height: "+(a.paintStartRowIndex-this.xvar.frozenRowIndex)*a.bodyTrHeight+'px;"></div>'),v.push('<table border="0" cellpadding="0" cellspacing="0">'),v.push("<colgroup>"),x=0,s=t.length;x<s;x++)v.push('<col style="width:'+t[x]._width+'px;"  />');for(v.push("<col  />"),v.push("</colgroup>"),y=a.paintStartRowIndex,m=void 0,m=o.length,b=m=a.paintRowCount+a.paintStartRowIndex<m?a.paintRowCount+a.paintStartRowIndex:m;y<b;y++)if(o[y]){var I=!1,T=void 0,N=void 0!==o[y].__origin_index__?o[y].__origin_index__:y;n&&"__isGrouping"in o[y]?(T=n,I=!0):T=i;for(w=0,l=T.rows.length;w<l;w++){for(v.push('<tr class="tr-'+y%4,E.body.trStyleClass?D.isFunction(E.body.trStyleClass)?" "+E.body.trStyleClass.call({item:o[y],index:y},o[y],y):" "+E.body.trStyleClass:"",'"',I?' data-ax5grid-grouping-tr="true"':"",' data-ax5grid-tr-data-index="'+y+'"',' data-ax5grid-tr-data-o-index="'+N+'"',' data-ax5grid-selected="'+(o[y][E.columnKeys.selected]||"false")+'"',' data-ax5grid-disable-selection="'+(o[y][E.columnKeys.disableSelection]||"false")+'"',">"),C=0,d=T.rows[w].cols.length;C<d;C++)c=T.rows[w].cols[C],u=E.body.columnHeight*c.rowspan-E.body.columnBorderWidth,h=c.align||$,v.push("<td ",'data-ax5grid-panel-name="'+e+'" ','data-ax5grid-data-index="'+y+'" ','data-ax5grid-data-o-index="'+N+'" ','data-ax5grid-column-row="'+w+'" ','data-ax5grid-column-col="'+C+'" ','data-ax5grid-column-rowIndex="'+c.rowIndex+'" ','data-ax5grid-column-colIndex="'+c.colIndex+'" ','data-ax5grid-column-attr="'+(c.columnAttr||"default")+'" ',(p=this.focusedColumn[y+"_"+c.colIndex+"_"+c.rowIndex],f=this.selectedColumn[y+"_"+c.colIndex+"_"+c.rowIndex],void 0,g="",p&&(g+='data-ax5grid-column-focused="true" '),f&&(g+='data-ax5grid-column-selected="true" '),g),'colspan="'+c.colspan+'" ','rowspan="'+c.rowspan+'" ','class="'+function(e){var t="";return e.styleClass&&(D.isFunction(e.styleClass)?t+=e.styleClass.call({column:e,key:e.key,item:o[y],index:y})+" ":t+=e.styleClass+" "),E.body.columnBorderWidth&&(t+="hasBorder "),C==d-1&&(t+="isLastColumn "),t}.call(this,c)+'" ','style="height: '+u+'px;min-height: 1px;">'),v.push((p=u,f=void 0,f=E.body.columnHeight-2*E.body.columnPadding-E.body.columnBorderWidth,c.multiLine||(p=E.body.columnHeight-E.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(c.multiLine?"multiLine":"")+'" '+(h?'data-ax5grid-text-align="'+h+'"':"")+'" style="height:'+p+"px;"+(c.multiLine?"":"line-height: "+f+"px;")+'">'),I?R.call(this,o[y],y,c):P.call(this,o,o[y],y,c),"</span>"),v.push("</td>");v.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+y+'" ','data-ax5grid-data-o-index="'+N+'" ','data-ax5grid-column-attr="default" ','style="height: '+E.body.columnHeight+'px;min-height: 1px;" ',"></td>"),v.push("</tr>")}}return v.push("</table>"),_&&o.length&&v.push('<div style="background:repeating-linear-gradient(to bottom, '+k+");font-size:0;line-height:0;height: "+(o.length-y)*a.bodyTrHeight+'px;"></div>'),r.empty(),v=v.join(""),r.get(0).innerHTML=v,this.$.livePanelKeys.push(e),!0}function w(e,t,i,n,o){var a=this.$.panel[e];if(!S&&!o)return this.$.livePanelKeys.push(e),!1;var r,s,l,d,c,u,h,p,f,g=[],m=void 0,v=void 0,x=void 0;for(g.push('<table border="0" cellpadding="0" cellspacing="0">'),g.push("<colgroup>"),m=0,r=t.length;m<r;m++)g.push('<col style="width:'+t[m]._width+'px;"  />');for(g.push("<col  />"),g.push("</colgroup>"),v=0,s=i.rows.length;v<s;v++){for(g.push('<tr class="tr-sum">'),x=0,l=i.rows[v].cols.length;x<l;x++)d=i.rows[v].cols[x],c=E.body.columnHeight*d.rowspan-E.body.columnBorderWidth,u=d.align||$,g.push("<td ",'data-ax5grid-panel-name="'+e+'" ','data-ax5grid-column-row="'+v+'" ','data-ax5grid-column-col="'+x+'" ','data-ax5grid-column-rowIndex="'+v+'" ','data-ax5grid-column-colIndex="'+d.colIndex+'" ','data-ax5grid-column-attr="'+(d.columnAttr||"sum")+'" ',(h=this.focusedColumn["sum_"+d.colIndex+"_"+v],p=this.selectedColumn["sum_"+d.colIndex+"_"+v],void 0,f="",h&&(f+='data-ax5grid-column-focused="true" '),p&&(f+='data-ax5grid-column-selected="true" '),f),'colspan="'+d.colspan+'" ','rowspan="'+d.rowspan+'" ','class="'+function(e){var t="";return e.styleClass&&(D.isFunction(e.styleClass)?t+=e.styleClass.call({column:e,key:e.key,isFootSum:!0})+" ":t+=e.styleClass+" "),E.body.columnBorderWidth&&(t+="hasBorder "),x==l-1&&(t+="isLastColumn "),t}.call(this,d)+'" ','style="height: '+c+'px;min-height: 1px;">'),g.push((h=c,p=void 0,p=E.body.columnHeight-2*E.body.columnPadding-E.body.columnBorderWidth,d.multiLine||(h=E.body.columnHeight-E.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(d.multiLine?"multiLine":"")+'" '+(u?'data-ax5grid-text-align="'+u+'"':"")+'" style="height:'+h+"px;"+(d.multiLine?"":"line-height: "+p+"px;")+'">'),N.call(this,n,d),"</span>"),g.push("</td>");g.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-column-attr="sum" ','style="height: '+E.body.columnHeight+'px;min-height: 1px;" ',"></td>"),g.push("</tr>")}return g.push("</table>"),a.empty(),g=g.join(""),a.get(0).innerHTML=g,this.$.livePanelKeys.push(e),!0}function C(e,a,t,i,n){for(var r=[],e=this.$.panel[e],s={},l=void 0,o=e.find("tr"),d=0,c=o.length;d<c;d++){for(var u,h=void 0,h=[],p=0,f=(u=o[d].childNodes).length;p<f;p++){var g={$:jQuery(u[p])};"null"!=g.$.attr("data-ax5grid-column-col")&&(g.dindex=g.$.attr("data-ax5grid-data-index"),g.tri=g.$.attr("data-ax5grid-column-row"),g.ci=g.$.attr("data-ax5grid-column-col"),g.rowIndex=g.$.attr("data-ax5grid-column-rowIndex"),g.colIndex=g.$.attr("data-ax5grid-column-colIndex"),g.rowspan=g.$.attr("rowspan"),g.text=g.$.text(),h.push(g)),g=null}r.push(h)}if(1<r.length){for(var l=!1,m=function(i,e){for(var n=[],t=0,o=r[i].length;t<o;t++)!function(e){var t;a[e].editor||D.isArray(E.body.mergeCells)&&!(-1<ax5.util.search(E.body.mergeCells,a[e].key))||(!s[e]||0<n.length&&(t=!0,n.forEach(function(e){r[i-1][e].text!=r[i][e].text&&(t=!1)}),!t)||s[e].text!=r[i][e].text?s[e]={ri:i,ci:e,text:r[i][e].text}:(r[i][e].rowspan=0,r[s[e].ri][e].rowspan++,l=!0),n.push(e))}(t)},v=0,x=r.length;v<x;v++)m(v);if(l)for(var y=0,b=r.length;y<b;y++)for(var w=0,C=r[y].length;w<C;w++)0==r[y][w].rowspan?r[y][w].$.remove():1<r[y][w].rowspan&&r[y][w].$.attr("rowspan",r[y][w].rowspan).addClass("merged")}}(a||r)&&(d=[].concat(d).splice(n-this.xvar.frozenColumnIndex,o-n+1+this.xvar.frozenColumnIndex),h=I.util.getTableByStartEndColumnIndex(h,n,o),E.body.grouping&&(v=I.util.getTableByStartEndColumnIndex(v,n,o)),E.footSum&&(f=I.util.getTableByStartEndColumnIndex(f,n,o)),this.xvar.paintStartColumnIndex===n&&this.xvar.paintEndColumnIndex===o||(this.needToPaintSum=!0)),this.xvar.scrollContentHeight=this.xvar.bodyTrHeight*(t.length-this.xvar.frozenRowIndex),this.xvar.scrollContentHeight<0&&(this.xvar.scrollContentHeight=0),this.$.livePanelKeys=[];var _={paintStartRowIndex:e,paintRowCount:x,paintStartColumnIndex:n,paintEndColumnIndex:o,nopaintLeftColumnsWidth:a,nopaintRightColumnsWidth:r,bodyTrHeight:this.xvar.bodyTrHeight,virtualScrollX:this.config.virtualScrollX,virtualScrollY:this.config.virtualScrollY},k=jQuery.extend({},_,{paintStartRowIndex:0,paintRowCount:this.xvar.frozenRowIndex});0<E.asidePanelWidth&&(0<this.xvar.frozenRowIndex&&b.call(this,"top-aside-body",this.asideColGroup,c,g,t.slice(0,this.xvar.frozenRowIndex),k),b.call(this,"aside-body-scroll",this.asideColGroup,c,g,t,_),E.footSum)&&w.call(this,"bottom-aside-body",this.asideColGroup,c,null,this.list),0<this.xvar.frozenColumnIndex&&(0<this.xvar.frozenRowIndex&&b.call(this,"top-left-body",this.leftHeaderColGroup,u,m,t.slice(0,this.xvar.frozenRowIndex),k),b.call(this,"left-body-scroll",this.leftHeaderColGroup,u,m,t,_),E.footSum)&&this.needToPaintSum&&w.call(this,"bottom-left-body",this.leftHeaderColGroup,p,this.list),0<this.xvar.frozenRowIndex&&b.call(this,"top-body-scroll",d,h,v,t.slice(0,this.xvar.frozenRowIndex),k),b.call(this,"body-scroll",d,h,v,t,_),E.footSum&&this.needToPaintSum&&w.call(this,"bottom-body-scroll",d,f,this.list,_),E.rightSum,E.body.mergeCells&&t.length&&(0<this.xvar.frozenColumnIndex&&(0<this.xvar.frozenRowIndex&&C.call(this,"top-left-body",this.leftHeaderColGroup,u,t.slice(0,this.xvar.frozenRowIndex)),C.call(this,"left-body-scroll",this.leftHeaderColGroup,u,t,_)),0<this.xvar.frozenRowIndex&&C.call(this,"top-body-scroll",this.headerColGroup,h,t.slice(0,this.xvar.frozenRowIndex)),C.call(this,"body-scroll",this.headerColGroup,h,t,_)),this.xvar.virtualPaintStartRowIndex=i,this.xvar.paintStartRowIndex=e,this.xvar.paintRowCount=x,this.xvar.virtualPaintRowCount=y,this.xvar.paintStartColumnIndex=n,this.xvar.paintEndColumnIndex=o,this.xvar.nopaintLeftColumnsWidth=a,this.xvar.nopaintRightColumnsWidth=r,this.xvar.dataRowCount=t.length,this.needToPaintSum=!1,I.page.statusUpdate.call(this)}function l(e,t){if(void 0===t&&(t={timeoutUnUse:!1}),this.isInlineEditing)for(var i in this.inlineEditing)I.body.inlineEdit.deActive.call(this,"ESC",i);0<this.config.asidePanelWidth&&"top"in e&&this.$.panel["aside-body-scroll"].css({top:e.top}),0<this.xvar.frozenColumnIndex&&"top"in e&&this.$.panel["left-body-scroll"].css({top:e.top}),0<this.xvar.frozenRowIndex&&"left"in e&&this.$.panel["top-body-scroll"].css({left:e.left}),this.$.panel["body-scroll"].css(e),this.config.footSum&&"left"in e&&this.$.panel["bottom-body-scroll"].css({left:e.left}),this.__throttledScroll?this.__throttledScroll(e,t):((this.config.virtualScrollY&&!t.noRepaint&&"top"in e||this.config.virtualScrollX&&!t.noRepaint&&"left"in e)&&n.call(this),t.callback&&t.callback())}function o(e){var t={UD:function(e){var t,i,n=!0,o=void 0,a=void 0,r=void 0;for(t in this.focusedColumn){o=jQuery.extend({},this.focusedColumn[t],!0);break}if(!o)return!1;for(i=this.bodyRowMap[o.rowIndex+"_"+o.colIndex],h.focusClear.call(this),h.clear.call(this),0<e?o.rowIndex+(i.rowspan-1)+e>this.bodyRowTable.rows.length-1?(o.dindex=o.dindex+e,o.doindex=o.doindex+e,o.rowIndex=0,o.dindex>this.list.length-1&&(o.dindex=o.doindex=this.list.length-1,n=!1)):o.rowIndex=o.rowIndex+e:o.rowIndex+e<0?(o.dindex=o.dindex+e,o.doindex=o.doindex+e,o.rowIndex=this.bodyRowTable.rows.length-1,o.dindex<0&&(o.dindex=o.doindex=0,n=!1)):o.rowIndex=o.rowIndex+e,a=0;void 0===this.bodyRowMap[o.rowIndex+"_"+o.colIndex];){if(0==o.rowIndex||a%2==(0<e?0:1)?o.colIndex--:o.rowIndex--,o.rowIndex<=0&&o.colIndex<=0){n=!1;break}a++}if(r=I.util.findPanelByColumnIndex.call(this,o.dindex,o.colIndex),this.config.body.mergeCells&&this.list.length){for(;!(this.$.panel[r.panelName].find('[data-ax5grid-tr-data-index="'+o.dindex+'"]').find('[data-ax5grid-column-rowindex="'+o.rowIndex+'"][data-ax5grid-column-colindex="'+o.colIndex+'"]').get(0)||(0<e?o.dindex++:o.dindex--,o.dindex<0)||o.dindex>this.list.length-1););r=I.util.findPanelByColumnIndex.call(this,o.dindex,o.colIndex)}return o.panelName=r.panelName,o.dindex+1>this.xvar.frozenRowIndex&&(o.dindex<=this.xvar.virtualPaintStartRowIndex?(i=(o.dindex-this.xvar.frozenRowIndex-1)*this.xvar.bodyTrHeight,l.call(this,{top:-(i=i<0?0:i),timeoutUnUse:!1}),I.scroller.resize.call(this)):o.dindex+1>this.xvar.virtualPaintStartRowIndex+(this.xvar.virtualPaintRowCount-2)&&(l.call(this,{top:(this.xvar.virtualPaintRowCount-2-o.dindex)*this.xvar.bodyTrHeight,timeoutUnUse:!1}),I.scroller.resize.call(this))),this.focusedColumn[o.dindex+"_"+o.colIndex+"_"+o.rowIndex]=o,this.$.panel[o.panelName].find('[data-ax5grid-tr-data-index="'+o.dindex+'"]').find('[data-ax5grid-column-rowindex="'+o.rowIndex+'"][data-ax5grid-column-colindex="'+o.colIndex+'"]').attr("data-ax5grid-column-focused","true"),n},LR:function(e){var t,i=!0,n=void 0,o=void 0;for(t in this.focusedColumn){n=jQuery.extend({},this.focusedColumn[t],!0);break}if(!n)return!1;if(this.bodyRowMap[n.rowIndex+"_"+n.colIndex],h.focusClear.call(this),h.clear.call(this),e<0?(n.colIndex=n.colIndex+e,n.colIndex<0&&(n.colIndex=0,i=!1)):(n.colIndex=n.colIndex+e,n.colIndex>this.colGroup.length-1&&(n.colIndex=this.colGroup.length-1,i=!1)),void 0===this.bodyRowMap[n.rowIndex+"_"+n.colIndex]&&(n.rowIndex=0),this.list[n.dindex]&&this.list[n.dindex].__isGrouping){if(e<0){for(;void 0===this.bodyGroupingMap[n.rowIndex+"_"+n.colIndex];)if(n.colIndex--,n.colIndex<=0){i=!1;break}}else for(;void 0===this.bodyGroupingMap[n.rowIndex+"_"+n.colIndex];)if(n.colIndex++,n.colIndex>=this.colGroup.length){i=!1;break}}else if(e<0){for(;void 0===this.bodyRowMap[n.rowIndex+"_"+n.colIndex];)if(n.colIndex--,n.colIndex<=0){i=!1;break}}else for(;void 0===this.bodyRowMap[n.rowIndex+"_"+n.colIndex];)if(n.colIndex++,n.colIndex>=this.colGroup.length){i=!1;break}if(o=I.util.findPanelByColumnIndex.call(this,n.dindex,n.colIndex),this.config.body.mergeCells&&this.list.length&&1<n.dindex){for(;!(this.$.panel[o.panelName].find('[data-ax5grid-tr-data-index="'+n.dindex+'"]').find('[data-ax5grid-column-rowindex="'+n.rowIndex+'"][data-ax5grid-column-colindex="'+n.colIndex+'"]').get(0)||(n.dindex--,n.dindex<0)||n.dindex>this.list.length-1););o=I.util.findPanelByColumnIndex.call(this,n.dindex,n.colIndex)}n.panelName=o.panelName;var e=function(){if(this.config.virtualScrollX){var e=0;if(n.colIndex+1>this.xvar.frozenColumnIndex){if(n.colIndex<=this.xvar.paintStartColumnIndex&&this.colGroup[n.colIndex])return e=-this.colGroup[Number(n.colIndex)]._sx,l.call(this,{left:e}),I.header.scrollTo.call(this,{left:e}),I.scroller.resize.call(this),!0;if(n.colIndex>=this.xvar.paintEndColumnIndex&&this.colGroup[Number(n.colIndex)])return this.colGroup[Number(n.colIndex)]._ex>this.xvar.bodyWidth&&(e=this.colGroup[Number(n.colIndex)]._ex-this.xvar.bodyWidth,l.call(this,{left:-e}),I.header.scrollTo.call(this,{left:-e}),I.scroller.resize.call(this)),!0}e=null}return!1}.call(this),a=o.containerPanelName,r=o.isScrollPanel,s=(this.focusedColumn[n.dindex+"_"+n.colIndex+"_"+n.rowIndex]=n,this.$.panel[n.panelName].find('[data-ax5grid-tr-data-index="'+n.dindex+'"]').find('[data-ax5grid-column-rowindex="'+n.rowIndex+'"][data-ax5grid-column-colindex="'+n.colIndex+'"]').attr("data-ax5grid-column-focused","true"));return!e&&s&&r&&void 0!==(e=function(){return s.position().left+s.outerWidth()>Math.abs(this.$.panel[n.panelName].position().left)+this.$.panel[a].width()?s.position().left+s.outerWidth()-this.$.panel[a].width():Math.abs(this.$.panel[n.panelName].position().left)>s.position().left?s.position().left:void 0}.call(this))&&(I.header.scrollTo.call(this,{left:-e}),l.call(this,{left:-e}),I.scroller.resize.call(this)),i},INDEX:function(e){var t,i=void 0,n=void 0;for(t in this.focusedColumn){i=jQuery.extend({},this.focusedColumn[t],!0);break}for(this.bodyRowMap[(i=i||{rowIndex:0,colIndex:0}).rowIndex+"_"+i.colIndex],h.focusClear.call(this),h.clear.call(this),"end"==e&&(e=this.list.length-1),i.dindex=e,n=i.rowIndex=0;void 0===this.bodyRowMap[i.rowIndex+"_"+i.colIndex]&&(0==i.rowIndex||n%2==(0<_dy?0:1)?i.colIndex--:i.rowIndex--,!(i.rowIndex<=0&&i.colIndex<=0));)n++;var e=I.util.findPanelByColumnIndex.call(this,i.dindex,i.colIndex);return i.panelName=e.panelName,i.dindex+1>this.xvar.frozenRowIndex&&(e=this.xvar.virtualPaintStartRowIndex||0,i.dindex<e?(l.call(this,{top:-(i.dindex-this.xvar.frozenRowIndex)*this.xvar.bodyTrHeight}),I.scroller.resize.call(this)):i.dindex+1>e+(this.xvar.virtualPaintRowCount-2)&&(e=this.config.virtualScrollY?i.dindex-this.xvar.frozenRowIndex-this.xvar.virtualPaintRowCount+3:i.dindex-this.xvar.frozenRowIndex,l.call(this,{top:-e*this.xvar.bodyTrHeight}),I.scroller.resize.call(this))),this.focusedColumn[i.dindex+"_"+i.colIndex+"_"+i.rowIndex]=i,this.$.panel[i.panelName].find('[data-ax5grid-tr-data-index="'+i.dindex+'"]').find('[data-ax5grid-column-rowindex="'+i.rowIndex+'"][data-ax5grid-column-colindex="'+i.colIndex+'"]').attr("data-ax5grid-column-focused","true"),!0}},i={UP:function(){return t.UD.call(this,-1)},DOWN:function(){return t.UD.call(this,1)},LEFT:function(){return t.LR.call(this,-1)},RIGHT:function(){return t.LR.call(this,1)},HOME:function(){return t.INDEX.call(this,0)},END:function(){return t.INDEX.call(this,"end")},position:function(e){return t.INDEX.call(this,e)}};return e in i?i[e].call(this):i.position.call(this,e)}function u(e,t,i){I.data.toggleCollapse.call(this,e,t,i)&&(this.proxyList=I.data.getProxyList.call(this,this.list),this.align())}var I=ax5.ui.grid,D=ax5.util,h={focusClear:function(){var e,t;for(t in this.focusedColumn)(e=this.focusedColumn[t])&&this.$.panel[e.panelName].find('[data-ax5grid-tr-data-index="'+e.dindex+'"]').find('[data-ax5grid-column-rowindex="'+e.rowIndex+'"][data-ax5grid-column-colindex="'+e.colIndex+'"]').removeAttr("data-ax5grid-column-focused");this.focusedColumn={}},clear:function(){var e,t;for(t in this.selectedColumn)(e=this.selectedColumn[t])&&this.$.panel[e.panelName].find('[data-ax5grid-tr-data-index="'+e.dindex+'"]').find('[data-ax5grid-column-rowindex="'+e.rowIndex+'"][data-ax5grid-column-colindex="'+e.colIndex+'"]').removeAttr("data-ax5grid-column-selected");this.selectedColumn={}},init:function(e){var t=this;if(this.isInlineEditing)for(var i in this.inlineEditing)if(i==e.dindex+"_"+e.colIndex+"_"+e.rowIndex)return this;h.focusClear.call(this),this.focusedColumn[e.dindex+"_"+e.colIndex+"_"+e.rowIndex]={panelName:e.panelName,dindex:e.dindex,doindex:e.doindex,rowIndex:e.rowIndex,colIndex:e.colIndex,colspan:e.colspan},h.clear.call(this),this.xvar.selectedRange={start:[e.dindex,e.rowIndex,e.colIndex,e.colspan-1],end:null},this.selectedColumn[e.dindex+"_"+e.colIndex+"_"+e.rowIndex]=!t.selectedColumn[e.dindex+"_"+e.colIndex+"_"+e.rowIndex]&&{panelName:e.panelName,dindex:e.dindex,doindex:e.doindex,rowIndex:e.rowIndex,colIndex:e.colIndex,colspan:e.colspan},this.$.panel[e.panelName].find('[data-ax5grid-tr-data-index="'+e.dindex+'"]').find('[data-ax5grid-column-rowindex="'+e.rowIndex+'"][data-ax5grid-column-colindex="'+e.colIndex+'"]').attr("data-ax5grid-column-focused","true").attr("data-ax5grid-column-selected","true"),this.isInlineEditing&&I.body.inlineEdit.deActive.call(this,"RETURN")},update:function(e){for(var t,i,n=this,o=void 0,a=void 0,r=void 0,s=(n.xvar.selectedRange.end=[e.dindex,e.rowIndex,e.colIndex,e.colspan-1],h.clear.call(n),{r:{s:Math.min(n.xvar.selectedRange.start[0],n.xvar.selectedRange.end[0]),e:Math.max(n.xvar.selectedRange.start[0],n.xvar.selectedRange.end[0])},c:{s:Math.min(n.xvar.selectedRange.start[2],n.xvar.selectedRange.end[2]),e:Math.max(n.xvar.selectedRange.start[2]+n.xvar.selectedRange.start[3],n.xvar.selectedRange.end[2]+n.xvar.selectedRange.end[3])}}),o=s.r.s;o<=s.r.e;o++)for(t=this.bodyRowTable.rows.length,r=0;r<t;r++)for(a=s.c.s;a<=s.c.e;a++){var l,d=[];n.xvar.frozenRowIndex>o&&d.push("top"),n.xvar.frozenColumnIndex>a&&d.push("left"),d.push("body"),"top"!==d[0]&&d.push("scroll"),l=d.join("-"),n.selectedColumn[o+"_"+a+"_"+r]={panelName:l,dindex:o,rowIndex:r,colIndex:a,colspan:e.colspan},d=null}for(i in r=a=o=null,n.selectedColumn){var c=n.selectedColumn[i];c&&n.$.panel[c.panelName].find('[data-ax5grid-tr-data-index="'+c.dindex+'"]').find('[data-ax5grid-column-rowindex="'+c.rowIndex+'"][data-ax5grid-column-colindex="'+c.colIndex+'"]').attr("data-ax5grid-column-selected","true")}}},i={on:function(e){var t=this;this.inlineEditing[e.dindex+"_"+e.colIndex+"_"+e.rowIndex]||(h.init.call(t,e),this.$.container.body.on("mousemove.ax5grid-"+this.instanceId,'[data-ax5grid-column-attr="default"]',function(e){this.getAttribute("data-ax5grid-column-rowIndex")&&(h.update.call(t,{panelName:this.getAttribute("data-ax5grid-panel-name"),dindex:Number(this.getAttribute("data-ax5grid-data-index")),doindex:Number(this.getAttribute("data-ax5grid-data-o-index")),rowIndex:Number(this.getAttribute("data-ax5grid-column-rowIndex")),colIndex:Number(this.getAttribute("data-ax5grid-column-colIndex")),colspan:Number(this.getAttribute("colspan"))}),D.stopEvent(e))}).on("mouseup.ax5grid-"+this.instanceId,function(){i.off.call(t)}).on("mouseleave.ax5grid-"+this.instanceId,function(){i.off.call(t)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1))},off:function(){this.$.container.body.off("mousemove.ax5grid-"+this.instanceId).off("mouseup.ax5grid-"+this.instanceId).off("mouseleave.ax5grid-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},T=function(){var r=this.config,e=I.util.divideTableByFrozenColumnIndex(this.bodyRowTable,this.xvar.frozenColumnIndex);this.asideBodyRowData=function(e){for(var t,i,n={rows:[]},o=0,a=e.rows.length;o<a;o++)n.rows[o]={cols:[]},0===o&&(t={label:"",colspan:1,rowspan:e.rows.length,colIndex:null},i={},r.showLineNumber&&(i=jQuery.extend({},t,{width:r.lineNumberColumnWidth,_width:r.lineNumberColumnWidth,columnAttr:"lineNumber",label:"&nbsp;",key:"__d-index__"}),n.rows[o].cols.push(i)),r.showRowSelector)&&(i=jQuery.extend({},t,{width:r.rowSelectorColumnWidth,_width:r.rowSelectorColumnWidth,columnAttr:"rowSelector",label:"",key:"__d-checkbox__"}),n.rows[o].cols.push(i));return n}.call(this,this.bodyRowTable),this.leftBodyRowData=e.leftData,this.bodyRowData=e.rightData,r.body.grouping&&(e=I.util.divideTableByFrozenColumnIndex(this.bodyGroupingTable,this.xvar.frozenColumnIndex),this.asideBodyGroupingData=function(e){for(var t,i,n={rows:[]},o=0,a=e.rows.length;o<a;o++)n.rows[o]={cols:[]},0===o&&(t={label:"",colspan:1,rowspan:e.rows.length,colIndex:null},i={},r.showLineNumber&&(i=jQuery.extend({},t,{width:r.lineNumberColumnWidth,_width:r.lineNumberColumnWidth,columnAttr:"lineNumber",label:"&nbsp;",key:"__d-index__"}),n.rows[o].cols.push(i)),r.showRowSelector)&&(i=jQuery.extend({},t,{width:r.rowSelectorColumnWidth,_width:r.rowSelectorColumnWidth,columnAttr:"rowSelector",label:"",key:"__d-checkbox__"}),n.rows[o].cols.push(i));return n}.call(this,this.bodyGroupingTable),this.leftBodyGroupingData=e.leftData,this.bodyGroupingData=e.rightData,this.bodyGroupingMap=I.util.makeBodyRowMap.call(this,this.bodyGroupingTable)),this.leftFootSumData={},this.footSumData={},this.config.footSum&&(e=I.util.divideTableByFrozenColumnIndex(this.footSumTable,this.xvar.frozenColumnIndex),this.leftFootSumData=e.leftData,this.footSumData=e.rightData)},P=function(t,o,a,i,n,e){var r,s=i.key,l={"<":"&lt;",">":"&gt;"};return"__d-index__"===s?void 0!==o.__index?o.__index+1:"":"__d-checkbox__"===s?'<div class="checkBox" style="max-height: '+(i.width-10)+"px;min-height: "+(i.width-10)+'px;"></div>':i.editor&&(r=i.editor).type in I.inlineEditor&&"inline"==I.inlineEditor[r.type].editMode?(n=n||I.data.getValue.call(this,a,o.__origin_index__,s),D.isFunction(i.editor.disabled)&&i.editor.disabled.call({list:t,dindex:a,item:t[a],key:s,value:n})||e?n:I.inlineEditor[i.editor.type].getHtml(this,i.editor,n)):(r={formatter:function(){var e={key:s,value:n||I.data.getValue.call(this,a,o.__origin_index__,s),dindex:a,item:o,list:t};return(D.isFunction(i.formatter)?i.formatter:I.formatter[i.formatter]).call(e)},default:function(){var e="";return"string"!=typeof(e=void 0===n&&null==(n=/[\.\[\]]/.test(s)?I.data.getValue.call(this,a,o.__origin_index__,s):o[s])?e:n)?e:e.replace(/[<>]/g,function(e){return l[e]||e})},treeControl:function(e){var t=this.config,i=this.config.tree.columnKeys,n="";return o[i.children].length?n=(n+='<a data-ax5grid-data-index="'+a+'" data-ax5grid-column-attr="tree-control" data-ax5grid-tnode-arrow="" style="width: '+t.tree.arrowWidth+"px;padding-left:"+o[i.depth]*t.tree.indentWidth+'px;">')+(o[i.collapse]?t.tree.icons.collapsedArrow:t.tree.icons.openedArrow)+"</a>":n+='<span data-ax5grid-tnode-arrow="" style="width: '+t.tree.arrowWidth+"px;padding-left:"+o[i.depth]*t.tree.indentWidth+'px;">&nbsp;</span>',(n=(n+='<span data-ax5grid-tnode-item="'+(o[i.children].length?"group":"item")+'" style="width: '+t.tree.iconWidth+'px;">')+(o[i.children].length?o[i.collapse]?t.tree.icons.collapsedGroupIcon:t.tree.icons.groupIcon:t.tree.icons.itemIcon)+"</span>")+e}},e=(i.formatter?r.formatter:r.default).call(this),this.config.tree.use&&i.treeControl?r.treeControl.call(this,e):e)},R=function(e,t,i){var n=void 0,o=void 0,a=i.key,r=i.label;return void 0===a?(o={key:a,list:e.__groupingList,groupBy:e.__groupingBy},n=D.isFunction(r)?r.call(o):r,e[i.colIndex]=n):"__d-index__"===a||"__d-checkbox__"===a?"":i.collector?(o={key:a,list:e.__groupingList},n=(D.isFunction(i.collector)?i.collector:I.collector[i.collector]).call(o),e[i.colIndex]=n,i.formatter?(o.value=n,(D.isFunction(i.formatter)?i.formatter:I.formatter[i.formatter]).call(o)):n):"&nbsp;"},N=function(e,t){var i=t.key;return void 0===i?t.label:"__d-index__"!==i&&"__d-checkbox__"!==i&&t.collector?(i={key:i,list:e},e=void 0,e=(D.isFunction(t.collector)?t.collector:I.collector[t.collector]).call(i),t.formatter?(i.value=e,(D.isFunction(t.formatter)?t.formatter:I.formatter[t.formatter]).call(i)):e):"&nbsp;"},d={active:function(e,t,i){var n,o,a,r,s,l=void 0,d=void 0,c=void 0,u=void 0,h=void 0,p=void 0,f=void 0;for(n in e){if(h=e[n].panelName,l=e[n].dindex,d=e[n].doindex,c=e[n].colIndex,u=e[n].rowIndex,e[n].colspan,p=this.colGroup[c],!(f=p.editor))return this;if(D.isFunction(f.disabled)&&f.disabled.call({list:this.list,dindex:l,item:this.list[l],key:p.key,value:i}))return this;if(!((a=f).type in I.inlineEditor&&"popup"==I.inlineEditor[a.type].editMode))return"checkbox"==f.type&&(o=a=void 0,o=f.config&&f.config.trueValue?(a=!(i==f.config.trueValue))?f.config.trueValue:f.config.falseValue:a=0==i||"false"==i||i<"1"?"true":"false",I.data.setValue.call(this,l,d,p.key,o),g.call(this,["cellChecked"],l,d,{key:p.key,rowIndex:u,colIndex:c,editorConfig:p.editor.config,checked:a})),this;if(this.list[l].__isGrouping)return!1;if(n in this.inlineEditing)return!1;this.inlineEditing[n]={editor:f,panelName:h,columnKey:n,column:e[n],useReturnToSave:I.inlineEditor[f.type].useReturnToSave},this.isInlineEditing=!0}if(this.isInlineEditing)return r=I.data.getValue.call(this,l,d,p.key),s=function(e,t){return D.isNothing(e)&&(e=D.isNothing(r)?"":r),"money"==t.type?D.number(e,{money:!0}):e}.call(this,i,f),this.inlineEditing[n].$inlineEditorCell=this.$.panel[h].find('[data-ax5grid-tr-data-index="'+l+'"]').find('[data-ax5grid-column-rowindex="'+u+'"][data-ax5grid-column-colindex="'+c+'"]').find("[data-ax5grid-cellholder]"),this.inlineEditing[n].$inlineEditor=I.inlineEditor[f.type].init(this,n,f,this.inlineEditing[n].$inlineEditorCell,s),!0},deActive:function(e,t,i){if(!this.inlineEditing[t])return this;var o=this.inlineEditing[t].panelName,n=this.inlineEditing[t].column.dindex,a=this.inlineEditing[t].column.doindex,r=this.inlineEditing[t].column.rowIndex,s=this.inlineEditing[t].column.colIndex,l=this.bodyRowMap[this.inlineEditing[t].column.rowIndex+"_"+this.inlineEditing[t].column.colIndex],d=(d=this.inlineEditing[t].$inlineEditor,void 0===i?"SELECT"==d.get(0).tagName||"INPUT"==d.get(0).tagName||"TEXTAREA"==d.get(0).tagName?d.val():!(e="CANCEL"):i),i=function(e,t){return"money"==t.type?D.number(e):e}.call(this,d,l.editor),c={CANCEL:function(e,t,i){c.__clear.call(this)},RETURN:function(e,t,i,n){I.data.setValue.call(this,e,t,i.key,n)?(c.__clear.call(this),I.body.repaintCell.call(this,o,e,t,r,s,n)):c.__clear.call(this)},__clear:function(){var e;this.isInlineEditing=!1,this.inlineEditing[t]&&this.inlineEditing[t].$inlineEditor&&("ax5picker"==(e=this.inlineEditing[t].$inlineEditor.data("binded-ax5ui"))?this.inlineEditing[t].$inlineEditor.ax5picker("close"):"ax5select"==e&&this.inlineEditing[t].$inlineEditor.ax5select("close"),this.inlineEditing[t].$inlineEditor.remove(),this.inlineEditing[t].$inlineEditor=null,this.inlineEditing[t].$inlineEditorCell=null),this.inlineEditing[t]=void 0,delete this.inlineEditing[t]}};e in c?c[e||"RETURN"].call(this,n,a,l,i):c.__clear.call(this)},keydown:function(e,s,l){var t={ESC:function(){for(var e in this.inlineEditing)d.deActive.call(this,"CANCEL",e)},RETURN:function(){if(this.isInlineEditing){if(!this.inlineEditing[s]||!this.inlineEditing[s].useReturnToSave)return!1;d.deActive.call(this,"RETURN",s)}else for(var e in this.focusedColumn){var t,e=this.focusedColumn[e],i=this.bodyRowMap[e.rowIndex+"_"+e.colIndex],n=e.dindex,o=e.doindex,a="",r=this.colGroup[e.colIndex];!i||this.list[n].__isGrouping||(a=I.data.getValue.call(this,n,o,i.key)),r.editor&&"inline"===I.inlineEditor[r.editor.type].editMode?l&&l.moveFocus||i.editor&&"checkbox"==i.editor.type&&(a=I.data.getValue.call(this,n,o,i.key),t=r=void 0,i.editor.config&&i.editor.config.trueValue?r=a!=i.editor.config.trueValue?(t=i.editor.config.trueValue,!0):(t=i.editor.config.falseValue,!1):t=r=0==a||"false"==a||a<"1"?"true":"false",I.data.setValue.call(this,n,o,i.key,t),g.call(this,["cellChecked"],n,o,{key:i.key,rowIndex:e.rowIndex,colIndex:e.colIndex,editorConfig:i.editor.config,checked:r})):I.body.inlineEdit.active.call(this,this.focusedColumn,null,a)}return!0}};e in t&&t[e].call(this,e,s,l)}};I.body={init:function(){var c=this;this.$.container.body.on("click","[data-ax5grid-column-attr]",function(e){var t={default:function(e){var t,i,n,o=c.bodyRowMap[e.rowIndex+"_"+e.colIndex],a={self:c,page:c.page,list:c.list,item:c.list[e.doindex],dindex:e.dindex,doindex:e.doindex,rowIndex:e.rowIndex,colIndex:e.colIndex,column:o,value:c.list[e.dindex][o.key]};o.editor&&"checkbox"==o.editor.type?(t=I.data.getValue.call(c,e.dindex,e.doindex,o.key),n=i=void 0,n=o.editor.config&&o.editor.config.trueValue?(i=!(t==o.editor.config.trueValue))?o.editor.config.trueValue:o.editor.config.falseValue:i=0==t||"false"==t||t<"1"?"true":"false",I.data.setValue.call(c,e.dindex,e.doindex,o.key,n),g.call(c,["cellChecked"],e.dindex,e.doindex,{key:o.key,rowIndex:e.rowIndex,colIndex:e.colIndex,editorConfig:o.editor.config,checked:i})):c.config.body.onClick&&c.config.body.onClick.call(a)},rowSelector:function(e){if(c.list[e.doindex][c.config.columnKeys.disableSelection])return!1;c.config.multipleSelect||c.selectedDataIndexs[0]===e.doindex||(g.call(c,["selectedClear"]),I.data.clearSelect.call(c)),I.data.select.call(c,e.dindex,e.doindex,void 0,{internalCall:!0}),g.call(c,["selected"],e.dindex,e.doindex)},lineNumber:function(e){},"tree-control":function(e,t){u.call(c,e.dindex,e.doindex)}},i=this.getAttribute("data-ax5grid-panel-name"),n=this.getAttribute("data-ax5grid-column-attr"),o=Number(this.getAttribute("data-ax5grid-column-row")),a=Number(this.getAttribute("data-ax5grid-column-col")),r=Number(this.getAttribute("data-ax5grid-column-rowIndex")),s=Number(this.getAttribute("data-ax5grid-column-colIndex")),l=Number(this.getAttribute("data-ax5grid-data-index")),d=Number(this.getAttribute("data-ax5grid-data-o-index"));n in t&&t[n]({panelName:i,attr:n,row:o,col:a,dindex:l,doindex:d,rowIndex:r,colIndex:s},this)}),this.$.container.body.on("dblclick","[data-ax5grid-column-attr]",function(a){var r=void 0,s=void 0,e={default:function(e){if(c.isInlineEditing)for(var t in c.inlineEditing)if(t==e.dindex+"_"+e.colIndex+"_"+e.rowIndex)return this;var i=c.bodyRowMap[e.rowIndex+"_"+e.colIndex],n="",o=(!i||c.list[r].__isGrouping||(n=I.data.getValue.call(c,r,s,i.key)),c.colGroup[e.colIndex].editor);D.isObject(o)?I.body.inlineEdit.active.call(c,c.focusedColumn,a,n):c.config.body.onDBLClick&&(o={self:c,page:c.page,list:c.list,item:c.list[e.dindex],dindex:e.dindex,doindex:e.doindex,rowIndex:e.rowIndex,colIndex:e.colIndex,column:i,value:c.list[e.dindex][i.key]},c.config.body.onDBLClick.call(o))},rowSelector:function(e){},lineNumber:function(e){}},t=this.getAttribute("data-ax5grid-panel-name"),i=this.getAttribute("data-ax5grid-column-attr"),n=Number(this.getAttribute("data-ax5grid-column-row")),o=Number(this.getAttribute("data-ax5grid-column-col")),l=Number(this.getAttribute("data-ax5grid-column-rowIndex")),d=Number(this.getAttribute("data-ax5grid-column-colIndex")),r=Number(this.getAttribute("data-ax5grid-data-index")),s=Number(this.getAttribute("data-ax5grid-data-o-index"));i in e&&e[i]({panelName:t,attr:i,row:n,col:o,dindex:r,doindex:s,rowIndex:l,colIndex:d})}),this.config.contextMenu&&this.$.container.body.on("contextmenu",function(e){var t=void 0,i=void 0,n=void 0,o=void 0,a=void 0,r=void 0,s=void 0,l={};(t=D.findParentNode(e.target,function(e){if(e.getAttribute("data-ax5grid-column-attr"))return!0}))&&(o=Number(t.getAttribute("data-ax5grid-column-rowIndex")),a=Number(t.getAttribute("data-ax5grid-column-colIndex")),i=Number(t.getAttribute("data-ax5grid-data-index")),n=Number(t.getAttribute("data-ax5grid-data-o-index")),s=c.bodyRowMap[o+"_"+a],r=c.list[i]),c.contextMenu||(c.contextMenu=new ax5.ui.menu),c.contextMenu.setConfig(c.config.contextMenu),l={element:t,dindex:i,doindex:n,rowIndex:o,colIndex:a,item:r,column:s,gridSelf:c},c.contextMenu.popup(e,{filter:function(){return c.config.contextMenu.popupFilter.call(this,this,l)},param:l}),D.stopEvent(e.originalEvent),l=s=r=a=o=n=i=t=null}),this.$.container.body.on("mousedown",'[data-ax5grid-column-attr="default"]',function(e){if(c.xvar.touchmoved)return!1;this.getAttribute("data-ax5grid-column-rowIndex")&&i.on.call(c,{panelName:this.getAttribute("data-ax5grid-panel-name"),dindex:Number(this.getAttribute("data-ax5grid-data-index")),doindex:Number(this.getAttribute("data-ax5grid-data-o-index")),rowIndex:Number(this.getAttribute("data-ax5grid-column-rowIndex")),colIndex:Number(this.getAttribute("data-ax5grid-column-colIndex")),colspan:Number(this.getAttribute("colspan"))})}).on("dragstart",function(e){return D.stopEvent(e),!1}),T.call(this),this.xvar.paintRowCountMargin=this.config.virtualScrollYCountMargin,this.xvar.paintRowCountTopMargin=this.config.virtualScrollYCountMargin-Math.floor(this.config.virtualScrollYCountMargin/2),this.config.virtualScrollAccelerated?this.__throttledScroll=D.throttle(function(e,t){(this.config.virtualScrollY&&!t.noRepaint&&"top"in e||this.config.virtualScrollX&&!t.noRepaint&&"left"in e)&&n.call(this),t.callback&&t.callback()},this.config.virtualScrollAcceleratedDelayTime):this.__throttledScroll=!1},repaint:n,repaintCell:function(e,a,t,i,n,o){function r(e,t,i,n,o){var a,r,s,l,d,c,u,h,p,f=this.$.panel[e],g=[],m=void 0,v=void 0,x=void 0;for(g.push('<table border="0" cellpadding="0" cellspacing="0">'),g.push("<colgroup>"),m=0,a=t.length;m<a;m++)g.push('<col style="width:'+t[m]._width+'px;"  />');for(g.push("<col  />"),g.push("</colgroup>"),v=0,r=i.rows.length;v<r;v++){for(g.push('<tr class="tr-sum">'),x=0,s=i.rows[v].cols.length;x<s;x++)l=i.rows[v].cols[x],d=w.body.columnHeight*l.rowspan-w.body.columnBorderWidth,c=l.align||C,g.push("<td ",'data-ax5grid-panel-name="'+e+'" ','data-ax5grid-column-row="'+v+'" ','data-ax5grid-column-col="'+x+'" ','data-ax5grid-column-rowIndex="'+v+'" ','data-ax5grid-column-colIndex="'+l.colIndex+'" ','data-ax5grid-column-attr="'+(l.columnAttr||"sum")+'" ',(u=this.focusedColumn["sum_"+l.colIndex+"_"+v],h=this.selectedColumn["sum_"+l.colIndex+"_"+v],void 0,p="",u&&(p+='data-ax5grid-column-focused="true" '),h&&(p+='data-ax5grid-column-selected="true" '),p),'colspan="'+l.colspan+'" ','rowspan="'+l.rowspan+'" ','class="'+function(e){var t="";return e.styleClass&&(D.isFunction(e.styleClass)?t+=e.styleClass.call({column:e,key:e.key,isFootSum:!0})+" ":t+=e.styleClass+" "),w.body.columnBorderWidth&&(t+="hasBorder "),x==s-1&&(t+="isLastColumn "),t}.call(this,l)+'" ','style="height: '+d+'px;min-height: 1px;">'),g.push((u=d,h=void 0,h=w.body.columnHeight-2*w.body.columnPadding-w.body.columnBorderWidth,l.multiLine||(u=w.body.columnHeight-w.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(l.multiLine?"multiLine":"")+'" '+(c?'data-ax5grid-text-align="'+c+'"':"")+'" style="height:'+u+"px;"+(l.multiLine?"":"line-height: "+h+"px;")+'">'),N.call(this,n,l),"</span>"),g.push("</td>");g.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-column-attr="sum" ','style="height: '+w.body.columnHeight+'px;min-height: 1px;" ',"></td>"),g.push("</tr>")}return g.push("</table>"),f.empty().get(0).innerHTML=g.join(""),!0}function s(e,t,i,n,o){var a,r,s,l,d,c,u,h,p=this.$.panel[e],f=[],g=void 0,m=void 0,v=void 0,x=void 0,g=o.paintStartRowIndex;for(h=void 0,h=n.length,m=h=o.paintRowCount+o.paintStartRowIndex<h?o.paintRowCount+o.paintStartRowIndex:h;g<m;g++)if(n[g]&&i&&"__isGrouping"in n[g]){for(var y=i,f=[],v=0,b=y.rows.length;v<b;v++){for(x=0,a=y.rows[v].cols.length;x<a;x++)r=y.rows[v].cols[x],s=w.body.columnHeight*r.rowspan-w.body.columnBorderWidth,l=r.align||C,f.push("<td ",'data-ax5grid-panel-name="'+e+'" ','data-ax5grid-data-index="'+g+'" ','data-ax5grid-column-row="'+v+'" ','data-ax5grid-column-col="'+x+'" ','data-ax5grid-column-rowIndex="'+r.rowIndex+'" ','data-ax5grid-column-colIndex="'+r.colIndex+'" ','data-ax5grid-column-attr="'+(r.columnAttr||"default")+'" ',(d=this.focusedColumn[g+"_"+r.colIndex+"_"+r.rowIndex],c=this.selectedColumn[g+"_"+r.colIndex+"_"+r.rowIndex],void 0,u="",d&&(u+='data-ax5grid-column-focused="true" '),c&&(u+='data-ax5grid-column-selected="true" '),u),'colspan="'+r.colspan+'" ','rowspan="'+r.rowspan+'" ','class="'+function(e){var t="";return e.styleClass&&(D.isFunction(e.styleClass)?t+=e.styleClass.call({column:e,key:e.key,item:n[g],index:g})+" ":t+=e.styleClass+" "),w.body.columnBorderWidth&&(t+="hasBorder "),x==a-1&&(t+="isLastColumn "),t}.call(this,r)+'" ','style="height: '+s+'px;min-height: 1px;">'),f.push((d=s,c=void 0,c=w.body.columnHeight-2*w.body.columnPadding-w.body.columnBorderWidth,r.multiLine||(d=w.body.columnHeight-w.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(r.multiLine?"multiLine":"")+'" '+(l?'data-ax5grid-text-align="'+l+'"':"")+'" style="height:'+d+"px;"+(r.multiLine?"":"line-height: "+c+"px;")+'">'),R.call(this,n[g],g,r),"</span>"),f.push("</td>");f.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+g+'" ','data-ax5grid-column-attr="default" ','style="height: '+w.body.columnHeight+'px;min-height: 1px;" ',"></td>")}p.find('tr[data-ax5grid-tr-data-index="'+g+'"]').empty().get(0).innerHTML=f.join("")}}var l=this,w=this.config,d=this.list,e=this.$.panel[e].find('[data-ax5grid-tr-data-index="'+a+'"]').find('[data-ax5grid-column-rowindex="'+i+'"][data-ax5grid-column-colindex="'+n+'"]').find("[data-ax5grid-cellholder]"),c=this.colGroup,i=c[n],n=(e.html(P.call(this,d,d[a],a,i)),i.editor&&i.editor.updateWith&&i.editor.updateWith.forEach(function(o){c.forEach(function(e){var t,i,n;e.key==o&&(n=I.util.findPanelByColumnIndex.call(l,a,i=e.colIndex,t=e.rowIndex).panelName,l.$.panel[n].find('[data-ax5grid-tr-data-index="'+a+'"]').find('[data-ax5grid-column-rowindex="'+t+'"][data-ax5grid-column-colindex="'+i+'"]').find("[data-ax5grid-cellholder]").html(P.call(l,d,d[a],a,e)))})}),Math.floor(Math.abs(this.$.panel["body-scroll"].position().top)/this.xvar.bodyTrHeight)+this.xvar.frozenRowIndex),e=this.headerColGroup,i=this.leftFootSumData,u=this.footSumData,h=this.leftBodyGroupingData,p=this.bodyGroupingData,C=w.body.align,n={paintStartRowIndex:n,paintRowCount:Math.ceil(this.$.panel.body.height()/this.xvar.bodyTrHeight)+1,bodyTrHeight:this.xvar.bodyTrHeight};(this.xvar.nopaintLeftColumnsWidth||this.xvar.nopaintRightColumnsWidth)&&(e=[].concat(e).splice(this.xvar.paintStartColumnIndex,this.xvar.paintEndColumnIndex-this.xvar.paintStartColumnIndex+1),w.body.grouping&&(p=I.util.getTableByStartEndColumnIndex(p,this.xvar.paintStartColumnIndex,this.xvar.paintEndColumnIndex)),w.footSum)&&(u=I.util.getTableByStartEndColumnIndex(u,this.xvar.paintStartColumnIndex,this.xvar.paintEndColumnIndex));w.body.grouping&&(0<this.xvar.frozenColumnIndex&&(0<this.xvar.frozenRowIndex&&s.call(this,"top-left-body",e,h,d.slice(0,this.xvar.frozenRowIndex),{paintStartRowIndex:0,paintRowCount:this.xvar.frozenRowIndex,bodyTrHeight:this.xvar.bodyTrHeight}),s.call(this,"left-body-scroll",e,h,d,n)),0<this.xvar.frozenRowIndex&&s.call(this,"top-body-scroll",e,p,d.slice(0,this.xvar.frozenRowIndex),{paintStartRowIndex:0,paintRowCount:this.xvar.frozenRowIndex,bodyTrHeight:this.xvar.bodyTrHeight}),s.call(this,"body-scroll",e,p,d,n)),0<this.xvar.frozenColumnIndex&&w.footSum&&this.needToPaintSum&&r.call(this,"bottom-left-body",e,i,d),w.footSum&&this.needToPaintSum&&r.call(this,"bottom-body-scroll",e,u,d,n)},repaintRow:function(e){function t(e,t,i,n){var o,a,r,s,l,d,c,u,h,p=this.$.panel[e],f=[],g=void 0,m=void 0,v=void 0;for(f.push('<table border="0" cellpadding="0" cellspacing="0">'),f.push("<colgroup>"),g=0,o=t.length;g<o;g++)f.push('<col style="width:'+t[g]._width+'px;"  />');for(f.push("<col  />"),f.push("</colgroup>"),m=0,a=i.rows.length;m<a;m++){for(f.push('<tr class="tr-sum">'),v=0,r=i.rows[m].cols.length;v<r;v++)s=i.rows[m].cols[v],l=w.body.columnHeight*s.rowspan-w.body.columnBorderWidth,d=s.align||C,f.push("<td ",'data-ax5grid-panel-name="'+e+'" ','data-ax5grid-column-row="'+m+'" ','data-ax5grid-column-col="'+v+'" ','data-ax5grid-column-rowIndex="'+m+'" ','data-ax5grid-column-colIndex="'+s.colIndex+'" ','data-ax5grid-column-attr="'+(s.columnAttr||"sum")+'" ',(c=this.focusedColumn["sum_"+s.colIndex+"_"+m],u=this.selectedColumn["sum_"+s.colIndex+"_"+m],void 0,h="",c&&(h+='data-ax5grid-column-focused="true" '),u&&(h+='data-ax5grid-column-selected="true" '),h),'colspan="'+s.colspan+'" ','rowspan="'+s.rowspan+'" ','class="'+function(e){var t="";return e.styleClass&&(D.isFunction(e.styleClass)?t+=e.styleClass.call({column:e,key:e.key,isFootSum:!0})+" ":t+=e.styleClass+" "),w.body.columnBorderWidth&&(t+="hasBorder "),v==r-1&&(t+="isLastColumn "),t}.call(this,s)+'" ','style="height: '+l+'px;min-height: 1px;">'),f.push((c=l,u=void 0,u=w.body.columnHeight-2*w.body.columnPadding-w.body.columnBorderWidth,s.multiLine||(c=w.body.columnHeight-w.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(s.multiLine?"multiLine":"")+'" '+(d?'data-ax5grid-text-align="'+d+'"':"")+'" style="height:'+c+"px;line-height: "+u+'px;">'),N.call(this,n,s),"</span>"),f.push("</td>");f.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-column-attr="sum" ','style="height: '+w.body.columnHeight+'px;min-height: 1px;" ',"></td>"),f.push("</tr>")}return f.push("</table>"),p.empty().get(0).innerHTML=f.join(""),!0}function i(e,t,i,n,o){var a,r,s,l,d,c,u,h,p=this.$.panel[e],f=[],g=void 0,m=void 0,v=void 0,x=void 0;for(void 0!==o&&void 0!==o.paintStartRowIndex||(o={paintStartRowIndex:0,paintRowCount:n.length}),g=o.paintStartRowIndex,h=void 0,h=n.length,m=h=o.paintRowCount+o.paintStartRowIndex<h?o.paintRowCount+o.paintStartRowIndex:h;g<m;g++)if(n[g]&&i&&"__isGrouping"in n[g]){for(var y=i,f=[],v=0,b=y.rows.length;v<b;v++){for(x=0,a=y.rows[v].cols.length;x<a;x++)r=y.rows[v].cols[x],s=w.body.columnHeight*r.rowspan-w.body.columnBorderWidth,l=r.align||C,f.push("<td ",'data-ax5grid-panel-name="'+e+'" ','data-ax5grid-data-index="'+g+'" ','data-ax5grid-column-row="'+v+'" ','data-ax5grid-column-col="'+x+'" ','data-ax5grid-column-rowIndex="'+r.rowIndex+'" ','data-ax5grid-column-colIndex="'+r.colIndex+'" ','data-ax5grid-column-attr="'+(r.columnAttr||"default")+'" ',(d=this.focusedColumn[g+"_"+r.colIndex+"_"+r.rowIndex],c=this.selectedColumn[g+"_"+r.colIndex+"_"+r.rowIndex],void 0,u="",d&&(u+='data-ax5grid-column-focused="true" '),c&&(u+='data-ax5grid-column-selected="true" '),u),'colspan="'+r.colspan+'" ','rowspan="'+r.rowspan+'" ','class="'+function(e){var t="";return e.styleClass&&(D.isFunction(e.styleClass)?t+=e.styleClass.call({column:e,key:e.key,item:n[g],index:g})+" ":t+=e.styleClass+" "),w.body.columnBorderWidth&&(t+="hasBorder "),x==a-1&&(t+="isLastColumn "),t}.call(this,r)+'" ','style="height: '+s+'px;min-height: 1px;">'),f.push((d=s,c=void 0,c=w.body.columnHeight-2*w.body.columnPadding-w.body.columnBorderWidth,r.multiLine||(d=w.body.columnHeight-w.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(r.multiLine?"multiLine":"")+'" '+(l?'data-ax5grid-text-align="'+l+'"':"")+'" style="height:'+d+"px;line-height: "+c+'px;">'),R.call(this,n[g],g,r),"</span>"),f.push("</td>");f.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+g+'" ','data-ax5grid-column-attr="default" ','style="height: '+w.body.columnHeight+'px;min-height: 1px;" ',"></td>")}p.find('tr[data-ax5grid-tr-data-index="'+g+'"]').empty().get(0).innerHTML=f.join("")}}function n(e,t,i,n,o){var a,r,s,l,d,c,u,h,p=this.$.panel[e],f=[],g=void 0,m=void 0,v=i,x=void 0!==n[o].__origin_index__?n[o].__origin_index__:o;if(i=p.find('tr[data-ax5grid-tr-data-index="'+o+'"]').empty().get(0)){for(g=0,a=v.rows.length;g<a;g++){for(m=0,r=v.rows[g].cols.length;m<r;m++)s=v.rows[g].cols[m],l=w.body.columnHeight*s.rowspan-w.body.columnBorderWidth,d=s.align||C,f.push("<td ",'data-ax5grid-panel-name="'+e+'" ','data-ax5grid-data-index="'+o+'" ','data-ax5grid-data-o-index="'+x+'" ','data-ax5grid-column-row="'+g+'" ','data-ax5grid-column-col="'+m+'" ','data-ax5grid-column-rowIndex="'+s.rowIndex+'" ','data-ax5grid-column-colIndex="'+s.colIndex+'" ','data-ax5grid-column-attr="'+(s.columnAttr||"default")+'" ',(c=this.focusedColumn[o+"_"+s.colIndex+"_"+s.rowIndex],u=this.selectedColumn[o+"_"+s.colIndex+"_"+s.rowIndex],void 0,h="",c&&(h+='data-ax5grid-column-focused="true" '),u&&(h+='data-ax5grid-column-selected="true" '),h),'colspan="'+s.colspan+'" ','rowspan="'+s.rowspan+'" ','class="'+function(e){var t="";return e.styleClass&&(D.isFunction(e.styleClass)?t+=e.styleClass.call({column:e,key:e.key,item:n[o],index:o})+" ":t+=e.styleClass+" "),w.body.columnBorderWidth&&(t+="hasBorder "),m==r-1&&(t+="isLastColumn "),t}.call(this,s)+'" ','style="height: '+l+'px;min-height: 1px;">'),f.push((c=l,u=void 0,u=w.body.columnHeight-2*w.body.columnPadding-w.body.columnBorderWidth,s.multiLine||(c=w.body.columnHeight-w.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(s.multiLine?"multiLine":"")+'" '+(d?'data-ax5grid-text-align="'+d+'"':"")+'" style="height:'+c+"px;"+(s.multiLine?"":"line-height: "+u+"px;")+'">'),P.call(this,n,n[o],o,s),"</span>"),f.push("</td>");f.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+o+'" ','data-ax5grid-column-attr="default" ','style="height: '+w.body.columnHeight+'px;min-height: 1px;" ',"></td>")}i.innerHTML=f.join("")}}var w=this.config,o=this.list,a=Math.floor(Math.abs(this.$.panel["body-scroll"].position().top)/this.xvar.bodyTrHeight)+this.xvar.frozenRowIndex,r=(this.asideBodyRowData,this.leftBodyRowData),s=this.bodyRowData,l=this.leftFootSumData,d=this.footSumData,c=(this.asideBodyGroupingData,this.leftBodyGroupingData),u=this.bodyGroupingData,C=w.body.align,a={paintStartRowIndex:a,paintRowCount:Math.ceil(this.$.panel.body.height()/this.xvar.bodyTrHeight)+1,bodyTrHeight:this.xvar.bodyTrHeight};0<this.xvar.frozenColumnIndex&&(this.xvar.frozenRowIndex>e?n.call(this,"top-left-body",this.leftHeaderColGroup,r,o.slice(0,this.xvar.frozenRowIndex),e):n.call(this,"left-body-scroll",this.leftHeaderColGroup,r,o,e)),this.xvar.frozenRowIndex>e?n.call(this,"top-body-scroll",this.headerColGroup,s,o.slice(0,this.xvar.frozenRowIndex),e):n.call(this,"body-scroll",this.headerColGroup,s,o,e),w.body.grouping&&(0<this.xvar.frozenColumnIndex&&(this.xvar.frozenRowIndex>e?i.call(this,"top-left-body",this.leftHeaderColGroup,c,o.slice(0,this.xvar.frozenRowIndex)):i.call(this,"left-body-scroll",this.leftHeaderColGroup,c,o,a)),this.xvar.frozenRowIndex>e?i.call(this,"top-body-scroll",this.headerColGroup,u,o.slice(0,this.xvar.frozenRowIndex)):i.call(this,"body-scroll",this.headerColGroup,u,o,a)),0<this.xvar.frozenColumnIndex&&w.footSum&&this.needToPaintSum&&t.call(this,"bottom-left-body",this.leftHeaderColGroup,l,o),w.footSum&&this.needToPaintSum&&t.call(this,"bottom-body-scroll",this.headerColGroup,d,o,a)},updateRowState:g,updateRowStateAll:function(e,t){var i=this,n=(this.config,{selected:function(e){I.body.repaint.call(this,!0)}});e.forEach(function(e){if(!n[e])throw"invaild state name";n[e].call(i,t)})},scrollTo:l,blur:function(){h.focusClear.call(this),h.clear.call(this),this.isInlineEditing&&d.deActive.call(this)},moveFocus:o,inlineEdit:d,getExcelString:function(){var e=this.config,t=this.list,i=this.bodyRowTable,n=this.footSumTable,o=this.bodyGroupingTable,a=[];return a.push(function(e,t,i,n){for(var o,a,r,s=[],l=void 0,d=void 0,c=void 0,l=0,u=n.length;l<u;l++){var h=!1,p=void 0;i&&"__isGrouping"in n[l]?(p=i,h=!0):p=t;for(d=0,o=p.rows.length;d<o;d++){for(s.push("\n<tr>"),c=0,a=p.rows[d].cols.length;c<a;c++)r=p.rows[d].cols[c],s.push("<td ",'colspan="'+r.colspan+'" ','rowspan="'+r.rowspan+'" ',">",(h?R.call(this,n[l],l,r):P.call(this,n,n[l],l,r,void 0,"text"))||"&nbsp;","</td>");s.push("\n</tr>")}}return s.join("")}.call(this,this.headerColGroup,i,o,t)),e.footSum&&a.push(function(e,t,i){for(var n,o,a=[],r=void 0,s=void 0,r=0,l=t.rows.length;r<l;r++){for(a.push("\n<tr>"),s=0,n=t.rows[r].cols.length;s<n;s++)o=t.rows[r].cols[s],a.push("<td ",'colspan="'+o.colspan+'" ','rowspan="'+o.rowspan+'" ',">",N.call(this,i,o),"</td>");a.push("\n</tr>")}return a.join("")}.call(this,this.headerColGroup,n,t)),e.rightSum,a.join("")},toggleCollapse:u,click:function(e,t){var i={self:this,page:this.page,list:this.list,item:this.list[e],dindex:e};o.call(this,e),this.config.body.onClick&&this.config.body.onClick.call(i)},dblClick:function(e,t){var i={self:this,page:this.page,list:this.list,item:this.list[e],dindex:e};o.call(this,e),this.config.body.onDBLClick&&this.config.body.onDBLClick.call(i)}}}(),!function(){var e=ax5.ui.grid,n=ax5.util;e.collector={sum:function(){for(var e=0,t=this.list.length;t--;)"__groupingList"in this.list[t]||(e+=n.number(this.list[t][this.key]));return e},avg:function(){for(var e=0,t=this.list.length,i=0;t--;)"__groupingList"in this.list[t]||(e+=n.number(this.list[t][this.key]),i++);return n.number(e/(i||1),{round:2})}}}(),!function(){function d(e){for(var t=0,i=e.length,n=[];t<i;t++)e[t]&&!e[t].__isGrouping&&(e[t][this.config.columnKeys.selected]&&this.selectedDataIndexs.push(t),n.push(jQuery.extend({},e[t])));return n}function c(e){this.selectedDataIndexs=[],this.deletedList=[];for(var t=0,i=0,n=0,o=0,a=e.length,r=this.config.tree.columnKeys,s=this.config.tree.hashDigit,l={};a--;)delete e[a][r.parentHash],delete e[a][r.selfHash];for(i=t=0,a=e.length;t<a;t++)e[t]&&(l[e[t][r.selfKey]]=t,!g.isNothing(e[t][r.parentKey])&&"top"!==e[t][r.parentKey]||(e[t][r.parentKey]="top",e[t][r.children]=[],e[t][r.parentHash]=g.setDigit("0",s),e[t][r.selfHash]=g.setDigit("0",s)+"."+g.setDigit(i,s),e[t][r.depth]=0,e[t][r.hidden]=!1,i++));for(o=t=0;t<a;t++){var d,c=void 0;e[t]&&"top"!==e[t][r.parentKey]&&void 0===e[t][r.parentHash]&&((c=e[l[e[t][r.parentKey]]])?(d=c[r.selfHash],e[t][r.children]=[],e[t][r.parentHash]=d,e[t][r.selfHash]=d+"."+g.setDigit(c[r.children].length,s),e[t][r.depth]=c[r.depth]+1,(c[r.collapse]||c[r.hidden])&&(e[t][r.hidden]=!0),c[r.children].push(e[t][r.selfKey])):(e[t][r.parentKey]="top",e[t][r.children]=[],e[t][r.parentHash]=g.setDigit("0",s),e[t][r.selfHash]=g.setDigit("0",s)+"."+g.setDigit(i,s),e[t][r.hidden]=!1,i++)),e[t]&&(e[t][this.config.columnKeys.deleted]?(this.deletedList.push(e[t]),e[t][r.hidden]=!0):e[t][this.config.columnKeys.selected]&&this.selectedDataIndexs.push(t),e[t].__index=o,n++,o++)}return this.listIndexMap=l,this.xvar.dataRealRowCount=n,e}function u(e){for(var t=0,i=e.length,n=[];t<i;t++)e[t]&&!e[t][this.config.tree.columnKeys.hidden]&&(e[t].__origin_index__=t,n.push(e[t]));return n}function s(e,t,i,n){var o=this.list,e=void 0===t?e:t;if(/[\.\[\]]/.test(i))try{n=Function("","return this"+h.util.getRealPathForDataItem(i)+";").call(o[e])}catch(e){}else n=o[e][i];return n}function o(){this.appendProgress=!1,this.config.body.grouping?this.list=p.call(this,f.call(this,this.sortInfo,this.list)):this.list=p.call(this,this.list),this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,this.xvar.virtualPaintStartRowIndex=void 0,h.page.navigationUpdate.call(this)}var h=ax5.ui.grid,g=ax5.util,p=function(e){this.selectedDataIndexs=[];var t=0,i=e.length,n=[],o=0,a=0,r=0;if(this.config.body.grouping)for(var s=g.map(this.bodyGrouping.by,function(){return{key:this,compareString:"",grouping:!1,list:[]}}),l=0,d=s.length,c=void 0,u=[],h=void 0;t<i+1;t++)if(l=0,e[t]&&e[t][this.config.columnKeys.deleted])this.deletedList.push(e[t]);else{for(c="",u=[];l<d;l++){if(e[t]&&(c+="$|$"+e[t][s[l].key]),0<o&&c!=s[l].compareString){for(var p={keys:[],labels:[],list:s[l].list},f=0;f<l+1;f++)p.keys.push(s[f].key),p.labels.push(e[t-1][s[f].key]);u.push(p),s[l].list=[]}s[l].list.push(e[t]),s[l].compareString=c}for(h=u.length;h--;)n.push({__isGrouping:!0,__groupingList:u[h].list,__groupingBy:{keys:u[h].keys,labels:u[h].labels}});e[t]&&(e[t][this.config.columnKeys.selected]&&this.selectedDataIndexs.push(t),e[t].__original_index=e[t].__index=r,n.push(e[t]),a++,o++,r++)}else for(;t<i;t++)e[t]&&(e[t][this.config.columnKeys.deleted]?this.deletedList:(e[t][this.config.columnKeys.selected]&&this.selectedDataIndexs.push(t),void 0===e[t].__original_index&&(e[t].__original_index=r),e[t].__index=r,a++,r++,n)).push(e[t]);return this.xvar.dataRealRowCount=a,n},f=function(e,t,i){function n(e,t,i){if(/[\.\[\]]/.test(t))try{i=Function("","return this"+h.util.getRealPathForDataItem(t)+";").call(e)}catch(e){}else i=e[t];return i}var o,a=t||this.list,r=[],s=0;for(o in e)r[e[o].seq]={key:o,order:e[o].orderBy};r=g.filter(r,function(){return void 0!==this}),i&&i.resetLineNumber&&0===r.length&&(r[0]={key:"__original_index",order:"asc"});var l=0,d=r.length,c=void 0,u=void 0;if(a.sort(function(e,t){for(l=0;l<d;l++){if(c=n(e,r[l].key),u=n(t,r[l].key),(void 0===c?"undefined":_typeof(c))!==(void 0===u?"undefined":_typeof(u))&&(c=""+c,u=""+u),c<u)return"asc"===r[l].order?-1:1;if(u<c)return"asc"===r[l].order?1:-1}}),i&&i.resetLineNumber)for(l=0,d=a.length,s=0;l<d;l++)t[l]&&!t[l].__isGrouping&&(t[l].__index=s++);return t?a:(this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,this.xvar.virtualPaintStartRowIndex=void 0,h.page.navigationUpdate.call(this),this)};h.data={init:function(){},set:function(e){var t=void 0;return g.isArray(e)?(this.page=null,t=e):"page"in e&&(this.page=jQuery.extend({},e.page),t=e.list),this.config.tree.use?(this.list=c.call(this,t),this.proxyList=u.call(this,f.call(this,this.sortInfo,this.list))):(this.proxyList=null,this.list=p.call(this,!this.config.remoteSort&&Object.keys(this.sortInfo).length?f.call(this,this.sortInfo,t):t)),this.selectedDataIndexs=[],this.deletedList=[],this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,this.xvar.virtualPaintStartRowIndex=void 0,h.page.navigationUpdate.call(this),this.config.body.grouping,this},get:function(e){return{list:this.list,page:this.page}},getList:function(e){var t=[],i=this.list,n=0,o=i.length;switch(e){case"modified":for(;n<o;n++)i[n]&&!i[n].__isGrouping&&i[n][this.config.columnKeys.modified]&&t.push(jQuery.extend({},i[n]));break;case"selected":for(;n<o;n++)i[n]&&!i[n].__isGrouping&&i[n][this.config.columnKeys.selected]&&t.push(jQuery.extend({},i[n]));break;case"deleted":t=[].concat(this.deletedList);break;default:t=h.data.clearGroupingData.call(this,i)}return t},getProxyList:u,setValue:function(e,t,i,n){var o=s.call(this,e,t,i),a=this.list,r=void 0===t?e:t;if(this.needToPaintSum=!0,o!==n){if(/[\.\[\]]/.test(i))try{a[r][this.config.columnKeys.modified]=!0,Function("val","this"+h.util.getRealPathForDataItem(i)+" = val;").call(a[r],n)}catch(e){}else a[r][this.config.columnKeys.modified]=!0,a[r][i]=n;this.onDataChanged&&this.onDataChanged.call({self:this,list:this.list,dindex:e,doindex:t,item:this.list[e],key:i,value:n})}return!0},getValue:s,clearSelect:function(){this.selectedDataIndexs=[]},select:function(e,t,i,n){var o=this.config;return void 0===t&&(t=e),!!this.list[t]&&!this.list[t].__isGrouping&&!this.list[t][o.columnKeys.disableSelection]&&(void 0===i?(this.list[t][o.columnKeys.selected]=!this.list[t][o.columnKeys.selected])?this.selectedDataIndexs.push(t):this.selectedDataIndexs.splice(g.search(this.selectedDataIndexs,function(){return this==t}),1):(this.list[t][o.columnKeys.selected]=i)?this.selectedDataIndexs.push(t):this.selectedDataIndexs.splice(g.search(this.selectedDataIndexs,function(){return this==t}),1),this.onDataChanged&&n&&n.internalCall&&this.onDataChanged.call({self:this,list:this.list,dindex:e,doindex:t,item:this.list[t],key:o.columnKeys.selected,value:this.list[t][o.columnKeys.selected]}),this.list[t][o.columnKeys.selected])},selectAll:function(e,t){var i=this.config,n=this.list.length;if(this.selectedDataIndexs=[],void 0===e)for(;n--;)this.list[n].__isGrouping||t&&t.filter&&!0!==t.filter.call(this.list[n])||this.list[n][i.columnKeys.disableSelection]||(this.list[n][i.columnKeys.selected]=!this.list[n][i.columnKeys.selected])&&this.selectedDataIndexs.push(n);else for(;n--;)this.list[n].__isGrouping||t&&t.filter&&!0!==t.filter.call(this.list[n])||this.list[n][i.columnKeys.disableSelection]||(this.list[n][i.columnKeys.selected]=e)&&this.selectedDataIndexs.push(n);return this.onDataChanged&&t&&t.internalCall&&this.onDataChanged.call({self:this,list:this.list}),this.list},add:function(e,t,i){var n=this.config.body.grouping?d.call(this,this.list):this.list,o={first:function(){n=[].concat(e).concat(n)},last:function(){n=n.concat([].concat(e))}};if(this.config.tree.use){var a=this.list.concat([].concat(e));this.list=c.call(this,a),this.proxyList=u.call(this,f.call(this,this.sortInfo,this.list))}else{if((t=void 0===t?"last":t)in o)e[this.config.columnKeys.modified]=!0,o[t].call(this,e);else{if(!g.isNumber(t))throw"invalid argument _dindex";if(g.isArray(e))for(var r=0,s=e.length;r<s;r++)n.splice(t+r,0,e[r]);else n.splice(t,0,e)}n=this.config.body.grouping||i&&i.sort&&Object.keys(this.sortInfo).length?p.call(this,f.call(this,this.sortInfo,n)):p.call(this,n),this.list=n}return this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,this.xvar.virtualPaintStartRowIndex=void 0,h.page.navigationUpdate.call(this),this},remove:function(e){var n=this.config.body.grouping?d.call(this,this.list):this.list,o={first:function(){this.config.tree.use?o.tree.call(this,0):n.splice(0,1)},last:function(){this.config.tree.use?o.tree.call(this,n.length-1):n.splice(n.length-1,1)},index:function(e){this.config.tree.use?o.tree.call(this,e):n.splice(e,1)},selected:function(){if(this.config.tree.use)o.tree.call(this,"selected");else{for(var e=[],t=void 0,t=0,i=n.length;t<i;t++)n[t][this.config.columnKeys.selected]||e.push(n[t]);n=e,e=null}},tree:function(e){var t=this.config.tree.columnKeys,i=n[e][this.config.tree.columnKeys.selfHash];n=g.filter(n,function(){return this[t.selfHash].substr(0,i.length)!=i}),i=t=null}};if((e=void 0===e?"last":e)in o)o[e].call(this,e);else{if(!g.isNumber(e))throw"invalid argument _dindex";o.index.call(this,e)}return this.config.tree.use?(this.list=c.call(this,n),this.proxyList=u.call(this,f.call(this,this.sortInfo,this.list))):(n=this.config.body.grouping||Object.keys(this.sortInfo).length?p.call(this,f.call(this,this.sortInfo,n)):p.call(this,n),this.list=n),this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,this.xvar.virtualPaintStartRowIndex=void 0,h.page.navigationUpdate.call(this),this},deleteRow:function(e){var l=this.config.body.grouping?d.call(this,this.list):this.list,t={first:function(){this.config.tree.use?t.tree.call(this,0):l[0][this.config.columnKeys.deleted]=!0},last:function(){this.config.tree.use?t.tree.call(this,l.length-1):l[l.length-1][this.config.columnKeys.deleted]=!0},selected:function(){if(this.config.tree.use)t.tree.call(this,"selected");else for(var e=l.length;e--;)l[e][this.config.columnKeys.selected]&&(l[e][this.config.columnKeys.deleted]=!0)},tree:function(e){var t=this.config.columnKeys,i=this.config.tree.columnKeys;if("selected"===e){for(var n=l.length;n--;)if(l[n][this.config.columnKeys.selected]){l[n][this.config.columnKeys.deleted]=!0;for(var o=l[n][i.selfHash],a=l.length;a--;)l[a][i.selfHash].substr(0,o.length)===o&&(l[a][t.deleted]=!0);a=o=null}n=null}else{for(var r=l[e][i.selfHash],s=l.length;s--;)l[s][i.selfHash].substr(0,r.length)!==r&&(l[s][t.deleted]=!0);s=r=null}t=null}};if((e=void 0===e?"last":e)in t)t[e].call(this,e);else{if(!g.isNumber(e))throw"invalid argument _dindex";l[e][this.config.columnKeys.deleted]=!0}return this.config.tree.use?(this.list=c.call(this,l),this.proxyList=u.call(this,f.call(this,this.sortInfo,this.list))):(l=this.config.body.grouping||Object.keys(this.sortInfo).length?p.call(this,f.call(this,this.sortInfo,l)):p.call(this,l),this.list=l),this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,this.xvar.virtualPaintStartRowIndex=void 0,h.page.navigationUpdate.call(this),this},update:function(e,t){if(!g.isNumber(t))throw"invalid argument _dindex";this.needToPaintSum=!0,this.list.splice(t,1,e),this.config.body.grouping&&(this.list=p.call(this,d.call(this,this.list)))},updateChild:function(e,t,i){var n,o=this.config.tree.columnKeys;if(void 0!==e&&(n=this.proxyList[e].__origin_index__,this.list[n][o.children])){if(this.proxyList=[],i&&i.filter){if(i.filter.call({item:this.list[n],dindex:n},this.list[n]))for(var a in t)this.list[n][a]=t[a]}else for(var r in t)this.list[n][r]=t[r];for(var s=this.list[n][o.selfHash],l=0,d=this.list.length;l<d;l++)if(this.list[l]){if(this.list[l][o.parentHash].substr(0,s.length)===s)if(i&&i.filter){if(i.filter.call({item:this.list[l],dindex:l},this.list[l]))for(var c in t)this.list[l][c]=t[c]}else for(var u in t)this.list[l][u]=t[u];this.list[l][o.hidden]||this.proxyList.push(this.list[l])}return!0}return!1},sort:f,initData:p,clearGroupingData:d,append:function(e,t){var i,n=this;if(this.config.tree.use?(i=this.list.concat([].concat(e)),this.list=c.call(this,i),this.proxyList=u.call(this,f.call(this,this.sortInfo,this.list)),i=null):this.list=this.list.concat([].concat(e)),this.appendProgress=!0,h.page.statusUpdate.call(this),this.appendDebouncer){if(!(n.appendDebounceTimes<this.config.debounceTime/10))return n.appendDebounceTimes=0,o.call(n),t(),!1;clearTimeout(this.appendDebouncer),n.appendDebounceTimes++}this.appendDebouncer=setTimeout(function(){n.appendDebounceTimes=0,o.call(n),t()},this.config.debounceTime)},toggleCollapse:function(e,t,i){var n=this.config.tree.columnKeys;if(void 0!==e&&(e=this.proxyList[e].__origin_index__,this.list[e][n.children])){this.proxyList=[],void 0===i&&(i=!this.list[e][n.collapse]),this.list[e][n.collapse]=i;for(var o=this.list[e][n.selfHash],a=this.list.length;a--;)this.list[a]&&(this.list[a][n.parentHash].substr(0,o.length)===o&&(this.list[a][n.hidden]=i),this.list[a][n.hidden]||this.proxyList.push(this.list[a]));return!0}return!1}}}(),!function(){var e=ax5.ui.grid;e.excel={export:function(e,t){var i,n,o,e=[].concat(e),e=ax5.mustache.render("\ufeff\n{{#tables}}{{{body}}}{{/tables}}\n",{worksheet:(n=[],e.forEach(function(e,t){n.push({name:"Sheet"+(t+1)})}),n),tables:(i=[],e.forEach(function(e,t){i.push({body:e})}),i)}),a=!(-1<navigator.userAgent.indexOf("Chrome"))&&-1<navigator.userAgent.indexOf("Safari"),r=!!document.documentMode,s=void 0,l=void 0,d=void 0;return navigator.msSaveOrOpenBlob?(o=new Blob([e],{type:"text/html"}),window.navigator.msSaveOrOpenBlob(o,t)):a?(window.open("about:blank",this.id+"-excel-export","width=600,height=400").document.write(e),0):r&&"undefined"==typeof Blob?(s=jQuery('<iframe id="'+this.id+'-excel-export" style="display:none"></iframe>'),jQuery(document.body).append(s),(l=window[this.id+"-excel-export"]).document.open("text/html","replace"),l.document.write(e),l.document.close(),l.focus(),l.document.execCommand("SaveAs",!0,t),s.remove()):"download"in(d=document.body.appendChild(document.createElement("a")))&&(d.download=t,d.href=URL.createObjectURL(new Blob([e],{type:"text/csv"})),d.click(),document.body.removeChild(d)),!0}}}(),!function(){var e=ax5.ui.grid,n=ax5.util;e.formatter={money:function(){if(void 0===this.value)return"";var e=(""+this.value).replace(/[^0-9^\.^\-]/g,""),t=new RegExp("([0-9])([0-9][0-9][0-9][,.])"),i=e.split(".");for(i[0]+=".";i[0]=i[0].replace(t,"$1,$2"),t.test(i[0]););return 1<i.length?i[0]+n.left(i[1],2):i[0].split(".")[0]}}}(),!function(){function a(){var s=this.config,e=l.util.divideTableByFrozenColumnIndex(this.headerTable,this.xvar.frozenColumnIndex);this.asideHeaderData=function(e){for(var t,i,n=[],o={rows:[]},a=0,r=e.rows.length;a<r;a++)o.rows[a]={cols:[]},0===a&&(t={label:"",colspan:1,rowspan:e.rows.length,colIndex:null},i={},s.showLineNumber&&(i=jQuery.extend({},t,{width:s.lineNumberColumnWidth,_width:s.lineNumberColumnWidth,columnAttr:"lineNumber",key:"__index_header__",label:"&nbsp;"}),n.push(i),o.rows[a].cols.push(i)),s.showRowSelector&&(i=jQuery.extend({},t,{width:s.rowSelectorColumnWidth,_width:s.rowSelectorColumnWidth,columnAttr:"rowSelector",key:"__checkbox_header__",label:""}),n.push(i),o.rows[a].cols.push(i)),t=null);return this.asideColGroup=n,o}.call(this,this.headerTable),this.leftHeaderData=e.leftData,this.headerData=e.rightData}function v(e){return"__checkbox_header__"===e.key?this.config.header.selector?'<div class="checkBox" style="max-height: '+(e.width-10)+"px;min-height: "+(e.width-10)+'px;"></div>':"&nbsp;":e.label||"&nbsp;"}function r(e){var t,i="",n={},o=0;for(t in this.sortInfo)this.sortInfo[t].fixed&&(n[t]=this.sortInfo[t],o++);for(var a=0,r=this.colGroup.length;a<r;a++)this.colGroup[a].key==e?(""==i&&(i=void 0===this.colGroup[a].sort?"desc":"desc"===this.colGroup[a].sort?"asc":void 0),this.colGroup[a].sort=i):this.config.multiSort||(this.colGroup[a].sort=void 0),void 0===this.colGroup[a].sort||n[this.colGroup[a].key]||(n[this.colGroup[a].key]={seq:o++,orderBy:this.colGroup[a].sort});return this.setColumnSort(n),this}var l=ax5.ui.grid,x=ax5.util,s={on:function(e,t){var i=this,n=$(e).offset().left,o=i.$.container.root.offset().left,a=(i.xvar.columnResizerIndex=t,{min:2-i.colGroup[t]._width,max:i.$.container.root.width()-i.colGroup[t]._width});jQuery(document.body).bind(l.util.ENM.mousemove+".ax5grid-"+this.instanceId,function(e){e=l.util.getMousePosition(e);i.xvar.__da=e.clientX-i.xvar.mousePosition.clientX,a.min>i.xvar.__da?i.xvar.__da=a.min:a.max<i.xvar.__da&&(i.xvar.__da=a.max),i.xvar.columnResizerLived||i.$.resizer.horizontal.addClass("live"),i.xvar.columnResizerLived=!0,i.$.resizer.horizontal.css({left:n+i.xvar.__da-o})}).bind(l.util.ENM.mouseup+".ax5grid-"+this.instanceId,function(e){s.off.call(i),x.stopEvent(e)}).bind("mouseleave.ax5grid-"+this.instanceId,function(e){s.off.call(i),x.stopEvent(e)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){this.$.resizer.horizontal.removeClass("live"),this.xvar.columnResizerLived=!1,void 0!==this.xvar.__da&&this.setColumnWidth(this.colGroup[this.xvar.columnResizerIndex]._width+this.xvar.__da,this.xvar.columnResizerIndex),jQuery(document.body).unbind(l.util.ENM.mousemove+".ax5grid-"+this.instanceId).unbind(l.util.ENM.mouseup+".ax5grid-"+this.instanceId).unbind("mouseleave.ax5grid-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}};l.header={init:function(){var o=this;this.$.container.header.on("click","[data-ax5grid-column-attr]",function(e){var t,i=this.getAttribute("data-ax5grid-column-key"),n=this.getAttribute("data-ax5grid-column-colindex"),n=o.colGroup[n];"__checkbox_header__"===i&&o.config.header.selector?(t=this.getAttribute("data-ax5grid-selected"),t=!!x.isNothing(t)||"true"!==t,$(this).attr("data-ax5grid-selected",t),o.selectAll({selected:t}),t=null):!i||!n||!1===n.sortable||n.sortFixed||!0!==n.sortable&&!0!==o.config.sortable||r.call(o,n.key),l.body.blur.call(o)}),this.$.container.header.on("mousedown","[data-ax5grid-column-resizer]",function(e){var t=this.getAttribute("data-ax5grid-column-resizer");o.xvar.mousePosition=l.util.getMousePosition(e),s.on.call(o,this,Number(t)),x.stopEvent(e)}).on("dragstart",function(e){return x.stopEvent(e),!1}),a.call(this)},repaint:function(e){function t(r,s,l){var e=0,t=[];t.push('<table border="0" cellpadding="0" cellspacing="0">'),t.push("<colgroup>");for(var i=0,n=s.length;i<n;i++)t.push('<col style="width:'+s[i]._width+'px;"  />'),e+=s[i]._width;t.push("<col  />"),t.push("</colgroup>");for(var o=0,a=l.rows.length;o<a;o++){t.push('<tr class="">');for(var d=0,c=l.rows[o].cols.length;d<c;d++){var u=l.rows[o].cols[d],h=f.header.columnHeight*u.rowspan-f.header.columnBorderWidth,p=m||u.align;t.push("<td ",'data-ax5grid-column-attr="'+(u.columnAttr||"default")+'" ','data-ax5grid-column-row="'+o+'" ','data-ax5grid-column-col="'+d+'" ',void 0!==u.key?'data-ax5grid-column-key="'+u.key+'" ':"",'data-ax5grid-column-colindex="'+u.colIndex+'" ','data-ax5grid-column-rowindex="'+u.rowIndex+'" ','colspan="'+u.colspan+'" ','rowspan="'+u.rowspan+'" ','class="'+function(e){var t="";return e.headerStyleClass&&(x.isFunction(e.headerStyleClass)?t+=e.headerStyleClass.call({column:e,key:e.key})+" ":t+=e.headerStyleClass+" "),f.header.columnBorderWidth&&(t+="hasBorder "),d==c-1&&(t+="isLastColumn "),t}.call(this,u)+'" ','style="height: '+h+'px;min-height: 1px;">'),t.push((h=void 0,h=f.header.columnHeight-2*f.header.columnPadding-f.header.columnBorderWidth,'<span data-ax5grid-cellHolder="" '+(p?'data-ax5grid-text-align="'+p+'"':"")+' style="height: '+(f.header.columnHeight-f.header.columnBorderWidth)+"px;line-height: "+h+'px;">'),(void 0,p="",x.isNothing(u.key)||x.isNothing(u.colIndex)||!0!==f.sortable&&!0!==u.sortable||!1===u.sortable||(p+='<span data-ax5grid-column-sort="'+u.colIndex+'" data-ax5grid-column-sort-order="'+(g[u.colIndex].sort||"")+'" />'),p),v.call(this,u),"</span>"),x.isNothing(u.colIndex)||f.enableFilter&&t.push('<span data-ax5grid-column-filter="'+u.colIndex+'" data-ax5grid-column-filter-value=""  />'),t.push("</td>")}t.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','style="height: '+f.header.columnHeight+'px;min-height: 1px;" ',"></td>"),t.push("</tr>")}return t.push("</table>"),r.html(t.join("")),function(){for(var e=f.header.columnHeight*l.rows.length-f.header.columnBorderWidth,t=0,i=[],n=0,o=s.length;n<o;n++){var a=s[n];x.isNothing(a.colIndex)||(t+=a._width,i.push('<div data-ax5grid-column-resizer="'+a.colIndex+'" style="height:'+e+"px;left: "+(t-4)+'px;"  />'))}r.append(i)}.call(this),e}var f=this.config,g=this.colGroup,e=(e&&(a.call(this),this.xvar.paintStartRowIndex=void 0,this.xvar.virtualPaintStartRowIndex=void 0),this.asideHeaderData),i=this.leftHeaderData,n=this.headerData,m=f.header.align;this.leftHeaderColGroup=g.slice(0,this.config.frozenColumnIndex),this.headerColGroup=g.slice(this.config.frozenColumnIndex);0<f.asidePanelWidth&&t.call(this,this.$.panel["aside-header"],this.asideColGroup,e),0<f.frozenColumnIndex&&t.call(this,this.$.panel["left-header"],this.leftHeaderColGroup,i),this.xvar.scrollContentWidth=t.call(this,this.$.panel["header-scroll"],this.headerColGroup,n),f.rightSum},scrollTo:function(e){return this.$.panel["header-scroll"].css(e),this},toggleSort:r,applySortStatus:function(e){for(var t=0,i=this.colGroup.length;t<i;t++)for(var n in e)this.colGroup[t].key==n&&(this.colGroup[t].sort=e[n].orderBy);return this},getExcelString:function(){this.config;var e=this.colGroup,t=this.headerTable;return function(e,t){for(var i=[],n=0,o=t.rows.length;n<o;n++){i.push("<tr>");for(var a=0,r=t.rows[n].cols.length;a<r;a++){var s=t.rows[n].cols[a];i.push("<td ",'colspan="'+s.colspan+'" ','rowspan="'+s.rowspan+'" ',">",v.call(this,s),"</td>")}i.push("</tr>")}return i.join("")}.call(this,e,t)}}}(),!function(){var l=ax5.ui.grid;l.inlineEditor={text:{useReturnToSave:!0,editMode:"popup",getHtml:function(e,t,i,n){if(void 0!==i.attributes){var o,a="";for(o in i.attributes)a+=" "+o+"='"+i.attributes[o]+"'"}return'<input type="text" data-ax5grid-editor="text" value="'+n+'" '+a+">"},init:function(e,t,i,n,o){var a;return n.append(a=jQuery(this.getHtml(e,t,i,o))),this.bindUI(e,t,a,i,n,o),a.on("blur",function(){l.body.inlineEdit.deActive.call(e,"RETURN",t)}),a},bindUI:function(e,t,i,n,o,a){i.focus().select()}},money:{useReturnToSave:!0,editMode:"popup",getHtml:function(e,t,i,n){var o="";if(void 0!==i.attributes)for(var a in i.attributes)o+=" "+a+"='"+i.attributes[a]+"'";return'<input type="text" data-ax5grid-editor="money" value="'+n+'" '+o+'" />'},init:function(e,t,i,n,o){var a=void 0;return n.append(a=jQuery(this.getHtml(e,t,i,o))),this.bindUI(e,t,a,i,n,o),a.on("blur",function(){l.body.inlineEdit.deActive.call(e,"RETURN",t)}),a},bindUI:function(e,t,i,n,o,a){i.data("binded-ax5ui","ax5formater"),i.ax5formatter($.extend(!0,{pattern:"money"},n.config)),i.focus().select()}},number:{useReturnToSave:!0,editMode:"popup",getHtml:function(e,t,i,n){var o="";if(void 0!==i.attributes)for(var a in i.attributes)o+=" "+a+"='"+i.attributes[a]+"'";return'<input type="text" data-ax5grid-editor="number" value="'+n+'" '+o+'" />'},init:function(e,t,i,n,o){var a;return n.append(a=jQuery(this.getHtml(e,t,i,o))),this.bindUI(e,t,a,i,n,o),a.on("blur",function(){l.body.inlineEdit.deActive.call(e,"RETURN",t)}),a},bindUI:function(e,t,i,n,o,a){i.data("binded-ax5ui","ax5formater"),i.ax5formatter($.extend(!0,{pattern:"number"},n.config)),i.focus().select()}},date:{useReturnToSave:!0,editMode:"popup",getHtml:function(e,t,i,n){return'<input type="text" data-ax5grid-editor="calendar" value="'+n+'" >'},init:function(e,t,i,n,o){var a;return n.append(a=jQuery(this.getHtml(e,t,i,o))),this.bindUI(e,t,a,i,n,o),a},bindUI:function(e,t,i,n,o,a){var r=e;i.data("binded-ax5ui","ax5picker"),i.ax5picker($.extend(!0,{direction:"auto",content:{type:"date",formatter:{pattern:"date"}},onStateChanged:function(){"open"==this.state?this.self.activePicker.attr("data-ax5grid-inline-edit-picker","date"):"close"==this.state&&l.body.inlineEdit.deActive.call(r,"RETURN",t)}},n.config)),i.focus().select()}},select:{useReturnToSave:!1,editMode:"popup",getHtml:function(e,t,i,n){var o=[];return o.push('<div data-ax5select="ax5grid-editor" data-ax5select-config="{}">'),o.push("</div>"),o.join("")},init:function(e,t,i,n,o){var a;return n.append(a=jQuery(this.getHtml(e,t,i,o))),this.bindUI(e,t,a,i,n,o),a},bindUI:function(e,t,i,n,o,a){var r={columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}},s=(jQuery.extend(!0,r,n.config),r.options.forEach(function(e){e[r.columnKeys.optionValue]==a&&(e[r.columnKeys.optionSelected]=!0)}),e);i.data("binded-ax5ui","ax5select"),i.ax5select($.extend(!0,{tabIndex:1,direction:"auto",columnKeys:r.columnKeys,options:r.options,onStateChanged:function(){"open"==this.state?this.self.activeSelectOptionGroup.attr("data-ax5grid-inline-edit-picker","select"):"changeValue"==this.state?l.body.inlineEdit.deActive.call(s,"RETURN",t,this.value[0][r.columnKeys.optionValue]):"close"==this.state&&l.body.inlineEdit.deActive.call(s,"ESC",t)}},n.config)),i.ax5select("open"),i.ax5select("setValue",a),i.find("a").focus()}},checkbox:{editMode:"inline",getHtml:function(e,t,i){var e=e.config.body.columnHeight-2*e.config.body.columnPadding-e.config.body.columnBorderWidth,i=t.config&&t.config.trueValue?i==t.config.trueValue?"true":"false":0==i||"false"==i||i<"1"?"false":"true",n={marginTop:2,height:e-4};return jQuery.extend(!0,n,t.config),n.marginTop=(e-n.height)/2,'<div data-ax5grid-editor="checkbox" data-ax5grid-checked="'+i+'" style="height:'+n.height+"px;width:"+n.height+"px;margin-top:"+n.marginTop+'px;"></div>'}},textarea:{useReturnToSave:!1,editMode:"popup",_getHtml:function(e,t,i,n){return'<div data-ax5grid-editor="textarea"></div>'},_bindUI:function(t,i,e,n,o,a){var r=e.offset(),e={width:e.width()},s=jQuery('<div data-ax5grid-popup="textarea" style="z-index: 9999;">\n    <textarea style="width:100%;height:120px;" class="form-control">'+a+'</textarea>\n    <div style="height:30px;padding:5px;text-align: right;">\n        <button class="btn btn-default">OK</button>\n    </div>\n</div>'),a=s.find("textarea");s.css({position:"absolute",left:r.left,top:r.top,width:e.width,height:150}),s.find("textarea"),jQuery(document.body).append(s),a.focus().select(),a.on("blur",function(e){l.body.inlineEdit.deActive.call(t,"RETURN",i,this.value),s.remove(),ax5.util.stopEvent(e.originalEvent)}),a.on("keydown",function(e){e.which==ax5.info.eventKeys.ESC&&(l.body.inlineEdit.deActive.call(t,"ESC",i),s.remove(),ax5.util.stopEvent(e.originalEvent))})},init:function(e,t,i,n,o){var a;return n.append(a=jQuery(this._getHtml(e,t,i,o))),this._bindUI(e,t,a,i,n,o),a}}}}(),!function(){function t(e){function t(e){this.page.currentPage!=e&&(this.page.selectPage=e,this.config.page.onChange)&&this.config.page.onChange.call({self:this,page:this.page,data:this.data})}var i={first:function(){t.call(this,0)},prev:function(){var e=this.page.currentPage-1;t.call(this,e=e<0?0:e)},next:function(){var e=this.page.currentPage+1;e>this.page.totalPages-1&&(e=this.page.totalPages-1),t.call(this,e)},last:function(){t.call(this,this.page.totalPages-1)}};e in i?i[e].call(this):t.call(this,e-1)}var n=ax5.ui.grid,o=ax5.util;n.page={navigationUpdate:function(){var a,r,e=this;this.page?(a={hasPage:!1,currentPage:this.page.currentPage,pageSize:this.page.pageSize,totalElements:this.page.totalElements,totalPages:this.page.totalPages,firstIcon:this.config.page.firstIcon,prevIcon:this.config.page.prevIcon||"",nextIcon:this.config.page.nextIcon||"",lastIcon:this.config.page.lastIcon},r=this.config.page.navigationItemCount,a["@paging"]=function(){var e=[],t=void 0,i=void 0;(t=a.currentPage-Math.floor(r/2))<0&&(t=0);for(var n=t=(t=(i=r<(i=a.totalPages<(i=a.currentPage+r)?a.totalPages:i)-t?t+r:i)-t<r?i-r:t)<0?0:t,o=i;n<o;n++)e.push({pageNo:n+1,selected:a.currentPage==n});return e}(),0<a["@paging"].length&&(a.hasPage=!0),this.$.page.navigation.html(n.tmpl.get("page_navigation",a)),this.$.page.navigation.find("[data-ax5grid-page-move]").on("click",function(){t.call(e,this.getAttribute("data-ax5grid-page-move"))})):this.$.page.navigation.empty()},statusUpdate:function(){var e,t,i;this.config.page.statusDisplay&&(i=void 0,e=Math.min(this.xvar.dataRowCount,this.xvar.virtualPaintRowCount),(i=this.xvar.virtualPaintStartRowIndex+e)>this.xvar.dataRowCount&&(i=this.xvar.dataRowCount),(t={}).fromRowIndex=o.number(this.xvar.virtualPaintStartRowIndex+1,{money:!0}),t.toRowIndex=o.number(i,{money:!0}),t.totalElements=!1,t.dataRealRowCount=this.xvar.dataRowCount!==this.xvar.dataRealRowCount&&o.number(this.xvar.dataRealRowCount,{money:!0}),t.dataRowCount=o.number(this.xvar.dataRowCount,{money:!0}),t.progress=this.appendProgress?this.config.appendProgressIcon:"",this.page&&(t.fromRowIndex_page=o.number(this.xvar.virtualPaintStartRowIndex+this.page.currentPage*this.page.pageSize+1,{money:!0}),t.toRowIndex_page=o.number(this.xvar.virtualPaintStartRowIndex+e+this.page.currentPage*this.page.pageSize,{money:!0}),t.totalElements=o.number(this.page.totalElements,{money:!0}),t.toRowIndex_page>this.page.totalElements)&&(t.toRowIndex_page=this.page.totalElements),this.$.page.status.html(n.tmpl.get("page_status",t)))}}}(),!function(){var y=ax5.ui.grid,d=ax5.util,b={vertical:function(e,t){var i=t._content_height-t._panel_height,e=i*e.top/(t._vertical_scroller_height-t.verticalScrollBarHeight);return e<0?e=0:i<e&&(e=i),{top:-e}},horizontal:function(e,t){var i=t._content_width-t._panel_width,e=i*e.left/(t._horizontal_scroller_width-t.horizontalScrollBarWidth);return e<0?e=0:i<e&&(e=i),{left:-e}}},l={vertical:function(e,t){var i=t._content_height-t._panel_height,n=t._vertical_scroller_height-t.verticalScrollBarHeight,e=n*e/i;return n<-e&&(i=b.vertical.call(this,{top:-(e=-n)},{_content_width:t._content_width,_content_height:t._content_height,_panel_width:t._panel_width,_panel_height:t._panel_height,_horizontal_scroller_width:t._horizontal_scroller_width,_vertical_scroller_height:t._vertical_scroller_height,verticalScrollBarHeight:t.verticalScrollBarHeight,horizontalScrollBarWidth:t.horizontalScrollBarWidth}),y.body.scrollTo.call(this,i)),-e},horizontal:function(e,t){var i=t._content_width-t._panel_width,n=t._horizontal_scroller_width-t.horizontalScrollBarWidth,e=n*e/i;return n<-e&&(i=b.horizontal.call(this,{left:-(e=-n)},{_content_width:t._content_width,_content_height:t._content_height,_panel_width:t._panel_width,_panel_height:t._panel_height,_horizontal_scroller_width:t._horizontal_scroller_width,_vertical_scroller_height:t._vertical_scroller_height,verticalScrollBarHeight:t.verticalScrollBarHeight,horizontalScrollBarWidth:t.horizontalScrollBarWidth}),y.header.scrollTo.call(this,i),y.body.scrollTo.call(this,i)),-e}},w={click:function(e,t,i,n){if((new Date).getTime()-y.scroller.moveout_timer<20)return!1;var o=this,a=e.offset(),r=t.outerWidth(),s=t.outerHeight(),l=e.innerWidth(),d=e.innerHeight(),e=o.$.scroller.vertical.innerHeight(),c=o.$.panel.body.height(),u=o.$.scroller.horizontal.innerWidth(),h=o.$.panel.body.width(),p=o.xvar.scrollContentHeight,f=o.xvar.scrollContentWidth,g=o.$.scroller["vertical-bar"].outerHeight(),m=o.$.scroller["horizontal-bar"].outerWidth(),n={vertical:function(e){e=y.util.getMousePosition(e).clientY-a.top;return e<0?e=0:d<e+s&&(e=d-s),{top:e}},horizontal:function(e){e=y.util.getMousePosition(e).clientX-a.left;return e<0?e=0:l<e+r&&(e=l-r),{left:e}}}[i](n),t=(t.css(n),b[i].call(o,n,{_content_width:f,_content_height:p,_panel_width:h,_panel_height:c,_horizontal_scroller_width:u,_vertical_scroller_height:e,verticalScrollBarHeight:g,horizontalScrollBarWidth:m}));"horizontal"===i&&y.header.scrollTo.call(o,t),y.body.scrollTo.call(o,t)},on:function(e,t,i,n){var o=this,a=t.position(),r=t.outerWidth(),s=t.outerHeight(),l=e.innerWidth(),d=e.innerHeight(),c=o.$.scroller.vertical.innerHeight(),u=o.$.panel.body.height(),h=o.$.scroller.horizontal.innerWidth(),p=o.$.panel.body.width(),f=o.xvar.scrollContentHeight,g=o.xvar.scrollContentWidth,m=o.$.scroller["vertical-bar"].outerHeight(),v=o.$.scroller["horizontal-bar"].outerWidth(),x={vertical:function(e){e=y.util.getMousePosition(e),o.xvar.__da=e.clientY-o.xvar.mousePosition.clientY,e=a.top+o.xvar.__da;return e<0?e=0:d<e+s&&(e=d-s),{top:e}},horizontal:function(e){e=y.util.getMousePosition(e),o.xvar.__da=e.clientX-o.xvar.mousePosition.clientX,e=a.left+o.xvar.__da;return e<0?e=0:l<e+r&&(e=l-r),{left:e}}};o.xvar.__da=0,jQuery(document.body).bind(y.util.ENM.mousemove+".ax5grid-"+this.instanceId,function(e){e=x[i](e),t.css(e),e=b[i].call(o,e,{_content_width:g,_content_height:f,_panel_width:p,_panel_height:u,_horizontal_scroller_width:h,_vertical_scroller_height:c,verticalScrollBarHeight:m,horizontalScrollBarWidth:v});"horizontal"===i&&y.header.scrollTo.call(o,e),y.body.scrollTo.call(o,e)}).bind(y.util.ENM.mouseup+".ax5grid-"+this.instanceId,function(e){w.off.call(o,e)}).bind("mouseleave.ax5grid-"+this.instanceId,function(e){w.off.call(o,e)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(e){ax5.util.stopEvent(e.originalEvent),y.scroller.moveout_timer=(new Date).getTime(),jQuery(document.body).unbind(y.util.ENM.mousemove+".ax5grid-"+this.instanceId).unbind(y.util.ENM.mouseup+".ax5grid-"+this.instanceId).unbind("mouseleave.ax5grid-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},c={wheel:function(e){var t,i,n,o,a=this,r=a.$.panel["body-scroll"].position(),s=a.xvar.body_panel_height,l=a.xvar.body_panel_width,d=a.xvar.scrollContentHeight,c=a.xvar.scrollContentWidth;return!(isNaN(d)||isNaN(c)||(o=n=void 0,i=t=!1,n=r.left-e.x,0<=(o=r.top-e.y)?t=!(o=0):o<=s-d?(0<=(o=s-d)&&(o=0),t=!0):0==e.y&&(t=!0),0<=n?i=!(n=0):n<=l-c?(0<=(n=l-c)&&(n=0),i=!0):0==e.x&&(i=!0),y.header.scrollTo.call(a,{left:n}),y.body.scrollTo.call(a,{left:n,top:o},{callback:function(){u.call(a)}}),t&&i))},on:function(){function i(e){var e=y.util.getMousePosition(e),t=void 0,i=void 0;return n.xvar.__x_da=e.clientX-n.xvar.mousePosition.clientX,n.xvar.__y_da=e.clientY-n.xvar.mousePosition.clientY,t=o.left+n.xvar.__x_da,(0<=(i=o.top+n.xvar.__y_da)||i<=a-s&&0<=(i=a-s))&&(i=0),{left:t=0<=t||t<=r-l&&0<=(t=r-l)?0:t,top:i}}var n=this,o=n.$.panel["body-scroll"].position(),a=n.xvar.body_panel_height,r=n.xvar.body_panel_width,s=n.xvar.scrollContentHeight,l=n.xvar.scrollContentWidth;this.xvar.__x_da=0,this.xvar.__y_da=0,this.xvar.touchmoved=!1,jQuery(document.body).on("touchmove.ax5grid-"+this.instanceId,function(e){var t=i(e);u.call(n),y.header.scrollTo.call(n,{left:t.left}),y.body.scrollTo.call(n,t,{noRepaint:"noRepaint"}),d.stopEvent(e.originalEvent),n.xvar.touchmoved=!0}).on("touchend.ax5grid-"+this.instanceId,function(e){var t;n.xvar.touchmoved&&(t=i(e),u.call(n),y.header.scrollTo.call(n,{left:t.left}),y.body.scrollTo.call(n,t),d.stopEvent(e.originalEvent),c.off.call(n))}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){jQuery(document.body).off("touchmove.ax5grid-"+this.instanceId).off("touchend.ax5grid-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},u=function(){var e=this.$.scroller.vertical.height(),t=this.$.scroller.horizontal.width(),i=this.$.panel.body.height(),n=this.$.panel.body.width(),o=this.xvar.scrollContentHeight,a=this.xvar.scrollContentWidth,r=i*e/o,s=n*t/a;r<this.config.scroller.barMinSize&&(r=this.config.scroller.barMinSize),s<this.config.scroller.barMinSize&&(s=this.config.scroller.barMinSize),this.$.scroller["vertical-bar"].css({top:l.vertical.call(this,this.$.panel["body-scroll"].position().top,{_content_width:a,_content_height:o,_panel_width:n,_panel_height:i,_horizontal_scroller_width:t,_vertical_scroller_height:e,verticalScrollBarHeight:r,horizontalScrollBarWidth:s}),height:r}),this.$.scroller["horizontal-bar"].css({left:l.horizontal.call(this,this.$.panel["body-scroll"].position().left,{_content_width:a,_content_height:o,_panel_width:n,_panel_height:i,_horizontal_scroller_width:t,_vertical_scroller_height:e,verticalScrollBarHeight:r,horizontalScrollBarWidth:s}),width:s}),this.xvar.body_panel_height=i,this.xvar.body_panel_width=n,r=null};y.scroller={moveout_timer:(new Date).getTime(),init:function(){var t=this,e=this.config.scroller.trackPadding;0==e?(this.$.scroller["vertical-bar"].css({width:this.config.scroller.size,left:-1}),this.$.scroller["horizontal-bar"].css({height:this.config.scroller.size,top:-1})):(this.$.scroller["vertical-bar"].css({width:this.config.scroller.size-(e+1),left:e/2}),this.$.scroller["horizontal-bar"].css({height:this.config.scroller.size-(e+1),top:e/2})),this.$.scroller["vertical-bar"].on(y.util.ENM.mousedown,function(e){this.xvar.mousePosition=y.util.getMousePosition(e),w.on.call(this,this.$.scroller.vertical,this.$.scroller["vertical-bar"],"vertical",e)}.bind(this)).on("dragstart",function(e){return d.stopEvent(e),!1}),this.$.scroller.vertical.on("click",function(e){"vertical"==e.target.getAttribute("data-ax5grid-scroller")&&w.click.call(this,this.$.scroller.vertical,this.$.scroller["vertical-bar"],"vertical",e)}.bind(this)),this.$.scroller["horizontal-bar"].on(y.util.ENM.mousedown,function(e){this.xvar.mousePosition=y.util.getMousePosition(e),w.on.call(this,this.$.scroller.horizontal,this.$.scroller["horizontal-bar"],"horizontal",e)}.bind(this)).on("dragstart",function(e){return d.stopEvent(e),!1}),this.$.scroller.horizontal.on("click",function(e){"horizontal"==e.target.getAttribute("data-ax5grid-scroller")&&w.click.call(this,this.$.scroller.horizontal,this.$.scroller["horizontal-bar"],"horizontal",e)}.bind(this)),this.$.container.body.on("mousewheel DOMMouseScroll",function(e){var t=e.originalEvent,i={x:0,y:0};t.detail?i.y=10*t.detail:void 0===t.deltaY?(i.y=-t.wheelDelta,i.x=0):(i.y=t.deltaY,i.x=t.deltaX),c.wheel.call(this,i)&&d.stopEvent(e)}.bind(this)),ax5.info.supportTouch&&this.$.container.body.on("touchstart","[data-ax5grid-panel]",function(e){t.xvar.mousePosition=y.util.getMousePosition(e),c.on.call(t)}),this.xvar.body_panel_height=this.$.panel.body.height(),this.xvar.body_panel_width=this.$.panel.body.width()},resize:u}}(),!function(){var n=ax5.ui.grid;n.tmpl={main:function(){return'<div data-ax5grid-container="root" data-ax5grid-instance="{{instanceId}}">\n            <div data-ax5grid-container="hidden">\n                <textarea data-ax5grid-form="clipboard"></textarea>\n            </div>\n            <div data-ax5grid-container="header">\n                <div data-ax5grid-panel="aside-header"></div>\n                <div data-ax5grid-panel="left-header"></div>\n                <div data-ax5grid-panel="header">\n                    <div data-ax5grid-panel-scroll="header"></div>\n                </div>\n                <div data-ax5grid-panel="right-header"></div>\n            </div>\n            <div data-ax5grid-container="body">\n                <div data-ax5grid-panel="top-aside-body"></div>\n                <div data-ax5grid-panel="top-left-body"></div>\n                <div data-ax5grid-panel="top-body">\n                    <div data-ax5grid-panel-scroll="top-body"></div>\n                </div>\n                <div data-ax5grid-panel="top-right-body"></div>\n                <div data-ax5grid-panel="aside-body">\n                    <div data-ax5grid-panel-scroll="aside-body"></div>\n                </div>\n                <div data-ax5grid-panel="left-body">\n                    <div data-ax5grid-panel-scroll="left-body"></div>\n                </div>\n                <div data-ax5grid-panel="body">\n                    <div data-ax5grid-panel-scroll="body"></div>\n                </div>\n                <div data-ax5grid-panel="right-body">\n                  <div data-ax5grid-panel-scroll="right-body"></div>\n                </div>\n                <div data-ax5grid-panel="bottom-aside-body"></div>\n                <div data-ax5grid-panel="bottom-left-body"></div>\n                <div data-ax5grid-panel="bottom-body">\n                    <div data-ax5grid-panel-scroll="bottom-body"></div>\n                </div>\n                <div data-ax5grid-panel="bottom-right-body"></div>\n            </div>\n            <div data-ax5grid-container="page">\n                <div data-ax5grid-page="holder">\n                    <div data-ax5grid-page="navigation"></div>\n                    <div data-ax5grid-page="status"></div>\n                </div>\n            </div>\n            <div data-ax5grid-container="scroller">\n                <div data-ax5grid-scroller="vertical">\n                    <div data-ax5grid-scroller="vertical-bar"></div>    \n                </div>\n                <div data-ax5grid-scroller="horizontal">\n                    <div data-ax5grid-scroller="horizontal-bar"></div>\n                </div>\n                <div data-ax5grid-scroller="corner"></div>\n            </div>\n            <div data-ax5grid-resizer="vertical"></div>\n            <div data-ax5grid-resizer="horizontal"></div>\n        </div>'},page_navigation:function(){return'<div data-ax5grid-page-navigation="holder">\n            {{#hasPage}}\n            <div data-ax5grid-page-navigation="cell">    \n                {{#firstIcon}}<button type="button" data-ax5grid-page-move="first">{{{firstIcon}}}</button>{{/firstIcon}}\n                <button type="button" data-ax5grid-page-move="prev">{{{prevIcon}}}</button>\n            </div>\n            <div data-ax5grid-page-navigation="cell-paging">\n                {{#@paging}}\n                <button type="button" data-ax5grid-page-move="{{pageNo}}" data-ax5grid-page-selected="{{selected}}">{{pageNo}}</button>\n                {{/@paging}}\n            </div>\n            <div data-ax5grid-page-navigation="cell">\n                <button type="button" data-ax5grid-page-move="next">{{{nextIcon}}}</button>\n                {{#lastIcon}}<button type="button" data-ax5grid-page-move="last">{{{lastIcon}}}</button>{{/lastIcon}}\n            </div>\n            {{/hasPage}}\n        </div>'},page_status:function(){return"<span>{{{progress}}} {{fromRowIndex}} - {{toRowIndex}} of {{dataRowCount}} {{#totalElements}}&nbsp; Total {{.}}{{/totalElements}}</span>"},get:function(e,t,i){e=n.tmpl[e].call(this,i);return ax5.mustache.parse(e),ax5.mustache.render(e,t)}}}(),!function(){var e=ax5.ui.grid,t={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"};e.util={divideTableByFrozenColumnIndex:function(e,t){for(var i={rows:[]},n={rows:[]},o=0,a=e.rows.length;o<a;o++){var r=e.rows[o];i.rows[o]={cols:[]},n.rows[o]={cols:[]};for(var s=0,l=r.cols.length;s<l;s++){var d=jQuery.extend({},r.cols[s]),c=d.colIndex,u=d.colIndex+d.colspan;c<t?u<=t?i.rows[o].cols.push(d):(c=jQuery.extend({},d),u=jQuery.extend({},c),c.colspan=t-c.colIndex,u.colIndex=t,u.colspan=d.colspan-c.colspan,i.rows[o].cols.push(c),u.colspan&&n.rows[o].cols.push(u)):n.rows[o].cols.push(d),0}r=null}return{leftData:i,rightData:n}},getTableByStartEndColumnIndex:function(e,t,i){for(var n={rows:[]},o=0,a=e.rows.length;o<a;o++){var r=e.rows[o];n.rows[o]={cols:[]};for(var s=0,l=r.cols.length;s<l;s++){var d=jQuery.extend({},r.cols[s]),c=d.colIndex,u=d.colIndex+d.colspan;(t<=c||u<=i)&&(t<=c&&u<=i?n.rows[o].cols.push(d):c<t&&t<u?(d.colspan=u-t,n.rows[o].cols.push(d)):i<u&&c<=i&&n.rows[o].cols.push(d))}}return n},getMousePosition:function(e){var e=e.originalEvent||e;return{clientX:(e="changedTouches"in e&&e.changedTouches?e.changedTouches[0]:e).pageX,clientY:e.pageY}},ENM:t,makeHeaderTable:function(e){var d=this.config,c={rows:[]},u=0;(function e(t,i,n){for(var o={cols:[]},a=0,r=t.length,s=1;a<r;a++){var l=jQuery.extend({},t[a]),s=1;l.hidden||(l.colspan=1,l.rowspan=1,l.rowIndex=i,l.colIndex=n?(u=n.colIndex+a+1,n.colIndex+a):u++,o.cols.push(l),"columns"in l?s=e(l.columns,i+1,l):l.width="width"in l?l.width:d.columnMinWidth,l.colspan=s)}return 0<o.cols.length?(c.rows[i]||(c.rows[i]={cols:[]}),c.rows[i].cols=c.rows[i].cols.concat(o.cols),o.cols.length-1+s):s})(e,0);for(var t=0,i=c.rows.length;t<i;t++)for(var n=0,o=c.rows[t].cols.length;n<o;n++)"columns"in c.rows[t].cols[n]||(c.rows[t].cols[n].rowspan=i-t);return c},makeBodyRowTable:function(e){for(var c={rows:[]},u=0,t=(function r(e,s,l){for(var d={cols:[]},t=0,i=e.length,n=1,o=function e(t){for(var i=0,n=t.length;i<n;i++){var o=jQuery.extend({},t[i]),a=1;o.hidden||("key"in o?(o.colspan=1,o.rowspan=1,o.rowIndex=s,o.colIndex=l?(u=l.colIndex+i+1,l.colIndex+i):u++,d.cols.push(o),"columns"in o&&(a=r(o.columns,s+1,o)),o.colspan=a):"columns"in o&&e(o.columns))}};t<i;t++){var a=jQuery.extend({},e[t]),n=1;a.hidden||("key"in a?(a.colspan=1,a.rowspan=1,a.rowIndex=s,a.colIndex=l?(u=l.colIndex+t+1,l.colIndex+t):u++,d.cols.push(a),"columns"in a&&(n=r(a.columns,s+1,a)),a.colspan=n):"columns"in a&&o(a.columns)),a=null}return 0<d.cols.length?(c.rows[s]||(c.rows[s]={cols:[]}),c.rows[s].cols=c.rows[s].cols.concat(d.cols),d.cols.length-1+n):n}(e,0),c),i=0,n=t.rows.length;i<n;i++){for(var o=t.rows[i],a=0,r=o.cols.length;a<r;a++){var s=o.cols[a];"columns"in s||(s.rowspan=n-i),s=null}o=null}return c},makeBodyRowMap:function(e){var t={};return e.rows.forEach(function(e){e.cols.forEach(function(e){t[e.rowIndex+"_"+e.colIndex]=jQuery.extend({},e)})}),t},makeFootSumTable:function(e){for(var t={rows:[]},i=0,n=e.length;i<n;i++){var o=e[i],a=0;t.rows[i]={cols:[]};for(var r=0,s=o.length;r<s&&!(a>this.colGroup.length);r++){var l=o[r].colspan||1;o[r].label||o[r].key?t.rows[i].cols.push({colspan:l,rowspan:1,colIndex:a,columnAttr:"sum",align:o[r].align,label:o[r].label,key:o[r].key,collector:o[r].collector,formatter:o[r].formatter}):t.rows[i].cols.push({colIndex:a,colspan:l,rowspan:1,label:"&nbsp;"}),a+=l,0}if(a<this.colGroup.length)for(var d=a;d<this.colGroup.length;d++)t.rows[i].cols.push({colIndex:d,colspan:1,rowspan:1,label:"&nbsp;"});a=o=null}return t},makeBodyGroupingTable:function(e){var t={rows:[]},i=0;t.rows[0]={cols:[]};for(var n=0,o=e.length;n<o&&!(i>this.columns.length);n++){var a=e[n].colspan||1;e[n].label||e[n].key?t.rows[0].cols.push({colspan:a,rowspan:1,rowIndex:0,colIndex:i,columnAttr:"default",align:e[n].align,label:e[n].label,key:e[n].key,collector:e[n].collector,formatter:e[n].formatter}):t.rows[0].cols.push({rowIndex:0,colIndex:i,colspan:a,rowspan:1,label:"&nbsp;"}),i+=a}if(i<this.colGroup.length)for(var r=i;r<this.colGroup.length;r++)t.rows[0].cols.push({rowIndex:0,colIndex:r,colspan:1,rowspan:1,label:"&nbsp;"});return t},findPanelByColumnIndex:function(e,t,i){var n=void 0,o=!1,a=[];return this.xvar.frozenRowIndex>e&&a.push("top"),this.xvar.frozenColumnIndex>t&&a.push("left"),a.push("body"),(this.xvar.frozenColumnIndex<=t||this.xvar.frozenRowIndex<=e)&&(n=a.join("-"),a.push("scroll"),o=!0),{panelName:a.join("-"),containerPanelName:n,isScrollPanel:o}},getRealPathForDataItem:function(e){var t=[];return[].concat(e.split(/[\.\[\]]/g)).forEach(function(e){""!==e&&t.push('["'+e.replace(/['\"]/g,"")+'"]')}),t.join("")}}}(),!function(){var e=ax5.ui,T=ax5.util,N=void 0;e.addClass({className:"combobox"},function(){function r(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),"changeValue"==t.state&&(e&&e.onChange?e.onChange.call(t,t):this.onChange&&this.onChange.call(t,t)),!(t=e=null)}function s(e){var t=this.queue[e];t.$displayLabel.find("[data-ax5combobox-selected-label]").remove(),t.$displayLabelInput.before(x.call(this,e))}function l(e){if(this.queue[e].disabled)return this;this.queue[e].$displayLabel.trigger("focus"),this.queue[e].$displayLabelInput.focus()}function a(e){this.queue[e].$displayLabelInput.val("")}function o(e){this.queue[e].$displayLabel.trigger("blur"),this.queue[e].$displayLabelInput.trigger("blur")}function d(e){if(e instanceof jQuery?e=e.data("data-ax5combobox-id"):T.isString(e)||(e=jQuery(e).data("data-ax5combobox-id")),T.isString(e))return T.search(this.queue,function(){return this.id==e});console.log(ax5.info.getError("ax5combobox","402","getQueIdx"))}function c(e,t,i){return void 0===i?!e.multiple||!t:i}function u(e){this.queue[e].options.forEach(function(e){e.optgroup?e.options.forEach(function(e){e.selected=!1}):e.selected=!1})}var h,p,f=this,g=(this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,removeIcon:"X",lang:{noSelected:"",noOptions:"no options",loading:"now loading.."},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}},this.queue=[],this.activecomboboxOptionGroup=null,this.activecomboboxQueueIndex=-1,this.openTimer=null,this.closeTimer=null,this.waitOptionsCallback=null,this.keyUpTimer=null,h=this.config,jQuery(window)),m=function(){for(var e=this.queue.length;e--;){var t,i,n,o=this.queue[e];o.$display&&(n=Math.max(o.$select.outerWidth(),T.number(o.minWidth)),o.$display.css({"min-width":n}),o.reset&&o.$display.find(".addon-icon-reset").css({"line-height":this.queue[e].$display.height()+"px"}),o.multiple)&&(t=function(){return T.number(o.$display.css("border-top-width"))+T.number(o.$display.css("border-bottom-width"))}.call(this),o.$target.height(""),o.$display.height(""),i=o.$displayTable.outerHeight(),Math.abs(i-o.$target.height())>t)&&(o.$target.css({height:i+t+4}),o.$display.css({height:i+t+4}))}return n=e=null,this},v=function(e){if(!this.activecomboboxOptionGroup)return this;var t,i,n,o,a=this.queue[this.activecomboboxQueueIndex];e&&jQuery(document.body).append(this.activecomboboxOptionGroup),t=a.$target.offset(),i={width:a.$target.outerWidth(),height:a.$target.outerHeight()},n={winWidth:Math.max(g.width(),jQuery(document.body).width()),winHeight:Math.max(g.height(),jQuery(document.body).height()),width:this.activecomboboxOptionGroup.outerWidth(),height:this.activecomboboxOptionGroup.outerHeight()},a.direction&&""!==a.direction&&"auto"!==a.direction?o=a.direction:(o="top",t.top-n.height<0?o="top":t.top+i.height+n.height+0>n.winHeight&&(o="bottom")),e&&this.activecomboboxOptionGroup.addClass("direction-"+o),this.activecomboboxOptionGroup.css(function(){var e;return"top"==o?t.top+i.height+n.height+0>n.winHeight?(e=t.top+i.height/2-n.height/2,{left:t.left,top:e=(e=n.winHeight<e+n.height+0?0:e)<0?0:e,width:i.width}):{left:t.left,top:t.top+i.height+1,width:i.width}:"bottom"==o?{left:t.left,top:t.top-n.height-1,width:i.width}:void 0}.call(this))},x=function(e){var e=this.queue[e],t={};return t.id=e.id,t.theme=e.theme,t.size="ax5combobox-option-group-"+e.size,t.multiple=e.multiple,t.lang=e.lang,t.options=e.options,t.selected=e.selected,t.hasSelected=t.selected&&0<t.selected.length,t.removeIcon=e.removeIcon,N.tmpl.get.call(this,"label",t,e.columnKeys)},y=function(e,t){this.queue[e].waitOptions=!0,this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(N.tmpl.get.call(this,"option",this.queue[e],this.queue[e].columnKeys))),this.queue[e].onSearch.call({self:this,item:this.queue[e],searchWord:t},function(e){var i,t,n,o={},a=this.queue[this.activecomboboxQueueIndex];if(!a)return!1;i=a,n={},(t=e).options.forEach(function(e,t){e["@index"]=t,n[e[i.columnKeys.optionValue]]=e}),T.isArray(i.selected)&&i.selected.forEach(function(e){n[e[i.columnKeys.optionValue]]&&(t.options[n[e[i.columnKeys.optionValue]]["@index"]][i.columnKeys.optionSelected]=!0)}),a.options=C.call(this,this.activecomboboxQueueIndex,e.options),m.call(this),o.id=a.id,o.theme=a.theme,o.size="ax5combobox-option-group-"+a.size,o.multiple=a.multiple,o.lang=a.lang,o.options=a.options,this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(N.tmpl.get.call(this,"options",o,a.columnKeys)))}.bind(this))},b=function(e){this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.find("[data-option-focus-index]").removeClass("hover").removeAttr("data-option-selected"),this.queue[e].optionFocusIndex=-1},w=function(e,t,i){var n,o,a,r,s=this.queue[e];if(this.activecomboboxOptionGroup&&s.options&&0<s.options.length){if(void 0!==i?n=i:-1==(e=-1==s.optionFocusIndex?s.optionSelectedIndex||-1:s.optionFocusIndex)||(n=e+t)<0?n=0:s.optionItemLength-1<n&&(n=s.optionItemLength-1),s.optionFocusIndex=n,s.options[n]&&s.options[n].hide){if(void 0===t)return this;for(;s.options[n].hide;){if((n+=t)<0){n=0;break}if(n>s.optionItemLength-1){n=s.optionItemLength-1;break}}}void 0!==n&&(this.activecomboboxOptionGroup.find("[data-option-focus-index]").removeClass("hover"),i=this.activecomboboxOptionGroup.find('[data-option-focus-index="'+n+'"]').addClass("hover"),e=this.activecomboboxOptionGroup.find('[data-els="content"]'),i.get(0))&&(o=i.outerHeight(),(a=e.innerHeight())+(r=e.scrollTop())<(i=i.position().top+e.scrollTop())+o?e.scrollTop(i+o-a):i<r&&e.scrollTop(i),void 0!==t)&&s.$displayLabelInput.val(s.options[n].text)}},C=function(n,e){var o,t,a,r=this.queue[n],s=0;return k.call(this,n,!1),e?(r.options=e,r.indexedOptions=[],(o=[]).push('<option value=""></option>'),r.options.forEach(function(e,i){e.optgroup?(e["@gindex"]=i,e.options.forEach(function(e,t){e["@index"]=t,e["@findex"]=s,o.push('<option value="'+e[r.columnKeys.optionValue]+'" '+(e[r.columnKeys.optionSelected]?' selected="selected"':"")+">"+e[r.columnKeys.optionText]+"</option>"),e[r.columnKeys.optionSelected]&&k.call(f,n,e),r.indexedOptions.push({"@gindex":i,"@index":t,"@findex":s,value:e[r.columnKeys.optionValue],text:e[r.columnKeys.optionText]}),s++})):(e["@index"]=i,e["@findex"]=s,o.push('<option value="'+e[r.columnKeys.optionValue]+'" '+(e[r.columnKeys.optionSelected]?' selected="selected"':"")+">"+e[r.columnKeys.optionText]+"</option>"),e[r.columnKeys.optionSelected]&&k.call(f,n,e),r.indexedOptions.push({"@index":i,"@findex":s,value:e[r.columnKeys.optionValue],text:e[r.columnKeys.optionText]}),s++)}),r.optionItemLength=s,r.$select.html(o.join(""))):(r.$select.get(0).options&&r.$select.get(0).options.length&&(r.$select.get(0).options[0].selected=!1),t=T.toArray(r.$select.get(0).options),a=[],t.forEach(function(e,t){var i={};i[r.columnKeys.optionValue]=e.value,i[r.columnKeys.optionText]=e.text,i[r.columnKeys.optionSelected]=e.selected,i["@index"]=t,i["@findex"]=s,e.selected&&k.call(f,n,i),a.push(i),s++}),r.options=a,r.indexedOptions=a,r.$select.prepend('<option value=""></option>'),r.$select.get(0).options[0].selected=!0),a=t=o=null,r.options},_=(p={index:function(e,t,i,n){var o=this.queue[e];T.isString(t.index.gindex)?void 0!==o.options[t.index.gindex]&&(o.options[t.index.gindex].options[t.index.index][o.columnKeys.optionSelected]=c(o,o.options[t.index.gindex].options[t.index.index][o.columnKeys.optionSelected],i),f.activecomboboxOptionGroup)&&f.activecomboboxOptionGroup.find('[data-option-group-index="'+t.index.gindex+'"][data-option-index="'+t.index.index+'"]').attr("data-option-Selected",o.options[t.index.gindex].options[t.index.index][o.columnKeys.optionSelected].toString()):void 0!==o.options[t.index.index]&&(o.options[t.index.index][o.columnKeys.optionSelected]=c(o,o.options[t.index.index][o.columnKeys.optionSelected],i),f.activecomboboxOptionGroup)&&f.activecomboboxOptionGroup.find('[data-option-index="'+t.index.index+'"]').attr("data-option-Selected",o.options[t.index.index][o.columnKeys.optionSelected].toString()),void 0!==n&&"justSetValue"===n||(C.call(this,e,o.options),v.call(this))},arr:function(i,e,n,t){e.forEach(function(e){if(T.isString(e)||T.isNumber(e))p.text.call(f,i,e,n,"justSetValue");else for(var t in p)if(e[t]){p[t].call(f,i,e,n,"justSetValue");break}}),C.call(this,i,this.queue[i].options),v.call(this)},value:function(e,t,i,n){var o,a=this.queue[e],r=T.search(a.options,function(){return this[a.columnKeys.optionValue]==t[a.columnKeys.optionValue]});-1<r||((o={"@index":r=a.options.length,hide:!0,addedOption:!0})[a.columnKeys.optionValue]=t,o[a.columnKeys.optionText]=t,a.options.push(o)),a.options[r][a.columnKeys.optionSelected]=c(a,a.options[r][a.columnKeys.optionSelected],i),void 0!==n&&"justSetValue"===n||(C.call(this,e,this.queue[e].options),v.call(this))},text:function(e,t,i,n){var o,a=this.queue[e],r=T.search(a.options,function(){return this[a.columnKeys.optionText]==t});-1<r||((o={"@index":r=a.options.length,hide:!0,addedOption:!0})[a.columnKeys.optionValue]=t,o[a.columnKeys.optionText]=t,a.options.push(o)),a.options[r][a.columnKeys.optionSelected]=c(a,a.options[r][a.columnKeys.optionSelected],i),void 0!==n&&"justSetValue"===n||(C.call(this,e,this.queue[e].options),v.call(this))},clear:function(e){u.call(this,e),C.call(this,e,this.queue[e].options),b.call(this,e),this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.find("[data-option-index]").attr("data-option-Selected","false"),this.queue[e].optionSelectedIndex=-1}},function(e,t,i,n){var o=T.isNumber(e)?e:d.call(this,e);if(-1!==o){if(void 0===t)throw"error not found value";if(T.isArray(t))p.clear.call(this,o),p.arr.call(this,o,this.queue[o].multiple||0==t.length?t:[t[t.length-1]],i);else if(T.isString(t)||T.isNumber(t))null==t||this.queue[o].multiple||u.call(this,o),p.text.call(this,o,t,i,"justSetValue");else if(null===t)p.clear.call(this,o);else for(var a in this.queue[o].multiple||u.call(this,o),p)if(t[a]){p[a].call(this,o,t,i,"justSetValue");break}return C.call(this,o,this.queue[o].options),s.call(this,o),l.call(this,o),void 0!==t&&n&&!n.noStateChange&&r.call(this,this.queue[o],{self:this,item:this.queue[o],state:"changeValue",value:this.queue[o].selected}),e=null,this}console.log(ax5.info.getError("ax5combobox","402","val"))});function k(e,t){t?this.queue[e].selected.push(jQuery.extend({},t)):this.queue[e].selected=[]}function I(e){e.onExpand.call({self:this,item:e},function(e){var t,i,n,o,a;this.waitOptionsCallback&&(t={},i=this.queue[this.activecomboboxQueueIndex],n=i,a={},(o=e).options.forEach(function(e,t){e["@index"]=t,a[e[n.columnKeys.optionValue]]=e}),T.isArray(n.selected)&&n.selected.forEach(function(e){a[e[n.columnKeys.optionValue]]&&(o.options[a[e[n.columnKeys.optionValue]]["@index"]][n.columnKeys.optionSelected]=!0)}),i.options=C.call(this,this.activecomboboxQueueIndex,e.options),s.call(this,this.activecomboboxQueueIndex),m.call(this),t.id=i.id,t.theme=i.theme,t.size="ax5combobox-option-group-"+i.size,t.multiple=i.multiple,t.lang=i.lang,t.options=i.options,this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(N.tmpl.get.call(this,"options",t,i.columnKeys))))}.bind(this))}this.init=function(){this.onStateChanged=h.onStateChanged,this.onChange=h.onChange,jQuery(window).on("resize.ax5combobox-display-"+this.instanceId,function(){m.call(this)}.bind(this))},this.bind=function(i){n=T.debounce(function(e){if(-1==this.activecomboboxQueueIndex)return this;!function(e,t){if(-1==this.activecomboboxQueueIndex)return this;var i,n=[],o=-1,a=this.queue[e].indexedOptions.length-1;if(""!=t){if(t=t.replace(/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi,""),this.queue[e].onSearch){y.call(this,e,t);try{return n}finally{i=a=o=n=null}}for(;a-o++;){if((""+(i=this.queue[e].indexedOptions[o]).text).toLowerCase()==t.toLowerCase()){n=[{"@findex":i["@findex"],optionsSort:0}];break}var r=(""+i.text).toLowerCase().search(t.toLowerCase());if(-1<r&&(n.push({"@findex":i["@findex"],optionsSort:r}),2<n.length))break;0}n.sort(function(e,t){return e.optionsSort-t.optionsSort})}n&&0<n.length?w.call(this,e,void 0,n[0]["@findex"]):b.call(this,e);try{return n}finally{a=o=n=null}}.call(f,e,this.queue[e].$displayLabelInput.val())},150),o={click:function(e,t){var i,n=T.findParentNode(t.target,function(e){return e.getAttribute("data-ax5combobox-remove")?(i="optionItemRemove",!0):e.getAttribute("data-selected-clear")?(i="clear",!0):void 0});if(n){if("optionItemRemove"===i)return n=n.getAttribute("data-ax5combobox-remove-index"),n=this.queue[e].selected[n],_.call(this,e,{index:{gindex:n["@gindex"],index:n["@index"]}},!1,!0),m.call(this),v.call(this),l.call(this,e),T.stopEvent(t),this;"clear"===i&&(_.call(this,e,{clear:!0}),m.call(this),v.call(this),l.call(this,e))}else f.activecomboboxQueueIndex==e?-1==this.queue[e].optionFocusIndex&&f.close():(f.open(e),l.call(this,e))},keyUp:function(e,t){if(t.which==ax5.info.eventKeys.ESC&&-1===f.activecomboboxQueueIndex)return T.stopEvent(t),this;f.activecomboboxQueueIndex!=e&&(f.open(e),T.stopEvent(t));var i;!{40:"KEY_DOWN",38:"KEY_UP"}[t.which]&&(t.which==ax5.info.eventKeys.BACKSPACE&&""==this.queue[e].$displayLabelInput.val()?(0<this.queue[e].selected.length&&(i=this.queue[e].selected[this.queue[e].selected.length-1],_.call(this,e,{index:{gindex:i["@gindex"],index:i["@index"]}},!1,!0)),m.call(this),v.call(this),T.stopEvent(t)):n.call(this,e))},keyDown:function(e,t){t.which==ax5.info.eventKeys.ESC?(a.call(this,e),this.close(),T.stopEvent(t)):t.which==ax5.info.eventKeys.RETURN?(_.call(this,i.id,{index:{gindex:i.indexedOptions[i.optionFocusIndex]["@gindex"],index:i.indexedOptions[i.optionFocusIndex]["@index"]}},void 0,!0),a.call(this,e),m.call(this),this.close(),T.stopEvent(t)):t.which==ax5.info.eventKeys.DOWN?(w.call(this,e,1),T.stopEvent(t)):t.which==ax5.info.eventKeys.UP&&(w.call(this,e,-1),T.stopEvent(t))},focus:function(e,t){},blur:function(e,t){!function(e){a.call(this,e)}.call(this,e),T.stopEvent(t)},selectChange:function(e,t){_.call(this,e,{value:this.queue[e].$select.val()},!0)}};var n,o,e,t=function(e){var t=this.queue[e],i={};return t.selected=[],t.$display?t.$displayLabel.html(x.call(this,e)):(i.instanceId=this.instanceId,i.id=t.id,i.name=t.name,i.theme=t.theme,i.tabIndex=t.tabIndex,i.multiple=t.multiple,i.reset=t.reset,i.label=x.call(this,e),i.formSize=t.size?"input-"+t.size:"",t.$display=jQuery(N.tmpl.get.call(this,"comboboxDisplay",i,t.columnKeys)),t.$displayTable=t.$display.find('[data-els="display-table"]'),t.$displayLabel=t.$display.find('[data-ax5combobox-display="label"]'),t.$displayLabelInput=t.$display.find('[data-ax5combobox-display="input"]'),t.$target.find("select").get(0)?(t.$select=t.$target.find("select"),t.$select.attr("tabindex","-1").attr("class","form-control "+i.formSize),i.name&&t.$select.attr("name","name"),i.multiple&&t.$select.attr("multiple","multiple")):(t.$select=jQuery(N.tmpl.get.call(this,"formSelect",i,t.columnKeys)),t.$target.append(t.$select)),t.$target.append(t.$display)),t.options=C.call(this,e,t.options),m.call(this),t.$display.off("click.ax5combobox").on("click.ax5combobox",o.click.bind(this,e)),t.$displayLabelInput.off("focus.ax5combobox").on("focus.ax5combobox",o.focus.bind(this,e)).off("blur.ax5combobox").on("blur.ax5combobox",o.blur.bind(this,e)).off("keyup.ax5combobox").on("keyup.ax5combobox",o.keyUp.bind(this,e)).off("keydown.ax5combobox").on("keydown.ax5combobox",o.keyDown.bind(this,e)),t.$select.off("change.ax5combobox").on("change.ax5combobox",o.selectChange.bind(this,e)),e=t=i=null,this};return(i=jQuery.extend(!0,{},h,i)).target?(i.$target=jQuery(i.target),i.id||(i.id=i.$target.data("data-ax5combobox-id")),i.id||(i.id="ax5combobox-"+ax5.getGuid(),i.$target.data("data-ax5combobox-id",i.id)),i.name=i.$target.attr("data-ax5combobox"),i.options&&(i.options=JSON.parse(JSON.stringify(i.options))),e=T.parseJson(i.$target.attr("data-ax5combobox-config"),!0),T.isObject(e)&&!e.error&&(i=jQuery.extend(!0,i,e)),-1===(e=T.search(this.queue,function(){return this.id==i.id}))?(this.queue.push(i),t.call(this,this.queue.length-1)):(this.queue[e]=jQuery.extend(!0,{},this.queue[e],i),t.call(this,e)),0):console.log(ax5.info.getError("ax5combobox","401","bind")),this},this.open=function(e,t){this.waitOptionsCallback=null;var i,n,o=T.isNumber(e)?e:d.call(this,e),e=this.queue[o],a={};return e.$display.attr("disabled")||(this.openTimer&&clearTimeout(this.openTimer),this.activecomboboxOptionGroup?this.activecomboboxQueueIndex==o||2<t||(this.close(),this.openTimer=setTimeout(function(){this.open(o,(t||0)+1)}.bind(this),h.animateTime)):(e.optionFocusIndex=-1,e.selected&&0<e.selected.length&&(e.optionSelectedIndex=e.selected[0]["@findex"]),a.id=e.id,a.theme=e.theme,a.size="ax5combobox-option-group-"+e.size,a.multiple=e.multiple,a.lang=e.lang,e.$display.attr("data-combobox-option-group-opened","true"),e.onExpand&&(a.waitOptions=!0),a.options=T.filter(e.options,function(){return!this.hide}),this.activecomboboxOptionGroup=jQuery(N.tmpl.get.call(this,"optionGroup",a,e.columnKeys)),this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(N.tmpl.get.call(this,"options",a,e.columnKeys))),this.activecomboboxQueueIndex=o,v.call(this,"append"),jQuery(window).on("resize.ax5combobox-"+this.instanceId,function(){v.call(this)}.bind(this)),e.selected&&0<e.selected.length&&(n=this.activecomboboxOptionGroup.find('[data-option-index="'+e.selected[0]["@index"]+'"]')).get(0)&&(i=n.position().top-this.activecomboboxOptionGroup.height()/3,this.activecomboboxOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:i},e.animateTime,"swing",function(){})),jQuery(window).on("click.ax5combobox-"+this.instanceId,function(e){e=e||window.event,function(e,t){var i,n;return this.activecomboboxOptionGroup&&(i=this.queue[this.activecomboboxQueueIndex],n="display",(t=T.findParentNode(e.target,function(e){return e.getAttribute("data-option-value")?(n="optionItem",!0):i.$target.get(0)==e?(n="display",!0):void 0}))?"optionItem"===n&&(_.call(this,i.id,{index:{gindex:t.getAttribute("data-option-group-index"),index:t.getAttribute("data-option-index")}},void 0,!0),m.call(this),v.call(this),i.multiple||this.close()):this.close()),this}.call(this,e),T.stopEvent(e)}.bind(this)),r.call(this,e,{self:this,state:"open",item:e}),e.onExpand&&(this.waitOptionsCallback=!0,I.call(this,e)),n=i=a=null)),this},this.update=function(e){return this.bind(e),this},this.setValue=function(e,t,i){var n,e=T.isNumber(e)?e:d.call(this,e);if(-1!==e)return u.call(this,e),T.isArray(t)?(n=T.map(t,function(){return{value:this}}),_.call(this,e,n,i||!0,{noStateChange:!0})):T.isString(t)||T.isNumber(t)?_.call(this,e,{value:t},i||!0,{noStateChange:!0}):s.call(this,e),o.call(this,e),m.call(this),this;console.log(ax5.info.getError("ax5combobox","402","val"))},this.setText=function(e,t,i){e=T.isNumber(e)?e:d.call(this,e);if(-1!==e)return u.call(this,e),_.call(this,e,t,!0,{noStateChange:!0}),o.call(this,e),m.call(this),this;console.log(ax5.info.getError("ax5combobox","402","val"))},this.getSelectedOption=function(e){e=T.isNumber(e)?e:d.call(this,e);if(-1!==e)return T.deepCopy(this.queue[e].selected);console.log(ax5.info.getError("ax5combobox","402","val"))},this.close=function(e){return this.closeTimer&&clearTimeout(this.closeTimer),this.activecomboboxOptionGroup&&((e=this.queue[this.activecomboboxQueueIndex]).optionFocusIndex=-1,e.$display.removeAttr("data-combobox-option-group-opened").trigger("focus"),e.$displayLabel.attr("contentEditable","false"),this.activecomboboxOptionGroup.addClass("destroy"),jQuery(window).off("resize.ax5combobox-"+this.instanceId).off("click.ax5combobox-"+this.instanceId).off("keyup.ax5combobox-"+this.instanceId),this.closeTimer=setTimeout(function(){this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.remove(),this.activecomboboxOptionGroup=null,this.activecomboboxQueueIndex=-1,r.call(this,e,{self:this,state:"close"})}.bind(this),h.animateTime),this.waitOptionsCallback=null),this},this.blur=function(e){e=T.isNumber(e)?e:d.call(this,e);if(-1!==e)return o.call(this,e),this;console.log(ax5.info.getError("ax5combobox","402","val"))},this.enable=function(e){e=d.call(this,e);return void 0!==e&&(this.queue[e].disabled=!1,this.queue[e].$display[0]&&(this.queue[e].$display.removeAttr("disabled"),this.queue[e].$displayLabelInput.removeAttr("disabled")),this.queue[e].$select[0]&&this.queue[e].$select.removeAttr("disabled"),r.call(this,this.queue[e],{self:this,state:"enable"})),this},this.disable=function(e){e=d.call(this,e);return void 0!==e&&(this.queue[e].disabled=!0,this.queue[e].$display[0]&&(this.queue[e].$display.attr("disabled","disabled"),this.queue[e].$displayLabelInput.attr("disabled","disabled")),this.queue[e].$select[0]&&this.queue[e].$select.attr("disabled","disabled"),r.call(this,this.queue[e],{self:this,state:"disable"})),this},this.align=function(){return m.call(this),this},this.clear=function(e){e=T.isNumber(e)?e:d.call(this,e);if(-1!==e)return u.call(this,e),_.call(this,e,[],!1,{noStateChange:!1}),s.call(this,e),o.call(this,e),m.call(this),this;console.log(ax5.info.getError("ax5combobox","402","clear"))},this.main=function(){arguments&&T.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)}),N=ax5.ui.combobox}(),!function(){var n=ax5.ui.combobox;n.tmpl={comboboxDisplay:function(e){return'\n<div class="form-control {{formSize}} ax5combobox-display {{theme}}" \ndata-ax5combobox-display="{{id}}" data-ax5combobox-instance="{{instanceId}}">\n    <div class="ax5combobox-display-table" data-els="display-table">\n        <div data-ax5combobox-display="label-holder"> \n            <a {{^tabIndex}}{{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}\n            data-ax5combobox-display="label"\n            spellcheck="false"><input type="text"data-ax5combobox-display="input" style="border:0 none;" /></a>\n        </div>\n        <div data-ax5combobox-display="addon"> \n            {{#multiple}}{{#reset}}\n            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n            {{/reset}}{{/multiple}}\n            {{#icons}}\n            <span class="addon-icon-closed">{{clesed}}</span>\n            <span class="addon-icon-opened">{{opened}}</span>\n            {{/icons}}\n            {{^icons}}\n            <span class="addon-icon-closed"><span class="addon-icon-arrow"></span></span>\n            <span class="addon-icon-opened"><span class="addon-icon-arrow"></span></span>\n            {{/icons}}\n        </div>\n    </div>\n</div>\n        '},formSelect:function(e){return'\n            <select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" {{#multiple}}multiple="multiple"{{/multiple}}></select>\n        '},formSelectOptions:function(e){return'\n{{#selected}}\n<option value="{{'+e.optionValue+'}}" selected="true">{{'+e.optionText+"}}</option>\n{{/selected}}\n"},optionGroup:function(e){return'\n            <div class="ax5combobox-option-group {{theme}} {{size}}" data-ax5combobox-option-group="{{id}}">\n                <div class="ax-combobox-body">\n                    <div class="ax-combobox-option-group-content" data-els="content"></div>\n                </div>\n                <div class="ax-combobox-arrow"></div> \n            </div>\n        '},options:function(e){return'\n            {{#waitOptions}}\n                <div class="ax-combobox-option-item">\n                        <div class="ax-combobox-option-item-holder">\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">\n                                {{{lang.loading}}}\n                            </span>\n                        </div>\n                    </div>\n            {{/waitOptions}}\n            {{^waitOptions}}\n                {{#options}}\n                    {{#optgroup}}\n                        <div class="ax-combobox-option-group">\n                            <div class="ax-combobox-option-item-holder">\n                                <span class="ax-combobox-option-group-label">\n                                    {{{.}}}\n                                </span>\n                            </div>\n                            {{#options}}\n                            {{^hide}}\n                            <div class="ax-combobox-option-item" data-option-focus-index="{{@findex}}" data-option-group-index="{{@gindex}}" data-option-index="{{@index}}" \n                            data-option-value="{{'+e.optionValue+'}}" \n                            {{#'+e.optionSelected+'}}data-option-selected="true"{{/'+e.optionSelected+'}}>\n                                <div class="ax-combobox-option-item-holder">\n                                    {{#multiple}}\n                                    <span class="ax-combobox-option-item-cell ax-combobox-option-item-checkbox">\n                                        <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                                    </span>\n                                    {{/multiple}}\n                                    <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">{{'+e.optionText+'}}</span>\n                                </div>\n                            </div>\n                            {{/hide}}\n                            {{/options}}\n                        </div>                            \n                    {{/optgroup}}\n                    {{^optgroup}}\n                    {{^hide}}\n                    <div class="ax-combobox-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+e.optionValue+'}}" {{#'+e.optionSelected+'}}data-option-selected="true"{{/'+e.optionSelected+'}}>\n                        <div class="ax-combobox-option-item-holder">\n                            {{#multiple}}\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-checkbox">\n                                <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                            </span>\n                            {{/multiple}}\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">{{'+e.optionText+'}}</span>\n                        </div>\n                    </div>\n                    {{/hide}}\n                    {{/optgroup}}\n                {{/options}}\n                {{^options}}\n                    <div class="ax-combobox-option-item">\n                        <div class="ax-combobox-option-item-holder">\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">\n                                {{{lang.noOptions}}}\n                            </span>\n                        </div>\n                    </div>\n                {{/options}}\n            {{/waitOptions}}\n        '},label:function(e){return'{{#selected}}<div tabindex="-1" data-ax5combobox-selected-label="{{@i}}" data-ax5combobox-selected-text="{{text}}"><div data-ax5combobox-remove="true" \ndata-ax5combobox-remove-index="{{@i}}">{{{removeIcon}}}</div><span>{{'+e.optionText+"}}</span></div>{{/selected}}"},get:function(e,t,i){return ax5.mustache.render(n.tmpl[e].call(this,i),t)}}}(),!function(){var e=ax5.ui.combobox;e.util={nodeTypeProcessor:{1:function(e,t,i){var n,o,a=this.config,r=t,r=((r=$(t).find("span").get(0)?$(t).find("span").get(0):r).textContent||r.innerText).replace(/^[\s\r\n\t]*|[\s\r\n\t]*$/g,""),e=this.queue[e];return e.selected&&0<e.selected.length&&t.getAttribute("data-ax5combobox-selected-text")==r?(n=t.getAttribute("data-ax5combobox-selected-label"),{index:{gindex:(n=e.selected[n])["@gindex"],index:n["@index"],value:n[a.columnKeys.optionValue]}}):t.getAttribute("data-ax5combobox-selected-text")?r:""!=r?i?r:(-1<e.optionFocusIndex&&(o=this.activecomboboxOptionGroup.find('[data-option-focus-index="'+e.optionFocusIndex+'"]')),-1<e.optionFocusIndex&&o.get(0)&&o.attr("data-option-value")?{index:{gindex:o.attr("data-option-group-index"),index:o.attr("data-option-index")}}:e.editable?r:void 0):void 0},3:function(e,t,i){this.config;var n,t=(t.textContent||t.innerText).replace(/^[\s\r\n\t]*|[\s\r\n\t]*$/g,""),e=this.queue[e];if(""!=t)return i?t:(-1<e.optionFocusIndex&&(n=this.activecomboboxOptionGroup.find('[data-option-focus-index="'+e.optionFocusIndex+'"]')),-1<e.optionFocusIndex&&n.get(0)&&n.attr("data-option-value")?{index:{gindex:n.attr("data-option-group-index"),index:n.attr("data-option-index")}}:e.editable?t:void 0)}}}}(),ax5.ui.combobox_instance=new ax5.ui.combobox,jQuery.fn.ax5combobox=function(e){if(ax5.util.isString(arguments[0]))switch(arguments[0]){case"open":return ax5.ui.combobox_instance.open(this);case"close":return ax5.ui.combobox_instance.close(this);case"setValue":return ax5.ui.combobox_instance.setValue(this,arguments[1],arguments[2],arguments[3],arguments[4]||"justSetValue");case"setText":return ax5.ui.combobox_instance.setText(this,arguments[1],arguments[2],arguments[3],arguments[4]||"justSetValue");case"getSelectedOption":return ax5.ui.combobox_instance.getSelectedOption(this);case"enable":return ax5.ui.combobox_instance.enable(this);case"disable":return ax5.ui.combobox_instance.disable(this);case"blur":return ax5.ui.combobox_instance.blur(this);case"clear":return ax5.ui.combobox_instance.clear(this);default:return this}else void 0===e&&(e={}),jQuery.each(this,function(){e=jQuery.extend({},e,{target:this}),ax5.ui.combobox_instance.bind(e)});return this},!function(){var e=ax5.ui,w=ax5.util;e.addClass({className:"layout"},function(){function a(e){return{clientX:(e="changedTouches"in e.originalEvent&&e.changedTouches?e.originalEvent.changedTouches[0]:e).clientX,clientY:e.clientY}}function r(e,t){if("*"!=e)return"%"==w.right(e,1)?t*w.number(e)/100:Number(e)}var i,n,s,l,o,d,c,u=this,h={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},p=(this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,splitter:{size:1},autoResize:!0},this.queue=[],this.openTimer=null,this.closeTimer=null,this.resizer=null,i=this.config,function(e,t){return t?t.__width+(t.split?e.splitter.size:0):0}),f=function(e,t){return t?t.__height+(t.split?e.splitter.size:0):0},g=(s={split:{horizontal:function(e,t,i){t.splitter?t.__height=e.splitter.size:i==e.splitPanel.length-1&&0==e.splitPanel.asteriskLength?(t.height="*",t.__height=void 0,e.splitPanel.asteriskLength++):"*"==t.height&&e.splitPanel.asteriskLength++},vertical:function(e,t,i){t.splitter?t.__width=e.splitter.size:i==e.splitPanel.length-1&&0==e.splitPanel.asteriskLength?(t.width="*",t.__width=void 0,e.splitPanel.asteriskLength++):"*"==t.width&&e.splitPanel.asteriskLength++}}},l={top:function(e,t){t.$target.css({height:t.__height||0}),t.split&&t.$splitter.css({height:e.splitter.size,top:t.__height||0})},bottom:function(e,t){t.$target.css({height:t.__height||0}),t.split&&t.$splitter.css({height:e.splitter.size,bottom:t.__height||0})},left:function(e,t){var i={width:t.__width||0,height:e.targetDimension.height};e.dockPanel.top&&(i.height-=e.dockPanel.top.__height,i.top=e.dockPanel.top.__height,e.dockPanel.top.split)&&(i.height-=e.splitter.size,i.top+=e.splitter.size),e.dockPanel.bottom&&(i.height-=e.dockPanel.bottom.__height,e.dockPanel.bottom.split)&&(i.height-=e.splitter.size),t.$target.css(i),t.split&&t.$splitter.css({width:e.splitter.size,height:i.height,top:i.top,left:i.width})},right:function(e,t){var i={width:t.__width||0,height:e.targetDimension.height};e.dockPanel.top&&(i.height-=e.dockPanel.top.__height,i.top=e.dockPanel.top.__height,e.dockPanel.top.split)&&(i.height-=e.splitter.size,i.top+=e.splitter.size),e.dockPanel.bottom&&(i.height-=e.dockPanel.bottom.__height,e.dockPanel.bottom.split)&&(i.height-=e.splitter.size),t.$target.css(i),t.split&&t.$splitter.css({width:e.splitter.size,height:i.height,top:i.top,right:i.width})},center:function(e,t){var i={width:e.targetDimension.width,height:e.targetDimension.height},n=(e.dockPanel.top&&(i.height-=e.dockPanel.top.__height||0,i.top=e.dockPanel.top.__height||0,e.dockPanel.top.split)&&(i.height-=e.splitter.size,i.top+=e.splitter.size),e.dockPanel.bottom&&(i.height-=e.dockPanel.bottom.__height||0,e.dockPanel.bottom.split)&&(i.height-=e.splitter.size),e.dockPanel.left&&(i.width-=e.dockPanel.left.__width||0,i.left=e.dockPanel.left.__width||0,e.dockPanel.left.split)&&(i.width-=e.splitter.size,i.left+=e.splitter.size),e.dockPanel.right&&(i.width-=e.dockPanel.right.__width||0,e.dockPanel.right.split)&&(i.width-=e.splitter.size),t.minWidth||0),o=t.minHeight||0;i.width<n&&e.$target.css({minWidth:(i.width=n)+p(e.dockPanel.left,e.splitter.size)+p(e.dockPanel.right,e.splitter.size)}),i.height<o&&e.$target.css({minHeight:(i.height=o)+f(e.dockPanel.top,e.splitter.size)+f(e.dockPanel.bottom,e.splitter.size)}),t.$target.css(i)},split:{horizontal:function(e,t,i,n,o){var a={display:"block"},i=i?Number(e.splitPanel[i-1].offsetEnd):0;t.splitter?a.height=e.splitter.size:a.height="*"!=t.height||void 0!==t.__height&&!o?t.__height||0:t.__height=(e.targetDimension.height-n)/e.splitPanel.asteriskLength,t.offsetStart=a.top=i,t.offsetEnd=Number(i)+Number(a.height),t.$target.css(a)},vertical:function(e,t,i,n,o){var a={display:"block"},i=i?Number(e.splitPanel[i-1].offsetEnd):0;t.splitter?a.width=e.splitter.size:a.width="*"!=t.width||void 0!==t.__width&&!o?t.__width||0:t.__width=(e.targetDimension.width-n)/e.splitPanel.asteriskLength,t.offsetStart=a.left=i,t.offsetEnd=Number(i)+Number(a.width),t.$target.css(a)}}},o={"dock-panel":function(e){for(var t in e.dockPanel)e.dockPanel[t].$target&&e.dockPanel[t].$target.get(0)&&t in l&&l[t].call(this,e,e.dockPanel[t])},"split-panel":function(i,n){var o;i.splitPanel.asteriskLength=0,i.splitPanel.forEach(function(e,t){s.split[i.orientation].call(this,i,e,t)}),o="horizontal"==i.orientation?w.sum(i.splitPanel,function(e){if("*"!=e.height)return w.number(e.__height)}):w.sum(i.splitPanel,function(e){if("*"!=e.width)return w.number(e.__width)}),i.splitPanel.forEach(function(e,t){l.split[i.orientation].call(this,i,e,t,o,n)})}},function(e,t,i){e=this.queue[e];e.targetDimension={height:e.$target.innerHeight(),width:e.$target.innerWidth()},e.layout in o&&o[e.layout].call(this,e,i),e.childQueIdxs&&function(e){for(var t=e.childQueIdxs.length;t--;)g.call(this,e.childQueIdxs[t])}.call(this,e,i),e.onResize&&setTimeout(function(){this.onResize.call(this,this)}.bind(e),1),t&&t.call(e,e)}),m={on:function(t,a,i){var r=this.queue[t],n=i.position(),o={width:i.width(),height:i.height()},s={left:function(e){var e="changedTouches"in e.originalEvent&&e.changedTouches?e.originalEvent.changedTouches[0]:e,e=(a.__da=e.clientX-a.mousePosition.clientX,a.minWidth||0),t=a.maxWidth||r.targetDimension.width-p(r,r.dockPanel.left)-p(r,r.dockPanel.right);return a.__width+a.__da<e?a.__da=-a.__width+e:t<a.__width+a.__da&&(a.__da=t-a.__width),{left:a.$splitter.position().left+a.__da}},right:function(e){var e="changedTouches"in e.originalEvent&&e.changedTouches?e.originalEvent.changedTouches[0]:e,e=(a.__da=e.clientX-a.mousePosition.clientX,a.minWidth||0),t=a.maxWidth||r.targetDimension.width-p(r,r.dockPanel.left)-p(r,r.dockPanel.right);return a.__width-a.__da<e?a.__da=a.__width-e:t<a.__width-a.__da&&(a.__da=-t+a.__width),{left:a.$splitter.position().left+a.__da}},top:function(e){var e="changedTouches"in e.originalEvent&&e.changedTouches?e.originalEvent.changedTouches[0]:e,e=(a.__da=e.clientY-a.mousePosition.clientY,a.minHeight||0),t=a.maxHeight||r.targetDimension.height-f(r,r.dockPanel.top)-f(r,r.dockPanel.bottom);return a.__height+a.__da<e?a.__da=-a.__height+e:t<a.__height+a.__da&&(a.__da=t-a.__height),{top:a.$splitter.position().top+a.__da}},bottom:function(e){var e="changedTouches"in e.originalEvent&&e.changedTouches?e.originalEvent.changedTouches[0]:e,e=(a.__da=e.clientY-a.mousePosition.clientY,a.minHeight||0),t=a.maxHeight||r.targetDimension.height-f(r,r.dockPanel.top)-f(r,r.dockPanel.bottom);return a.__height-a.__da<e?a.__da=a.__height-e:t<a.__height-a.__da&&(a.__da=-t+a.__height),{top:a.$splitter.position().top+a.__da}},split:function(e){var t,i,n,o,e="changedTouches"in e.originalEvent&&e.changedTouches?e.originalEvent.changedTouches[0]:e;return"horizontal"==r.orientation?(a.__da=e.clientY-a.mousePosition.clientY,t=r.splitPanel[a.panelIndex-1],i=r.splitPanel[a.panelIndex+1],n=t.minHeight||0,o=i.minHeight||0,a.offsetStart+a.__da<t.offsetStart+n?a.__da=t.offsetStart-a.offsetStart+n:i.offsetEnd-o<a.offsetStart+a.__da&&(a.__da=i.offsetEnd-a.offsetEnd-o),{top:a.$target.position().top+a.__da}):(a.__da=e.clientX-a.mousePosition.clientX,t=r.splitPanel[a.panelIndex-1],i=r.splitPanel[a.panelIndex+1],n=t.minWidth||0,o=i.minWidth||0,a.offsetStart+a.__da<t.offsetStart+n?a.__da=t.offsetStart-a.offsetStart+n:i.offsetEnd-o<a.offsetStart+a.__da&&(a.__da=i.offsetEnd-a.offsetEnd-o),{left:Number(a.$target.position().left)+Number(a.__da)})}};a.__da=0,jQuery(document.body).bind(h.mousemove+".ax5layout-"+this.instanceId,function(e){u.resizer||(u.resizer=jQuery('<div class="ax5layout-resizer panel-'+a.resizerType+'" ondragstart="return false;"></div>'),u.resizer.css({left:n.left,top:n.top,width:o.width,height:o.height}),r.$target.append(u.resizer)),u.resizer.css(s[a.resizerType](e))}).bind(h.mouseup+".ax5layout-"+this.instanceId,function(e){m.off.call(u,t,a,i)}).bind("mouseleave.ax5layout-"+this.instanceId,function(e){m.off.call(u,t,a,i)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(e,t,i){var n=this.queue[e],o={"dock-panel":{left:function(e,t){t.__width+=t.__da},right:function(){t.__width-=t.__da},top:function(){t.__height+=t.__da},bottom:function(){t.__height-=t.__da}},"split-panel":{split:function(){"horizontal"==n.orientation?(n.splitPanel[t.panelIndex-1].__height+=t.__da,n.splitPanel[t.panelIndex+1].__height-=t.__da):(n.splitPanel[t.panelIndex-1].__width+=t.__da,n.splitPanel[t.panelIndex+1].__width-=t.__da)}},"tab-panel":{}};u.resizer&&(u.resizer.remove(),u.resizer=null,o[this.queue[e].layout][t.resizerType].call(this,e,t),g.call(this,e)),jQuery(document.body).unbind(h.mousemove+".ax5layout-"+this.instanceId).unbind(h.mouseup+".ax5layout-"+this.instanceId).unbind("mouseleave.ax5layout-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},v={open:function(e,t,i){t.activePanelIndex!=i&&(t.tabPanel[i].active=!0,t.tabPanel[t.activePanelIndex].active=!1,t.$target.find('[data-tab-panel-label="'+i+'"]').attr("data-tab-active","true"),t.$target.find('[data-tab-panel-label="'+t.activePanelIndex+'"]').removeAttr("data-tab-active"),t.tabPanel[i].$target.attr("data-tab-active","true"),t.tabPanel[t.activePanelIndex].$target.removeAttr("data-tab-active"),t.activePanelIndex=i,t.onOpenTab)&&(i={$target:t.$target,name:t.name,id:t.id,layout:t.layout,activePanelIndex:t.activePanelIndex,activePanel:t.tabPanel[t.activePanelIndex],tabPanel:t.tabPanel},t.onOpenTab.call(i))}},x=(n={"dock-panel":function(i){var n=this.queue[i];n.dockPanel={},n.$target.find(">[data-dock-panel]").each(function(){var e,t={};e=w.parseJson(this.getAttribute("data-dock-panel"),!0),"dock"in(t=w.isObject(e)&&!e.error?jQuery.extend(!0,t,e):t)&&(t.$target=jQuery(this),t.$target.addClass("dock-panel-"+t.dock),(t.split=t.split&&"true"==t.split.toString())&&(t.$splitter=jQuery('<div data-splitter="" class="dock-panel-'+t.dock+'"></div>'),t.$splitter.bind(h.mousedown,function(e){t.mousePosition=a(e),m.on.call(u,i,t,t.$splitter)}).bind("dragstart",function(e){return w.stopEvent(e),!1}),n.$target.append(t.$splitter)),"top"==t.dock||"bottom"==t.dock?t.__height=r(t.height,n.targetDimension.height):t.__width=r(t.width,n.targetDimension.width),t.resizerType=t.dock,n.dockPanel[t.dock]=t)})},"split-panel":function(n){var o=this.queue[n];o.splitPanel=[],o.$target.find(">[data-split-panel], >[data-splitter]").each(function(e){var t,i={};t=w.parseJson(this.getAttribute("data-split-panel")||this.getAttribute("data-splitter"),!0),(i=w.isObject(t)&&!t.error?jQuery.extend(!0,i,t):i).$target=jQuery(this),i.$target.addClass("split-panel-"+o.orientation),i.panelIndex=e,this.getAttribute("data-splitter")?(i.splitter=!0,i.$target.bind(h.mousedown,function(e){0<i.panelIndex&&i.panelIndex<o.splitPanel.length-1&&(i.mousePosition=a(e),m.on.call(u,n,i,i.$target))}).bind("dragstart",function(e){return w.stopEvent(e),!1}),i.resizerType="split"):"horizontal"==o.orientation?i.__height=r(i.height,o.targetDimension.height):(o.orientation="vertical",i.__width=r(i.width,o.targetDimension.width)),o.splitPanel.push(i)})},"tab-panel":function(i){var n=this.queue[i],o=!1;n.tabPanel=[],n.$target.find(">[data-tab-panel]").each(function(e){var t,i={};t=w.parseJson(this.getAttribute("data-tab-panel"),!0),w.isObject(t)&&!t.error&&(i=jQuery.extend(!0,i,t)),o&&(i.active=!1),i.$target=jQuery(this),i.active&&"false"!=i.active&&(o=!0,n.activePanelIndex=e,i.$target.attr("data-tab-active","true")),i.panelIndex=e,n.tabPanel.push(i)}),o||(n.tabPanel[0].active=!0,n.tabPanel[0].$target.attr("data-tab-active","true"),n.activePanelIndex=0),n.$target.append(jQuery(ax5.mustache.render(function(){return'\n<div data-tab-panel-label-holder="{{id}}">\n    <div data-tab-panel-label-border="{{id}}"></div>\n    <div data-tab-panel-label-table="{{id}}">\n        <div data-tab-panel-aside="left"></div>\n    {{#tabPanel}}\n        <div data-tab-panel-label="{{panelIndex}}" data-tab-active="{{active}}">\n            <div data-tab-label="{{panelIndex}}">{{{label}}}</div>\n        </div>\n    {{/tabPanel}}\n        <div data-tab-panel-aside="right"></div>\n    </div>\n</div>\n'}.call(this,i),n))),n.$target.on("click","[data-tab-panel-label]",function(e){var t=this.getAttribute("data-tab-panel-label");v.open.call(u,i,n,t)})}},function(e){var t=this.queue[e];t.targetDimension={height:t.$target.innerHeight(),width:t.$target.innerWidth()},t.$target.parents("[data-ax5layout]").get(0)&&b.call(this,t.$target.parents("[data-ax5layout]").get(0),e),t.layout in n&&n[t.layout].call(this,e),g.call(this,e)}),y=function(e){return w.isString(e)||(e=jQuery(e).data("data-ax5layout-id")),w.isString(e)?w.search(this.queue,function(){return this.id==e}):-1},b=function(e,t){e=w.isNumber(e)?e:y.call(this,e);this.queue[e].childQueIdxs||(this.queue[e].childQueIdxs=[]),this.queue[e].childQueIdxs.push(t),this.queue[t].parentQueIdx=e};this.init=function(){this.onStateChanged=i.onStateChanged,this.onClick=i.onClick,jQuery(window).bind("resize.ax5layout-"+this.instanceId,function(){!function(){for(var e=this.queue.length;e--;)void 0===this.queue[e].parentQueIdx&&this.queue[e].autoResize&&g.call(this,e,null,"windowResize")}.call(this)}.bind(this))},this.bind=function(e){var t;return(e=jQuery.extend(!0,{},i,e)).target?(e.$target=jQuery(e.target),e.id||(e.id=e.$target.data("data-ax5layout-id")),e.id||(e.id="ax5layout-"+ax5.getGuid(),e.$target.data("data-ax5layout-id",e.id)),e.name=e.$target.attr("data-ax5layout"),e.options&&(e.options=JSON.parse(JSON.stringify(e.options))),t=w.parseJson(e.$target.attr("data-config"),!0),w.isObject(t)&&!t.error&&(e=jQuery.extend(!0,e,t)),-1===(t=w.search(this.queue,function(){return this.id==e.id}))?(this.queue.push(e),x.call(this,this.queue.length-1)):(this.queue[t]=jQuery.extend(!0,{},this.queue[t],e),x.call(this,t)),0):console.log(ax5.info.getError("ax5layout","401","bind")),this},this.align=function(e,t){e=w.isNumber(e)?e:y.call(this,e);if(-1===e)for(var i=this.queue.length;i--;)g.call(this,i,null,t);else g.call(this,e,null,t);return this},this.onResize=function(e,t){e=w.isNumber(e)?e:y.call(this,e);if(-1!==e)return this.queue[e].onResize=t,this;console.log(ax5.info.getError("ax5layout","402","onResize"))},this.resize=(d={"dock-panel":function(t,i){["top","bottom","left","right"].forEach(function(e){i[e]&&t.dockPanel[e]&&("top"==e||"bottom"==e?t.dockPanel[e].__height=w.isObject(i[e])?i[e].height:i[e]:"left"!=e&&"right"!=e||(t.dockPanel[e].__width=w.isObject(i[e])?i[e].width:i[e]))})},"split-panel":function(){},"tab-panel":function(){}},function(e,t,i){e=w.isNumber(e)?e:y.call(this,e);if(-1===e)for(var n=this.queue.length;n--;)d[this.queue[n].layout].call(this,this.queue[n],t),g.call(this,n,i);else this.queue[e]&&(d[this.queue[e].layout].call(this,this.queue[e],t),g.call(this,e,i));return this}),this.reset=(c={"dock-panel":function(t){["top","bottom","left","right"].forEach(function(e){t.dockPanel[e]&&("top"==e||"bottom"==e?t.dockPanel[e].__height=t.dockPanel[e].height:"left"!=e&&"right"!=e||(t.dockPanel[e].__width=t.dockPanel[e].width))})},"split-panel":function(t){t.splitPanel.forEach(function(e){"vertical"==t.orientation?e.__width=r(e.width,t.targetDimension.width):"horizontal"==t.orientation&&(e.__height=r(e.height,t.targetDimension.height))})},"tab-panel":function(){}},function(e,t){e=w.isNumber(e)?e:y.call(this,e);return-1!==e&&(c[this.queue[e].layout].call(this,this.queue[e]),g.call(this,e,t)),this}),this.hide=function(){},this.tabOpen=function(e,t){e=w.isNumber(e)?e:y.call(this,e);if(-1!==e)return v.open.call(this,e,this.queue[e],t),this;console.log(ax5.info.getError("ax5layout","402","tabOpen"))},this.getActiveTab=function(e){e=w.isNumber(e)?e:y.call(this,e);if(-1!==e)return void 0!==this.queue[e].activePanelIndex?this.queue[e].tabPanel[this.queue[e].activePanelIndex]:void 0;console.log(ax5.info.getError("ax5layout","402","tabOpen"))},this.main=function(){arguments&&w.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)})}(),ax5.ui.layout_instance=new ax5.ui.layout,jQuery.fn.ax5layout=function(e){if(ax5.util.isString(arguments[0]))switch(arguments[0]){case"align":return ax5.ui.layout_instance.align(this,arguments[1]);case"resize":return ax5.ui.layout_instance.resize(this,arguments[1],arguments[2]);case"reset":return ax5.ui.layout_instance.reset(this,arguments[1]);case"hide":return ax5.ui.layout_instance.hide(this,arguments[1]);case"onResize":return ax5.ui.layout_instance.onResize(this,arguments[1]);case"tabOpen":return ax5.ui.layout_instance.tabOpen(this,arguments[1]);case"getActiveTab":return ax5.ui.layout_instance.getActiveTab(this,arguments[1]);default:return this}else void 0===e&&(e={}),jQuery.each(this,function(){e=jQuery.extend({},e,{target:this}),ax5.ui.layout_instance.bind(e)});return this},!function(){var e=ax5.ui,t=ax5.util;e.addClass({className:"binder"},function(){function p(e){var t;return null!=e&&e==e.window?t="window":e&&1==e.nodeType?t="element":e&&11==e.nodeType?t="fragment":void 0===e?t="undefined":"[object Object]"==i.call(e)?t="object":"[object Array]"==i.call(e)?t="array":"[object String]"==i.call(e)?t="string":"[object Number]"==i.call(e)?t="number":"[object NodeList]"==i.call(e)?t="nodelist":"function"==typeof e&&(t="function"),t}function f(e,t,i){return e+"["+t+"]"+("."==i?"":"."+i)}function g(e){var t=[];return[].concat(e.split(/[\.\[\]]/g)).forEach(function(e){""!==e&&t.push('["'+e.replace(/['\"]/g,"")+'"]')}),t.join("")}this.instanceId=ax5.getGuid(),this.config={},this.config,this.model={},this.tmpl={},this.view_target=null,this.change_trigger={},this.click_trigger={},this.update_trigger={},this.onerror=null;var i=Object.prototype.toString;this.setModel=function(e,t){return this.model=e,!this.view_target&&t?(this.view_target=t,this._binding()):this._binding("update"),this},this.set=function(e,t){var i,n,o,a=this;if(Function("val","this"+g(e)+" = val;").call(this.model,t),"object"==(i=p(t)))for(var r in t)this.set(e+"."+r,t[r]);else if("array"==i)for(this.view_target.find('[data-ax-path="'+e+'"]').each(function(){"checkbox"!=(o=(this.type||"").toLowerCase())&&"radio"!=o||a.set_els_value(this,this.tagName.toLowerCase(),o,t,e,"change")}),n=t.length;n--;)this.set(e+"["+n+"]",t[n]);else this.view_target.find('[data-ax-path="'+e+'"]').each(function(){a.set_els_value(this,this.tagName.toLowerCase(),(this.type||"").toLowerCase(),t,e,"change")});return this},this.get=function(e){return void 0===e?this.model:Function("","return this"+g(e)+";").call(this.model)},this.onChange=function(e,t){return this.change_trigger[e||"*"]=t,this},this.onClick=function(e,t){return this.click_trigger[e]=t,this},this.add=function(e,t){var i,n=Function("","return this"+g(e)+";").call(this.model),o=this.tmpl[e];for(i in t["@i"]=n.length,t["@r"]=n.length,t.__ADDED__=!0,Function("val","this"+g(e)+".push(val);").call(this.model,t),o){var a=$(ax5.mustache.render(o[i].content,t));a.attr("data-ax-repeat-path",e),a.attr("data-ax-repeat-i",t["@i"]),this.bind_event_tmpl(a,e),o[i].container.append(a)}this.change("*");var r=this.update_trigger[e];return r&&r.call(r={repeat_path:e,tmpl:o,list:n},r),this},this.remove=function(e,t){var i,n=Function("","return this"+g(e)+";").call(this.model),o=this.tmpl[e];for(i in n[t=void 0===t?n.length-1:t].__ADDED__?n.splice(t,1):n[t].__DELETED__=!0,o)o[i].container.empty(),this.print_tmpl(e,o[i]);this.change("*");var t=this.update_trigger[e];return t&&t.call(t={repeat_path:e,tmpl:o,list:n},t),this},this.update=function(e,t,i){var n,o=Function("","return this"+g(e)+";").call(this.model),a=this.tmpl[e];for(n in void 0!==t&&i&&o.splice(t,1,i),a)a[n].container.empty(),this.print_tmpl(e,a[n]);this.change("*");t=this.update_trigger[e];return t&&t.call(i={repeat_path:e,tmpl:a,list:o},i),this},this.childAdd=function(e,t,i,n){var o=Function("","return this"+g(e)+";").call(this.model),i=Function("","return this"+g(e)+"["+t+"]."+i+";").call(this.model);n.__ADDED__=!0,i.push(n),this.update(e,t,o[t])},this.childRemove=function(e,t,i,n){var o=Function("","return this"+g(e)+";").call(this.model),i=Function("","return this"+g(e)+"["+t+"]."+i+";").call(this.model);i[n].__ADDED__?i.splice(n,1):i[n].__DELETED__=!0,this.update(e,t,o[t])},this.childUpdate=function(e,t,i,n,o){var a=Function("","return this"+g(e)+";").call(this.model);Function("","return this"+g(e)+"["+t+"]."+i+";").call(this.model)[n]=o,this.update(e,t,a[t])},this.childSet=function(e,t,i,n){var o=this;return Function("val","this"+g(e)+"["+t+"]."+i+" = val;").call(this.model,n),this.view_target.find('[data-ax-repeat="'+e+'"]').find('[data-ax-repeat-i="'+t+'"]').find('[data-ax-item-path="'+i+'"]').each(function(){o.set_els_value(this,this.tagName.toLowerCase(),(this.type||"").toLowerCase(),n,e+"["+t+"]."+i)}),this},this.onUpdate=function(e,t){return this.update_trigger[e]=t,this},this._binding=function(e){var t,i,n,l=this;for(i in this.view_target.find("[data-ax-path]").each(function(){var e,t=$(this).attr("data-ax-path"),i=(this.type||"").toLowerCase();try{e=Function("","return this"+g(t)+";").call(l.model)}catch(e){l.onerror&&l.onerror("not found target [model."+g(t)+"]")}l.set_els_value(this,this.tagName.toLowerCase(),i,e||"",t)}),void 0===e?this.view_target.find("[data-ax-repeat]").each(function(){var e=$(this),t=e.attr("data-ax-repeat"),i=e.attr("data-ax-repeat-idx");void 0===l.tmpl[t]&&(l.tmpl[t]={}),void 0!==i?l.tmpl[t][i]={container:e,content:e.find("script").html()}:l.tmpl[t][0]={container:e,content:e.find("script").html()},e.empty()}):this.view_target.find("[data-ax-repeat]").each(function(){$(this).empty().show()}),this.view_target.find("[data-ax-path]").off("change.axbinder").on("change.axbinder",function(e){var t,i=!1,n=[],e=$(e.target),o=e.attr("data-ax-path"),a=Function("","return this"+g(o)+";").call(l.model),r=(this.type||"").toLowerCase(),s=p(a),s="object"!=s&&"array"!=s?!0:!1;if("checkbox"==r){if(1<l.view_target.find('[data-ax-path="'+o+'"]').length){for(t=(a="array"!=p(a)?void 0===a||""==a?[]:[].concat(a):a).length,i=!1,r=this.checked;t--;)a[t]==this.value&&(i=!0);if(r)i||a.push(this.value);else{for(t=a.length;t--;)a[t]!=this.value&&n.push(a[t]);a=n}}else a=this.checked?this.value:"";Function("val","this"+g(o)+" = val;").call(l.model,a),l.change(o,{el:this,jquery:e,tagname:this.tagName.toLowerCase(),value:a})}else s&&(Function("val","this"+g(o)+" = val;").call(l.model,this.value),l.change(o,{el:this,jquery:e,tagname:this.tagName.toLowerCase(),value:this.value}));e.data("changedTime",(new Date).getTime())}),l.tmpl){for(var o in l.tmpl[i])this.print_tmpl(i,l.tmpl[i][o],"isInit");(t=this.update_trigger[i])&&(n={repeat_path:i,tmpl:l.tmpl[i],list:Function("","return this."+i+";").call(this.model)},t.call(n,n))}},this.set_els_value=function(e,t,i,n,o,a){var r;if(n=void 0===n?[]:[].concat(n),"input"==t)if("checkbox"==i||"radio"==i){var s=n.length,l=!1;try{if(0<s)for(;s--;)void 0!==n[s]&&e.value===n[s].toString()&&(l=!0)}catch(e){console.log(e)}e.checked=l}else e.value=n.join("");else if("select"==t){s=(r=e.options).length;for(var d,c=!1;s--;){for(d=n.length;d--;)if(void 0!==n[d]&&r[s].value===n[d].toString()){c=r[s].selected=!0;break}if(c)break}c||(r[0]?(r[0].selected=!0,Function("val","this"+g(o)+" = val;").call(this.model,r[0].value)):Function("val","this"+g(o)+" = val;").call(this.model,"")),window.AXSelect&&$(void 0!==n&&e).bindSelectSetValue(n[n.length-1])}else"textarea"==t?e.value=n.join("")||"":e.innerText?e.innerText=n.join(""):e.innerHTML=n.join("");return a&&this.change(o,{el:e,tagname:t,value:n}),this},this.change=function(e,t){var i=this.change_trigger[e];i&&i.call(t,t),"*"!=e&&this.change_trigger["*"]&&this.change_trigger["*"].call(t,t)},this.click=function(e,t){e=this.click_trigger[e];e&&e.call(t,t)},this.sync_model=function(){},this.print_tmpl=function(e,t,i){var n=Function("","return this"+g(e)+";").call(this.model);if(n&&"array"==p(n))for(var o=0,a=n.length;o<a;o++){var r,s=n[o];jQuery.isPlainObject(s)?(s["@i"]=o,0===(s["@r"]=o)&&(s["@first"]=!0)):(s={"@i":o,"@value":s},0===o&&(s["@first"]=!0),console.log(s)),s.__DELETED__||((r=$(ax5.mustache.render(t.content,s))).attr("data-ax-repeat-path",e),r.attr("data-ax-repeat-i",s["@i"]),this.bind_event_tmpl(r,e),t.container.append(r))}},this.bind_event_tmpl=function(d,c){var u=this,h=d.attr("data-ax-repeat-i"),n=Function("","return this"+g(c)+";").call(this.model);d.find("[data-ax-repeat-click]").off("click.axbinder").on("click.axbinder",function(e){var t,i,e=ax5.util.findParentNode(e.target,function(e){return e.getAttribute("data-ax-repeat-click")});e&&(t=(i=$(e)).attr("data-ax-repeat-click"),i.attr("data-ax-repeat-path"),i={el:e,jquery:i,tagname:e.tagName.toLowerCase(),value:t,repeat_path:c,item:n[h],item_index:h,item_path:c+"["+h+"]"},u.click(c,i))}),d.find("[data-ax-item-path]").each(function(){var e,t=$(this).attr("data-ax-item-path"),t=f(c,h,t),i=(this.type||"").toLowerCase();try{e=Function("","return this."+t+";").call(u.model)}catch(e){u.onerror&&u.onerror("not found target [model."+t+"]")}u.set_els_value(this,this.tagName.toLowerCase(),i,e||"",t)}),d.find("[data-ax-item-path]").off("change.axbinder").on("change.axbinder",function(e){var t,i=!1,n=[],o=(this.type||"").toLowerCase(),e=$(e.target),a=e.attr("data-ax-item-path"),r=f(c,h,a),s=Function("","return this."+r+";").call(u.model),l=p(s),l="object"!=l&&"array"!=l?!0:!1;if("checkbox"==o){if(1<d.find('[data-ax-item-path="'+a+'"]').length){for(t=(s="array"!=p(s)?void 0===s||""==s?[]:[].concat(s):s).length,i=!1,o=this.checked;t--;)s[t]==this.value&&(i=!0);if(o)i||s.push(this.value);else{for(t=s.length;t--;)s[t]!=this.value&&n.push(s[t]);s=n}}else s=this.checked?this.value:"";Function("val","this."+r+" = val;").call(u.model,s),u.change(r,{el:this,jquery:e,tagname:this.tagName.toLowerCase(),value:s})}else l&&(Function("val","this."+r+" = val;").call(u.model,this.value),u.change(r,{el:this,jquery:e,tagname:this.tagName.toLowerCase(),value:this.value}));e.data("changedTime",(new Date).getTime())}),d.find("[data-ax-item-path]").off("blur.axbinder").on("blur.axbinder",function(e){e=$(e.target);(void 0===e.data("changedTime")||e.data("changedTime")<(new Date).getTime()-10)&&e.trigger("change")})},this.focus=function(e){return this.view_target.find('[data-ax-path="'+e+'"]').focus(),this},this.validate=function(){var s=this,l=[];return this.view_target.find("[data-ax-path]").each(function(){var e,t,i,n=$(this),o=n.attr("data-ax-path"),a=n.attr("data-ax-validate"),r=n.attr("pattern");a&&(t=(e=null==(e=Function("","return this"+g(o)+";").call(s.model))?"":e).toString(),i=!1,"required"==a&&""==t.trim()?i=!0:"pattern"==a?i=!new RegExp(r).test(t):"email"==a?i=!/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(t):!/\D.?/g.test(a)&&t.trim().length<a.number()&&(i=!0),i)&&l.push({type:a,dataPath:o,el:this,jquery:n,value:e})}),this.view_target.find("[data-ax-repeat-path]").each(function(){var e=$(this),a=e.attr("data-ax-repeat-path"),r=e.attr("data-ax-repeat-i");e.find("[data-ax-validate]").each(function(){var e,t=$(this),i=t.attr("data-ax-validate"),n=t.attr("data-ax-item-path"),n=Function("","return this"+g(a)+"["+r+"]."+n+";").call(s.model),o=(n=void 0===n?"":n).toString();i&&(e=!1,"required"==i&&""==o.trim()?e=!0:"pattern"==i?e=!new RegExp(pattern).test(o):"email"==i?e=!/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(o):!/\D.?/g.test(i)&&o.trim().length<i.number()&&(e=!0),e)&&l.push({type:i,dataPath:a,el:this,jquery:t,value:n})})}),0<l.length?{error:l}:{}},this.main=function(){arguments&&t.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)})}(),!function(){var e=ax5.ui,T=ax5.util,N=void 0;e.addClass({className:"autocomplete"},function(){function r(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),"changeValue"==t.state&&(e&&e.onChange?e.onChange.call(t,t):this.onChange&&this.onChange.call(t,t)),!(t=e=null)}function s(e){!(e=this.queue[e]).multiple&&e.selected&&0<e.selected.length&&(e.selected=[].concat(e.selected[e.selected.length-1])),e.selected.forEach(function(e,t){e["@index"]=t}),e.$select.html(N.tmpl.get.call(this,"formSelectOptions",{selected:e.selected},e.columnKeys))}function l(e){var t=this.queue[e];t.$displayLabel.find("[data-ax5autocomplete-selected-label]").remove(),t.$displayLabelInput.before(w.call(this,e))}function d(e){if(this.queue[e].disabled)return this;this.queue[e].$displayLabel.trigger("focus"),this.queue[e].$displayLabelInput.focus()}function a(e){this.queue[e].$displayLabelInput.val("")}function n(e){this.queue[e].$displayLabel.trigger("blur")}function c(e,r){if(-1==this.activeautocompleteQueueIndex)return this;r=r.replace(/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi,""),this.queue[e].waitOptions=!0,this.queue[e].onSearch.call({self:this,item:this.queue[e],searchWord:r},function(e){var i,t,n,o={},a=this.queue[this.activeautocompleteQueueIndex];if(!a)return!1;i=a,n={},(t=e).options.forEach(function(e,t){e["@index"]=t,e["@findex"]=t,n[e[i.columnKeys.optionValue]]=e}),T.isArray(i.selected)&&i.selected.forEach(function(e){n[e[i.columnKeys.optionValue]]&&(t.options[n[e[i.columnKeys.optionValue]]["@index"]][i.columnKeys.optionSelected]=!0)}),a.options=e.options,y.call(this),o.id=a.id,o.theme=a.theme,o.size="ax5autocomplete-option-group-"+a.size,o.multiple=a.multiple,o.lang=a.lang,o.options=a.options,this.activeautocompleteOptionGroup.find('[data-els="content"]').html(N.tmpl.get.call(this,"options",o,a.columnKeys)),C.call(this,this.activeautocompleteQueueIndex,r),b.call(this),setTimeout(function(){b.call(this)}.bind(this))}.bind(this))}function u(e){if(e instanceof jQuery?e=e.data("data-ax5autocomplete-id"):T.isString(e)||(e=jQuery(e).data("data-ax5autocomplete-id")),T.isString(e))return T.search(this.queue,function(){return this.id==e});console.log(ax5.info.getError("ax5autocomplete","402","getQueIdx"))}function h(e,t,i){return void 0===i?!e.multiple||!t:i}function p(e){this.queue[e].options.forEach(function(e){e.optgroup?e.options.forEach(function(e){e.selected=!1}):e.selected=!1}),this.queue[e].selected=[],this.queue[e].$select.html(N.tmpl.get.call(this,"formSelectOptions",{selected:this.queue[e].selected},this.queue[e].columnKeys))}var f,g,m=this,v=(this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,removeIcon:"X",lang:{noSelected:"",noOptions:"no options",loading:"Now Processing"},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}},this.queue=[],this.activeautocompleteOptionGroup=null,this.activeautocompleteQueueIndex=-1,this.openTimer=null,this.closeTimer=null,this.waitOptionsCallback=null,this.keyUpTimer=null,f=this.config,jQuery(window)),x={18:"KEY_ALT",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},y=function(){for(var e=this.queue.length;e--;){var t,i,n,o=this.queue[e];o.$display&&(n=Math.max(o.$select.outerWidth(),T.number(o.minWidth)),o.$display.css({"min-width":n}),o.reset&&o.$display.find(".addon-icon-reset").css({"line-height":this.queue[e].$display.height()+"px"}),o.multiple)&&(t=function(){return T.number(o.$display.css("border-top-width"))+T.number(o.$display.css("border-bottom-width"))}.call(this),o.$target.height(""),o.$display.height(""),i=o.$displayTable.outerHeight(),Math.abs(i-o.$target.height())>=t)&&(o.$target.css({height:i+t+4}),o.$display.css({height:i+t+4}))}return n=e=null,this},b=function(e){var t,i,n,o,a;return(!e||this.activeautocompleteOptionGroup)&&(t=this.queue[this.activeautocompleteQueueIndex],i={},n={},o={},t)?(e&&jQuery(document.body).append(this.activeautocompleteOptionGroup),i=t.$target.offset(),n={width:t.$target.outerWidth(),height:t.$target.outerHeight()},o={winWidth:Math.max(v.width(),jQuery(document.body).width()),winHeight:Math.max(v.height(),jQuery(document.body).height()),width:this.activeautocompleteOptionGroup.outerWidth(),height:this.activeautocompleteOptionGroup.outerHeight()},t.direction&&""!==t.direction&&"auto"!==t.direction?a=t.direction:(a="top",i.top-o.height<0?a="top":i.top+n.height+o.height+0>o.winHeight&&(a="bottom")),e&&this.activeautocompleteOptionGroup.addClass("direction-"+a),void this.activeautocompleteOptionGroup.css(function(){var e;return"top"==a?i.top+n.height+o.height+0>o.winHeight?(e=i.top+o.height,{left:i.left,top:e=(e=o.winHeight<e+o.height+0?0:e)<0?0:e,width:n.width}):{left:i.left,top:i.top+n.height+1,width:n.width}:"bottom"==a?{left:i.left,top:i.top-o.height-1,width:n.width}:void 0}.call(this))):this},w=function(e){var e=this.queue[e],t={};return t.id=e.id,t.theme=e.theme,t.size="ax5autocomplete-option-group-"+e.size,t.multiple=e.multiple,t.lang=e.lang,t.options=e.options,t.selected=e.selected,t.hasSelected=t.selected&&0<t.selected.length,t.removeIcon=e.removeIcon,N.tmpl.get.call(this,"label",t,e.columnKeys)},C=function(e,t){if(-1==this.activeautocompleteQueueIndex)return this;var i,n=[],o=-1,a=this.queue[e].options.length-1;if(""!=t){for(;a-o++;){if((""+(i=this.queue[e].options[o]).text).toLowerCase()==t.toLowerCase()){n=[{"@findex":i["@findex"],optionsSort:0}];break}var r=(""+i.text).toLowerCase().search(t.toLowerCase());if(-1<r&&(n.push({"@findex":i["@findex"],optionsSort:r}),2<n.length))break;0}n.sort(function(e,t){return e.optionsSort-t.optionsSort})}n&&0<n.length?k.call(this,e,void 0,n[0]["@findex"]):_.call(this,e)},_=function(e){this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.find("[data-option-focus-index]").removeClass("hover").removeAttr("data-option-selected"),this.queue[e].optionFocusIndex=-1},k=function(e,t,i){var n,o,a,r,s=this.queue[e];if(this.activeautocompleteOptionGroup&&s.options&&0<s.options.length){if(void 0!==i?n=i:-1==(e=-1==s.optionFocusIndex?s.optionSelectedIndex||-1:s.optionFocusIndex)||(n=e+t)<0?n=0:s.optionItemLength-1<n&&(n=s.optionItemLength-1),s.optionFocusIndex=n,s.options[n]&&s.options[n].hide){if(void 0===t)return this;for(;s.options[n].hide;){if((n+=t)<0){n=0;break}if(n>s.optionItemLength-1){n=s.optionItemLength-1;break}}}void 0!==n&&(this.activeautocompleteOptionGroup.find("[data-option-focus-index]").removeClass("hover"),i=this.activeautocompleteOptionGroup.find('[data-option-focus-index="'+n+'"]').addClass("hover"),e=this.activeautocompleteOptionGroup.find('[data-els="content"]'),i.get(0))&&(o=i.outerHeight(),(a=e.innerHeight())+(r=e.scrollTop())<(i=i.position().top+e.scrollTop())+o?e.scrollTop(i+o-a):i<r&&e.scrollTop(i),void 0!==t)&&s.$displayLabelInput.val(s.options[n].text)}},I=(g={selectedIndex:function(e,t,i,n){},removeSelectedIndex:function(e,t,i,n){for(var o=this.queue[e],a={},r=[],s=0,l=0;l<o.selected.length;l++)o.selected[l]["@index"]!=t.removeSelectedIndex.index&&((a={"@index":s,"@findex":s})[o.columnKeys.optionValue]=o.selected[l][o.columnKeys.optionValue],a[o.columnKeys.optionText]=o.selected[l][o.columnKeys.optionText],r.push(a),s++);o.selected=r},optionIndex:function(e,t,i,n){var o=this.queue[e],a={},r=!0;(a={"@index":e=o.selected.length,"@findex":e})[o.columnKeys.optionValue]=o.options[t.optionIndex.index][o.columnKeys.optionValue],a[o.columnKeys.optionText]=o.options[t.optionIndex.index][o.columnKeys.optionText];for(var s=0;s<o.selected.length;s++)o.selected[s][o.columnKeys.optionValue]==a[o.columnKeys.optionValue]&&(r=!1);r&&o.selected.push(a)},arr:function(i,e,n,t){e.forEach(function(e){if(T.isString(e)||T.isNumber(e))g.text.call(m,i,e,n,"justSetValue");else for(var t in g)if(e[t]){g[t].call(m,i,e,n,"justSetValue");break}})},value:function(e,t,i,n){var o,a=this.queue[e],r=T.search(a.options,function(){return this[a.columnKeys.optionValue]==t.value[a.columnKeys.optionValue]});if(-1<r)if(a.options[r][a.columnKeys.optionSelected]=h(a,a.options[r][a.columnKeys.optionSelected],i),a.options[r][a.columnKeys.optionSelected]){for(var s=!0,l=0;l<a.selected.length;l++)if(a.selected[l][f.columnKeys.optionValue]==a.options[r][f.columnKeys.optionValue]){s=!1;break}s&&((o={})[a.columnKeys.optionValue]=a.options[r][a.columnKeys.optionValue],o[a.columnKeys.optionText]=a.options[r][a.columnKeys.optionText],a.selected.push(o))}else{for(var d=[],l=0;l<a.selected.length;l++)a.selected[l][f.columnKeys.optionValue]!=a.options[r][f.columnKeys.optionValue]&&((o={})[a.columnKeys.optionValue]=a.selected[l][a.columnKeys.optionValue],o[a.columnKeys.optionText]=a.selected[l][a.columnKeys.optionText],d.push(o));a.selected=d}else{for(s=!0,l=0;l<a.selected.length;l++)if(a.selected[l][f.columnKeys.optionValue]==t.value[f.columnKeys.optionValue]){s=!1;break}s&&((o={})[a.columnKeys.optionValue]=t.value[f.columnKeys.optionValue],o[a.columnKeys.optionText]=t.value[f.columnKeys.optionText],a.selected.push(o))}},text:function(e,t,i,n){var o,a=this.queue[e],r=T.search(a.options,function(){return this[a.columnKeys.optionText]==t});if(-1<r)if(a.options[r][a.columnKeys.optionSelected]=h(a,a.options[r][a.columnKeys.optionSelected],i),a.options[r][a.columnKeys.optionSelected]){for(var s=!0,l=0;l<a.selected.length;l++)if(a.selected[l][f.columnKeys.optionText]==a.options[r][f.columnKeys.optionText]){s=!1;break}s&&((o={})[a.columnKeys.optionValue]=a.options[r][a.columnKeys.optionValue],o[a.columnKeys.optionText]=a.options[r][a.columnKeys.optionText],a.selected.push(o))}else{for(var d=[],l=0;l<a.selected.length;l++)a.selected[l][f.columnKeys.optionText]!=a.options[r][f.columnKeys.optionText]&&((o={})[a.columnKeys.optionValue]=a.selected[l][a.columnKeys.optionValue],o[a.columnKeys.optionText]=a.selected[l][a.columnKeys.optionText],d.push(o));a.selected=d}else{for(s=!0,l=0;l<a.selected.length;l++)if(a.selected[l][f.columnKeys.optionText]==t){s=!1;break}s&&((o={})[a.columnKeys.optionValue]=t,o[a.columnKeys.optionText]=t,a.selected.push(o))}},clear:function(e){p.call(this,e),_.call(this,e),this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.find("[data-option-index]").attr("data-option-Selected","false"),this.queue[e].optionSelectedIndex=-1}},function(e,t,i,n){var o=T.isNumber(e)?e:u.call(this,e);if(-1!==o){if(void 0===t)throw"error not found value";if(T.isArray(t))g.clear.call(this,o),g.arr.call(this,o,this.queue[o].multiple||0==t.length?t:[t[t.length-1]],i);else if(T.isString(t)||T.isNumber(t))null==t||this.queue[o].multiple||p.call(this,o),g.text.call(this,o,t,i);else if(null===t)g.clear.call(this,o);else for(var a in this.queue[o].multiple||p.call(this,o),g)if(t[a]){g[a].call(this,o,t,i);break}return s.call(this,o),l.call(this,o),d.call(this,o),b.call(this),void 0!==t&&n&&!n.noStateChange&&r.call(this,this.queue[o],{self:this,item:this.queue[o],state:"changeValue",value:this.queue[o].selected}),e=null,this}console.log(ax5.info.getError("ax5autocomplete","402","val"))});this.init=function(){this.onStateChanged=f.onStateChanged,this.onChange=f.onChange,jQuery(window).on("resize.ax5autocomplete-display-"+this.instanceId,function(){y.call(this)}.bind(this))},this.bind=function(n){i=T.debounce(function(e){if(-1==this.activeautocompleteQueueIndex)return this;c.call(m,e,this.queue[e].$displayLabelInput.val())},150),o={click:function(e,t){var i,n=T.findParentNode(t.target,function(e){return e.getAttribute("data-ax5autocomplete-remove")?(i="optionItemRemove",!0):e.getAttribute("data-selected-clear")?(i="clear",!0):void 0});if(n){if("optionItemRemove"===i)return n=n.getAttribute("data-ax5autocomplete-remove-index"),this.queue[e].selected.splice(n,1),s.call(this,e),l.call(this,e),d.call(this,e),y.call(this),b.call(this),T.stopEvent(t),this;"clear"===i&&(I.call(this,e,{clear:!0}),y.call(this),b.call(this))}else m.activeautocompleteQueueIndex==e?-1==this.queue[e].optionFocusIndex&&m.close():d.call(this,e)},keyUp:function(e,t){return t.which==ax5.info.eventKeys.ESC&&-1===this.activeautocompleteQueueIndex?(T.stopEvent(t),this):t.which==ax5.info.eventKeys.TAB?(this.close(),this):(this.activeautocompleteQueueIndex!=e&&this.open(e),void(x[t.which]?T.stopEvent(t):t.which==ax5.info.eventKeys.BACKSPACE&&""==this.queue[e].$displayLabelInput.val()?(this.queue[e].selected.pop(),s.call(this,e),l.call(this,e),d.call(this,e),y.call(this),b.call(this),T.stopEvent(t)):i.call(this,e)))},keyDown:function(e,t){var i;t.which==ax5.info.eventKeys.ESC?(a.call(this,e),this.close(),T.stopEvent(t)):t.which==ax5.info.eventKeys.RETURN?(i=this.queue[e].$displayLabelInput.val(),-1<n.optionFocusIndex?I.call(this,n.id,{optionIndex:{index:n.optionFocusIndex}},void 0,"optionItemClick"):""!=i&&I.call(this,e,i,!0),a.call(this,e),y.call(this),this.close(),T.stopEvent(t)):t.which==ax5.info.eventKeys.DOWN?(k.call(this,e,1),T.stopEvent(t)):t.which==ax5.info.eventKeys.UP&&(k.call(this,e,-1),T.stopEvent(t))},focus:function(e,t){},blur:function(e,t){!function(e){a.call(this,e)}.call(this,e),T.stopEvent(t)},selectChange:function(e,t){I.call(this,e,{value:this.queue[e].$select.val()},!0)}};var i,o,e,t=function(e){var t=this.queue[e],i={};return t.$display?l.call(this,e):(i.instanceId=this.instanceId,i.id=t.id,i.name=t.name,i.theme=t.theme,i.tabIndex=t.tabIndex,i.multiple=t.multiple,i.reset=t.reset,i.label=w.call(this,e),i.formSize=t.size?"input-"+t.size:"",t.$display=jQuery(N.tmpl.get.call(this,"autocompleteDisplay",i,t.columnKeys)),t.$displayTable=t.$display.find('[data-els="display-table"]'),t.$displayLabel=t.$display.find('[data-ax5autocomplete-display="label"]'),t.$displayLabelInput=t.$display.find('[data-ax5autocomplete-display="input"]'),t.$target.find("select").get(0)?(t.$select=t.$target.find("select"),t.$select.attr("tabindex","-1").attr("class","form-control "+i.formSize),i.name&&t.$select.attr("name","name"),t.$select.attr("multiple","multiple")):(t.$select=jQuery(N.tmpl.get.call(this,"formSelect",i,t.columnKeys)),t.$target.append(t.$select)),t.$target.append(t.$display)),y.call(this),t.$display.off("click.ax5autocomplete").on("click.ax5autocomplete",o.click.bind(this,e)),t.$displayLabelInput.off("focus.ax5autocomplete").on("focus.ax5autocomplete",o.focus.bind(this,e)).off("blur.ax5autocomplete").on("blur.ax5autocomplete",o.blur.bind(this,e)).off("keydown.ax5autocomplete").on("keydown.ax5autocomplete",o.keyDown.bind(this,e)).off("keyup.ax5autocomplete").on("keyup.ax5autocomplete",o.keyUp.bind(this,e)),t.$select.off("change.ax5autocomplete").on("change.ax5autocomplete",o.selectChange.bind(this,e)),e=t=i=null,this};return(n=jQuery.extend(!0,{},f,n)).target?(n.$target=jQuery(n.target),n.id||(n.id=n.$target.data("data-ax5autocomplete-id")),n.id||(n.id="ax5autocomplete-"+ax5.getGuid(),n.$target.data("data-ax5autocomplete-id",n.id)),n.name=n.$target.attr("data-ax5autocomplete"),n.options=[],n.selected=[],e=T.parseJson(n.$target.attr("data-ax5autocomplete-config"),!0),T.isObject(e)&&!e.error&&(n=jQuery.extend(!0,n,e)),-1===(e=T.search(this.queue,function(){return this.id==n.id}))?(this.queue.push(n),t.call(this,this.queue.length-1)):(this.queue[e]=jQuery.extend(!0,{},this.queue[e],n),t.call(this,e)),0):console.log(ax5.info.getError("ax5autocomplete","401","bind")),this},this.open=function(e,t){this.waitOptionsCallback=null;var i,n,o=T.isNumber(e)?e:u.call(this,e),e=this.queue[o],a={};return e.$display.attr("disabled")||(this.openTimer&&clearTimeout(this.openTimer),this.activeautocompleteOptionGroup?this.activeautocompleteQueueIndex==o||2<t||(this.close(),this.openTimer=setTimeout(function(){this.open(o,(t||0)+1)}.bind(this),f.animateTime)):(e.optionFocusIndex=-1,e.selected&&0<e.selected.length&&(e.optionSelectedIndex=e.selected[0]["@findex"]),a.id=e.id,a.theme=e.theme,a.size="ax5autocomplete-option-group-"+e.size,a.multiple=e.multiple,a.lang=e.lang,e.$display.attr("data-autocomplete-option-group-opened","true"),a.waitOptions=!0,a.options=[],this.activeautocompleteOptionGroup=jQuery(N.tmpl.get.call(this,"optionGroup",a,e.columnKeys)),this.activeautocompleteOptionGroup.find('[data-els="content"]').html(N.tmpl.get.call(this,"options",a,e.columnKeys)),this.activeautocompleteQueueIndex=o,b.call(this,"append"),jQuery(window).on("resize.ax5autocomplete-"+this.instanceId,function(){b.call(this)}.bind(this)),e.selected&&0<e.selected.length&&(n=this.activeautocompleteOptionGroup.find('[data-option-index="'+e.selected[0]["@index"]+'"]')).get(0)&&(i=n.position().top-this.activeautocompleteOptionGroup.height()/3,this.activeautocompleteOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:i},e.animateTime,"swing",function(){})),jQuery(window).on("click.ax5autocomplete-"+this.instanceId,function(e){e=e||window.event,function(e,t){var i,n;return this.activeautocompleteOptionGroup&&(i=this.queue[this.activeautocompleteQueueIndex],n="display",(t=T.findParentNode(e.target,function(e){return e.getAttribute("data-option-value")?(n="optionItem",!0):i.$target.get(0)==e?(n="display",!0):void 0}))?"optionItem"===n&&(I.call(this,i.id,{optionIndex:{index:t.getAttribute("data-option-index")}},void 0,"optionItemClick"),y.call(this),b.call(this),i.multiple||this.close()):this.close()),this}.call(this,e),T.stopEvent(e)}.bind(this)),r.call(this,e,{self:this,state:"open",item:e}),n=i=a=null)),this},this.setValue=function(e,t){var i,e=T.isNumber(e)?e:u.call(this,e);if(-1!==e)return p.call(this,e),T.isArray(t)?(i=T.map(t,function(){return{value:this}}),I.call(this,e,i,!0,{noStateChange:!0})):T.isObject(t)?I.call(this,e,{value:t},!0,{noStateChange:!0}):l.call(this,e),n.call(this,e),y.call(this),this;console.log(ax5.info.getError("ax5autocomplete","402","val"))},this.setText=function(e,t){e=T.isNumber(e)?e:u.call(this,e);if(-1!==e)return this.queue[e].selected=[],p.call(this,e),I.call(this,e,t,!0,{noStateChange:!0}),n.call(this,e),y.call(this),this;console.log(ax5.info.getError("ax5autocomplete","402","val"))},this.getSelectedOption=function(e){e=T.isNumber(e)?e:u.call(this,e);if(-1!==e)return T.deepCopy(this.queue[e].selected);console.log(ax5.info.getError("ax5autocomplete","402","val"))},this.close=function(e){return this.closeTimer&&clearTimeout(this.closeTimer),this.activeautocompleteOptionGroup&&((e=this.queue[this.activeautocompleteQueueIndex]).optionFocusIndex=-1,e.$display.removeAttr("data-autocomplete-option-group-opened").trigger("focus"),this.activeautocompleteOptionGroup.addClass("destroy"),jQuery(window).off("resize.ax5autocomplete-"+this.instanceId).off("click.ax5autocomplete-"+this.instanceId).off("keyup.ax5autocomplete-"+this.instanceId),this.closeTimer=setTimeout(function(){this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.remove(),this.activeautocompleteOptionGroup=null,this.activeautocompleteQueueIndex=-1,r.call(this,e,{self:this,state:"close"})}.bind(this),f.animateTime),this.waitOptionsCallback=null),this},this.blur=function(e){e=T.isNumber(e)?e:u.call(this,e);if(-1!==e)return n.call(this,e),this;console.log(ax5.info.getError("ax5autocomplete","402","val"))},this.enable=function(e){e=u.call(this,e);return void 0!==e&&(this.queue[e].disable=!1,this.queue[e].$display[0]&&(this.queue[e].$display.removeAttr("disabled"),this.queue[e].$displayLabelInput.removeAttr("disabled")),this.queue[e].$select[0]&&this.queue[e].$select.removeAttr("disabled"),r.call(this,this.queue[e],{self:this,state:"enable"})),this},this.disable=function(e){e=u.call(this,e);return void 0!==e&&(this.queue[e].disable=!0,this.queue[e].$display[0]&&(this.queue[e].$display.attr("disabled","disabled"),this.queue[e].$displayLabelInput.attr("disabled","disabled")),this.queue[e].$select[0]&&this.queue[e].$select.attr("disabled","disabled"),r.call(this,this.queue[e],{self:this,state:"disable"})),this},this.align=function(){return y.call(this),this},this.main=function(){arguments&&T.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)}),N=ax5.ui.autocomplete}(),!function(){var n=ax5.ui.autocomplete;n.tmpl={autocompleteDisplay:function(e){return' \n<input tabindex="-1" type="text" data-input-dummy="" style="display: none;" />\n<div class="form-control {{formSize}} ax5autocomplete-display {{theme}}" \ndata-ax5autocomplete-display="{{id}}" data-ax5autocomplete-instance="{{instanceId}}">\n    <div class="ax5autocomplete-display-table" data-els="display-table">\n        <div data-ax5autocomplete-display="label-holder"> \n        <a {{^tabIndex}}{{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}\n        data-ax5autocomplete-display="label"\n        spellcheck="false"><input type="text"data-ax5autocomplete-display="input" style="border:0px none;" /></a>\n        </div>\n        <div data-ax5autocomplete-display="addon"> \n            {{#multiple}}{{#reset}}\n            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n            {{/reset}}{{/multiple}}\n        </div>\n    </div>\n</a>\n'},formSelect:function(e){return'\n<select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" multiple="multiple"></select>\n'},formSelectOptions:function(e){return'\n{{#selected}}\n<option value="{{'+e.optionValue+'}}" selected="true">{{'+e.optionText+"}}</option>\n{{/selected}}\n"},optionGroup:function(e){return'\n<div class="ax5autocomplete-option-group {{theme}} {{size}}" data-ax5autocomplete-option-group="{{id}}">\n    <div class="ax-autocomplete-body">\n        <div class="ax-autocomplete-option-group-content" data-els="content"></div>\n    </div>\n    <div class="ax-autocomplete-arrow"></div> \n</div>\n'},options:function(e){return'\n{{#waitOptions}}\n    <div class="ax-autocomplete-option-item">\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">\n                    {{{lang.loading}}}\n                </span>\n            </div>\n        </div>\n{{/waitOptions}}\n{{^waitOptions}}\n    {{#options}}\n        {{^hide}}\n        <div class="ax-autocomplete-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+e.optionValue+'}}" {{#'+e.optionSelected+'}}data-option-selected="true"{{/'+e.optionSelected+'}}>\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">{{'+e.optionText+'}}</span>\n            </div>\n        </div>\n        {{/hide}}\n    {{/options}}\n    {{^options}}\n        <div class="ax-autocomplete-option-item">\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">\n                    {{{lang.noOptions}}}\n                </span>\n            </div>\n        </div>\n    {{/options}}\n{{/waitOptions}}\n'},label:function(e){return'{{#selected}}\n<div tabindex="-1" data-ax5autocomplete-selected-label="{{@i}}" data-ax5autocomplete-selected-text="{{text}}">\n<div data-ax5autocomplete-remove="true" data-ax5autocomplete-remove-index="{{@i}}">{{{removeIcon}}}</div>\n<span>{{'+e.optionText+"}}</span>\n</div>{{/selected}}"},get:function(e,t,i){return ax5.mustache.render(n.tmpl[e].call(this,i),t)}}}(),ax5.ui.autocomplete_instance=new ax5.ui.autocomplete,jQuery.fn.ax5autocomplete=function(e){if(ax5.util.isString(arguments[0]))switch(arguments[0]){case"open":return ax5.ui.autocomplete_instance.open(this);case"close":return ax5.ui.autocomplete_instance.close(this);case"setValue":return ax5.ui.autocomplete_instance.setValue(this,arguments[1],arguments[2],arguments[3],arguments[4]||"justSetValue");case"setText":return ax5.ui.autocomplete_instance.setText(this,arguments[1],arguments[2],arguments[3],arguments[4]||"justSetValue");case"getSelectedOption":return ax5.ui.autocomplete_instance.getSelectedOption(this);case"enable":return ax5.ui.autocomplete_instance.enable(this);case"disable":return ax5.ui.autocomplete_instance.disable(this);case"blur":return ax5.ui.autocomplete_instance.blur(this);case"align":return ax5.ui.autocomplete_instance.align(this);default:return this}else void 0===e&&(e={}),jQuery.each(this,function(){e=jQuery.extend({},e,{target:this}),ax5.ui.autocomplete_instance.bind(e)});return this};
//# sourceMappingURL=plugins.min.js.map
